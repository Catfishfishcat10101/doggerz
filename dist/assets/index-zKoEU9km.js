function rT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function t_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ld={exports:{}},qa={},Md={exports:{}},Pe={};var qg;function iT(){if(qg)return Pe;qg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function O(V,G,me){this.props=V,this.context=G,this.refs=H,this.updater=me||L}O.prototype.isReactComponent={},O.prototype.setState=function(V,G){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,G,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=O.prototype;function Z(V,G,me){this.props=V,this.context=G,this.refs=H,this.updater=me||L}var W=Z.prototype=new J;W.constructor=Z,B(W,O.prototype),W.isPureReactComponent=!0;var re=Array.isArray,oe=Object.prototype.hasOwnProperty,fe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(V,G,me){var Ae,Re={},De=null,Me=null;if(G!=null)for(Ae in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(De=""+G.key),G)oe.call(G,Ae)&&!P.hasOwnProperty(Ae)&&(Re[Ae]=G[Ae]);var Fe=arguments.length-2;if(Fe===1)Re.children=me;else if(1<Fe){for(var He=Array(Fe),wt=0;wt<Fe;wt++)He[wt]=arguments[wt+2];Re.children=He}if(V&&V.defaultProps)for(Ae in Fe=V.defaultProps,Fe)Re[Ae]===void 0&&(Re[Ae]=Fe[Ae]);return{$$typeof:n,type:V,key:De,ref:Me,props:Re,_owner:fe.current}}function C(V,G){return{$$typeof:n,type:V.type,key:G,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function b(V){var G={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return G[me]})}var M=/\/+/g;function R(V,G){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):G.toString(36)}function Ue(V,G,me,Ae,Re){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Me=!1;if(V===null)Me=!0;else switch(De){case"string":case"number":Me=!0;break;case"object":switch(V.$$typeof){case n:case e:Me=!0}}if(Me)return Me=V,Re=Re(Me),V=Ae===""?"."+R(Me,0):Ae,re(Re)?(me="",V!=null&&(me=V.replace(M,"$&/")+"/"),Ue(Re,G,me,"",function(wt){return wt})):Re!=null&&(x(Re)&&(Re=C(Re,me+(!Re.key||Me&&Me.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+V)),G.push(Re)),1;if(Me=0,Ae=Ae===""?".":Ae+":",re(V))for(var Fe=0;Fe<V.length;Fe++){De=V[Fe];var He=Ae+R(De,Fe);Me+=Ue(De,G,me,He,Re)}else if(He=S(V),typeof He=="function")for(V=He.call(V),Fe=0;!(De=V.next()).done;)De=De.value,He=Ae+R(De,Fe++),Me+=Ue(De,G,me,He,Re);else if(De==="object")throw G=String(V),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function vt(V,G,me){if(V==null)return V;var Ae=[],Re=0;return Ue(V,Ae,"","",function(De){return G.call(me,De,Re++)}),Ae}function _t(V){if(V._status===-1){var G=V._result;G=G(),G.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=G)}if(V._status===1)return V._result.default;throw V._result}var Be={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ie,ReactCurrentOwner:fe};function le(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:vt,forEach:function(V,G,me){vt(V,function(){G.apply(this,arguments)},me)},count:function(V){var G=0;return vt(V,function(){G++}),G},toArray:function(V){return vt(V,function(G){return G})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Pe.Component=O,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=Z,Pe.StrictMode=i,Pe.Suspense=p,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Pe.act=le,Pe.cloneElement=function(V,G,me){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ae=B({},V.props),Re=V.key,De=V.ref,Me=V._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,Me=fe.current),G.key!==void 0&&(Re=""+G.key),V.type&&V.type.defaultProps)var Fe=V.type.defaultProps;for(He in G)oe.call(G,He)&&!P.hasOwnProperty(He)&&(Ae[He]=G[He]===void 0&&Fe!==void 0?Fe[He]:G[He])}var He=arguments.length-2;if(He===1)Ae.children=me;else if(1<He){Fe=Array(He);for(var wt=0;wt<He;wt++)Fe[wt]=arguments[wt+2];Ae.children=Fe}return{$$typeof:n,type:V.type,key:Re,ref:De,props:Ae,_owner:Me}},Pe.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Pe.createElement=I,Pe.createFactory=function(V){var G=I.bind(null,V);return G.type=V,G},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(V){return{$$typeof:f,render:V}},Pe.isValidElement=x,Pe.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:_t}},Pe.memo=function(V,G){return{$$typeof:y,type:V,compare:G===void 0?null:G}},Pe.startTransition=function(V){var G=ie.transition;ie.transition={};try{V()}finally{ie.transition=G}},Pe.unstable_act=le,Pe.useCallback=function(V,G){return Be.current.useCallback(V,G)},Pe.useContext=function(V){return Be.current.useContext(V)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(V){return Be.current.useDeferredValue(V)},Pe.useEffect=function(V,G){return Be.current.useEffect(V,G)},Pe.useId=function(){return Be.current.useId()},Pe.useImperativeHandle=function(V,G,me){return Be.current.useImperativeHandle(V,G,me)},Pe.useInsertionEffect=function(V,G){return Be.current.useInsertionEffect(V,G)},Pe.useLayoutEffect=function(V,G){return Be.current.useLayoutEffect(V,G)},Pe.useMemo=function(V,G){return Be.current.useMemo(V,G)},Pe.useReducer=function(V,G,me){return Be.current.useReducer(V,G,me)},Pe.useRef=function(V){return Be.current.useRef(V)},Pe.useState=function(V){return Be.current.useState(V)},Pe.useSyncExternalStore=function(V,G,me){return Be.current.useSyncExternalStore(V,G,me)},Pe.useTransition=function(){return Be.current.useTransition()},Pe.version="18.3.1",Pe}var Gg;function $c(){return Gg||(Gg=1,Md.exports=iT()),Md.exports}var Kg;function sT(){if(Kg)return qa;Kg=1;var n=$c(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var w,T={},S=null,L=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(L=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:S,ref:L,props:T,_owner:o.current}}return qa.Fragment=t,qa.jsx=h,qa.jsxs=h,qa}var Qg;function oT(){return Qg||(Qg=1,Ld.exports=sT()),Ld.exports}var N=oT(),ne=$c();const n_=t_(ne),aT=rT({__proto__:null,default:n_},[ne]);var Gu={},Fd={exports:{}},nn={},jd={exports:{}},Ud={};var Xg;function lT(){return Xg||(Xg=1,(function(n){function e(ie,ge){var le=ie.length;ie.push(ge);e:for(;0<le;){var V=le-1>>>1,G=ie[V];if(0<o(G,ge))ie[V]=ge,ie[le]=G,le=V;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ge=ie[0],le=ie.pop();if(le!==ge){ie[0]=le;e:for(var V=0,G=ie.length,me=G>>>1;V<me;){var Ae=2*(V+1)-1,Re=ie[Ae],De=Ae+1,Me=ie[De];if(0>o(Re,le))De<G&&0>o(Me,Re)?(ie[V]=Me,ie[De]=le,V=De):(ie[V]=Re,ie[Ae]=le,V=Ae);else if(De<G&&0>o(Me,le))ie[V]=Me,ie[De]=le,V=De;else break e}}return ge}function o(ie,ge){var le=ie.sortIndex-ge.sortIndex;return le!==0?le:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],w=1,T=null,S=3,L=!1,B=!1,H=!1,O=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ie){for(var ge=t(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=ie)i(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function re(ie){if(H=!1,W(ie),!B)if(t(p)!==null)B=!0,_t(oe);else{var ge=t(y);ge!==null&&Be(re,ge.startTime-ie)}}function oe(ie,ge){B=!1,H&&(H=!1,J(I),I=-1),L=!0;var le=S;try{for(W(ge),T=t(p);T!==null&&(!(T.expirationTime>ge)||ie&&!b());){var V=T.callback;if(typeof V=="function"){T.callback=null,S=T.priorityLevel;var G=V(T.expirationTime<=ge);ge=n.unstable_now(),typeof G=="function"?T.callback=G:T===t(p)&&i(p),W(ge)}else i(p);T=t(p)}if(T!==null)var me=!0;else{var Ae=t(y);Ae!==null&&Be(re,Ae.startTime-ge),me=!1}return me}finally{T=null,S=le,L=!1}}var fe=!1,P=null,I=-1,C=5,x=-1;function b(){return!(n.unstable_now()-x<C)}function M(){if(P!==null){var ie=n.unstable_now();x=ie;var ge=!0;try{ge=P(!0,ie)}finally{ge?R():(fe=!1,P=null)}}else fe=!1}var R;if(typeof Z=="function")R=function(){Z(M)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,vt=Ue.port2;Ue.port1.onmessage=M,R=function(){vt.postMessage(null)}}else R=function(){O(M,0)};function _t(ie){P=ie,fe||(fe=!0,R())}function Be(ie,ge){I=O(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){B||L||(B=!0,_t(oe))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var le=S;S=ge;try{return ie()}finally{S=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=S;S=ie;try{return ge()}finally{S=le}},n.unstable_scheduleCallback=function(ie,ge,le){var V=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?V+le:V):le=V,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=le+G,ie={id:w++,callback:ge,priorityLevel:ie,startTime:le,expirationTime:G,sortIndex:-1},le>V?(ie.sortIndex=le,e(y,ie),t(p)===null&&ie===t(y)&&(H?(J(I),I=-1):H=!0,Be(re,le-V))):(ie.sortIndex=G,e(p,ie),B||L||(B=!0,_t(oe))),ie},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ie){var ge=S;return function(){var le=S;S=ge;try{return ie.apply(this,arguments)}finally{S=le}}}})(Ud)),Ud}var Yg;function uT(){return Yg||(Yg=1,jd.exports=lT()),jd.exports}var Jg;function cT(){if(Jg)return nn;Jg=1;var n=$c(),e=uT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function L(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function B(r,s,a,c){if(s===null||typeof s>"u"||L(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(r,s,a,c,d,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];O[s]=new H(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function Z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(J,Z);O[s]=new H(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(J,Z);O[s]=new H(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(J,Z);O[s]=new H(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,a,c){var d=O.hasOwnProperty(s)?O[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(B(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),fe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,V;function G(r){if(V===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+r}var me=!1;function Ae(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var c=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){c=z}r.call(s.prototype)}else{try{throw Error()}catch(z){c=z}r()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var d=z.stack.split(`
`),g=c.stack.split(`
`),_=d.length-1,A=g.length-1;1<=_&&0<=A&&d[_]!==g[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==g[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==g[A]){var k=`
`+d[_].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=_&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function Re(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case fe:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Ue:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case b:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case vt:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case _t:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(r){var s=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function dr(r){r._valueTracker||(r._valueTracker=wt(r))}function Ns(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=He(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Hr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Mi(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ds(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jo(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function Zo(r,s){Jo(r,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&bs(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Dl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function bs(r,s,a){(s!=="number"||Hr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var fr=Array.isArray;function pr(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ea(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Os(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(fr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Fe(a)}}function Vs(r,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ta(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ht(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ht(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mr,na=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Wr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(r){ji.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fi[s]=Fi[r]})});function ra(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Fi.hasOwnProperty(r)&&Fi[r]?(""+s).trim():s+"px"}function ia(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=ra(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var sa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(r,s){if(s){if(sa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Ls(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,fn=null,Hn=null;function Fs(r){if(r=Na(r)){if(typeof Ms!="function")throw Error(t(280));var s=r.stateNode;s&&(s=lu(s),Ms(r.stateNode,r.type,s))}}function Wn(r){fn?Hn?Hn.push(r):Hn=[r]:fn=r}function la(){if(fn){var r=fn,s=Hn;if(Hn=fn=null,Fs(r),s)for(r=0;r<s.length;r++)Fs(s[r])}}function zi(r,s){return r(s)}function ua(){}var gr=!1;function ca(r,s,a){if(gr)return r(s,a);gr=!0;try{return zi(r,s,a)}finally{gr=!1,(fn!==null||Hn!==null)&&(ua(),la())}}function rt(r,s){var a=r.stateNode;if(a===null)return null;var c=lu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var js=!1;if(f)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){js=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{js=!1}function Bi(r,s,a,c,d,g,_,A,k){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Q){this.onError(Q)}}var $i=!1,Us=null,Rn=!1,ha=null,ch={onError:function(r){$i=!0,Us=r}};function zs(r,s,a,c,d,g,_,A,k){$i=!1,Us=null,Bi.apply(ch,arguments)}function bl(r,s,a,c,d,g,_,A,k){if(zs.apply(this,arguments),$i){if($i){var z=Us;$i=!1,Us=null}else throw Error(t(198));Rn||(Rn=!0,ha=z)}}function Pn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function kn(r){if(Pn(r)!==r)throw Error(t(188))}function Ol(r){var s=r.alternate;if(!s){if(s=Pn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return kn(d),r;if(g===c)return kn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var _=!1,A=d.child;A;){if(A===a){_=!0,a=d,c=g;break}if(A===c){_=!0,c=d,a=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===a){_=!0,a=g,c=d;break}if(A===c){_=!0,c=g,a=d;break}A=A.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function da(r){return r=Ol(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Vl=e.unstable_shouldYield,hh=e.unstable_requestPaint,We=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Ml=e.unstable_IdlePriority,qi=null,sn=null;function Fl(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(qi,r,void 0,(r.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Ul,ma=Math.log,jl=Math.LN2;function Ul(r){return r>>>=0,r===0?32:31-(ma(r)/jl|0)|0}var Hs=64,Ws=4194304;function Gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,_=a&268435455;if(_!==0){var A=_&~d;A!==0?c=Gr(A):(g&=_,g!==0&&(c=Gr(g)))}else _=a&~d,_!==0?c=Gr(_):g!==0&&(c=Gr(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Ht(s),d=1<<a,c|=r[a],s&=~d;return c}function dh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var _=31-Ht(g),A=1<<_,k=d[_];k===-1?((A&a)===0||(A&c)!==0)&&(d[_]=dh(A,s)):k<=s&&(r.expiredLanes|=A),g&=~A}}function on(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ki(){var r=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),r}function Kr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Qr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Ht(s),r[s]=a}function $e(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Ht(a),g=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function Xr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Ht(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Ne=0;function Yr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var zl,qs,Bl,$l,Hl,ga=!1,qn=[],Rt=null,xn=null,Nn=null,Jr=new Map,mn=new Map,Gn=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(r,s){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Jr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(s.pointerId)}}function Qt(r,s,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Na(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function ph(r,s,a,c,d){switch(s){case"focusin":return Rt=Qt(Rt,r,s,a,c,d),!0;case"dragenter":return xn=Qt(xn,r,s,a,c,d),!0;case"mouseover":return Nn=Qt(Nn,r,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Jr.set(g,Qt(Jr.get(g)||null,r,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,mn.set(g,Qt(mn.get(g)||null,r,s,a,c,d)),!0}return!1}function ql(r){var s=Zi(r.target);if(s!==null){var a=Pn(s);if(a!==null){if(s=a.tag,s===13){if(s=Hi(a),s!==null){r.blockedOn=s,Hl(r.priority,function(){Bl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Gs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Ui=c,a.target.dispatchEvent(c),Ui=null}else return s=Na(a),s!==null&&qs(s),r.blockedOn=a,!1;s.shift()}return!0}function Qi(r,s,a){vr(r)&&a.delete(s)}function Gl(){ga=!1,Rt!==null&&vr(Rt)&&(Rt=null),xn!==null&&vr(xn)&&(xn=null),Nn!==null&&vr(Nn)&&(Nn=null),Jr.forEach(Qi),mn.forEach(Qi)}function Dn(r,s){r.blockedOn===s&&(r.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gl)))}function bn(r){function s(d){return Dn(d,r)}if(0<qn.length){Dn(qn[0],r);for(var a=1;a<qn.length;a++){var c=qn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Rt!==null&&Dn(Rt,r),xn!==null&&Dn(xn,r),Nn!==null&&Dn(Nn,r),Jr.forEach(s),mn.forEach(s),a=0;a<Gn.length;a++)c=Gn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)ql(a),a.blockedOn===null&&Gn.shift()}var _r=re.ReactCurrentBatchConfig,Zr=!0;function Xe(r,s,a,c){var d=Ne,g=_r.transition;_r.transition=null;try{Ne=1,ya(r,s,a,c)}finally{Ne=d,_r.transition=g}}function mh(r,s,a,c){var d=Ne,g=_r.transition;_r.transition=null;try{Ne=4,ya(r,s,a,c)}finally{Ne=d,_r.transition=g}}function ya(r,s,a,c){if(Zr){var d=Gs(r,s,a,c);if(d===null)Ch(r,s,c,Xi,a),Wl(r,c);else if(ph(d,r,s,a,c))c.stopPropagation();else if(Wl(r,c),s&4&&-1<fh.indexOf(r)){for(;d!==null;){var g=Na(d);if(g!==null&&zl(g),g=Gs(r,s,a,c),g===null&&Ch(r,s,c,Xi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Ch(r,s,c,null,a)}}var Xi=null;function Gs(r,s,a,c){if(Xi=null,r=Ls(c),r=Zi(r),r!==null)if(s=Pn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Hi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xi=r,null}function va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case Wi:return 1;case qr:return 4;case pn:case pa:return 16;case Ml:return 536870912;default:return 16}default:return 16}}var an=null,Ks=null,Xt=null;function _a(){if(Xt)return Xt;var r,s=Ks,a=s.length,c,d="value"in an?an.value:an.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var _=a-r;for(c=1;c<=_&&s[a-c]===d[g-c];c++);return Xt=d.slice(r,1<c?1-c:void 0)}function Qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kn(){return!0}function wa(){return!1}function Pt(r){function s(a,c,d,g,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kn:wa,this.isPropagationStopped=wa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),s}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Pt(On),Qn=le({},On,{view:0,detail:0}),gh=Pt(Qn),Ys,wr,ei,Yi=le({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ei&&(ei&&r.type==="mousemove"?(Ys=r.screenX-ei.screenX,wr=r.screenY-ei.screenY):wr=Ys=0,ei=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:wr}}),Js=Pt(Yi),Ea=le({},Yi,{dataTransfer:0}),Kl=Pt(Ea),Zs=le({},Qn,{relatedTarget:0}),eo=Pt(Zs),Ql=le({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Pt(Ql),Xl=le({},On,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yl=Pt(Xl),Jl=le({},On,{data:0}),Ta=Pt(Jl),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Zl[r])?!!s[r]:!1}function Xn(){return eu}var u=le({},Qn,{key:function(r){if(r.key){var s=to[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xn,charCode:function(r){return r.type==="keypress"?Qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Pt(u),v=le({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Pt(v),F=le({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xn}),$=Pt(F),te=le({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Pt(te),ft=le({},Yi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Pt(ft),Et=[9,13,27,32],at=f&&"CompositionEvent"in window,gn=null;f&&"documentMode"in document&&(gn=document.documentMode);var ln=f&&"TextEvent"in window&&!gn,Ji=f&&(!at||gn&&8<gn&&11>=gn),no=" ",Up=!1;function zp(r,s){switch(r){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ro=!1;function eE(r,s){switch(r){case"compositionend":return Bp(s);case"keypress":return s.which!==32?null:(Up=!0,no);case"textInput":return r=s.data,r===no&&Up?null:r;default:return null}}function tE(r,s){if(ro)return r==="compositionend"||!at&&zp(r,s)?(r=_a(),Xt=Ks=an=null,ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!nE[r.type]:s==="textarea"}function Hp(r,s,a,c){Wn(c),s=su(s,"onChange"),0<s.length&&(a=new Xs("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ia=null,Sa=null;function rE(r){lm(r,0)}function tu(r){var s=lo(r);if(Ns(s))return r}function iE(r,s){if(r==="change")return s}var Wp=!1;if(f){var yh;if(f){var vh="oninput"in document;if(!vh){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),vh=typeof qp.oninput=="function"}yh=vh}else yh=!1;Wp=yh&&(!document.documentMode||9<document.documentMode)}function Gp(){Ia&&(Ia.detachEvent("onpropertychange",Kp),Sa=Ia=null)}function Kp(r){if(r.propertyName==="value"&&tu(Sa)){var s=[];Hp(s,Sa,r,Ls(r)),ca(rE,s)}}function sE(r,s,a){r==="focusin"?(Gp(),Ia=s,Sa=a,Ia.attachEvent("onpropertychange",Kp)):r==="focusout"&&Gp()}function oE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return tu(Sa)}function aE(r,s){if(r==="click")return tu(s)}function lE(r,s){if(r==="input"||r==="change")return tu(s)}function uE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:uE;function Aa(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!Vn(r[d],s[d]))return!1}return!0}function Qp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Xp(r,s){var a=Qp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function Yp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Yp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jp(){for(var r=window,s=Hr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Hr(r.document)}return s}function _h(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function cE(r){var s=Jp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Yp(a.ownerDocument.documentElement,a)){if(c!==null&&_h(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=Xp(a,g);var _=Xp(a,c);d&&_&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hE=f&&"documentMode"in document&&11>=document.documentMode,io=null,wh=null,Ca=null,Eh=!1;function Zp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eh||io==null||io!==Hr(c)||(c=io,"selectionStart"in c&&_h(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ca&&Aa(Ca,c)||(Ca=c,c=su(wh,"onSelect"),0<c.length&&(s=new Xs("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=io)))}function nu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var so={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Th={},em={};f&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ru(r){if(Th[r])return Th[r];if(!so[r])return r;var s=so[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in em)return Th[r]=s[a];return r}var tm=ru("animationend"),nm=ru("animationiteration"),rm=ru("animationstart"),im=ru("transitionend"),sm=new Map,om="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(r,s){sm.set(r,s),l(s,[r])}for(var Ih=0;Ih<om.length;Ih++){var Sh=om[Ih],dE=Sh.toLowerCase(),fE=Sh[0].toUpperCase()+Sh.slice(1);ti(dE,"on"+fE)}ti(tm,"onAnimationEnd"),ti(nm,"onAnimationIteration"),ti(rm,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(im,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function am(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,bl(c,s,void 0,r),r.currentTarget=null}function lm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var A=c[_],k=A.instance,z=A.currentTarget;if(A=A.listener,k!==g&&d.isPropagationStopped())break e;am(d,A,z),g=k}else for(_=0;_<c.length;_++){if(A=c[_],k=A.instance,z=A.currentTarget,A=A.listener,k!==g&&d.isPropagationStopped())break e;am(d,A,z),g=k}}}if(Rn)throw r=ha,Rn=!1,ha=null,r}function Ge(r,s){var a=s[Dh];a===void 0&&(a=s[Dh]=new Set);var c=r+"__bubble";a.has(c)||(um(s,r,2,!1),a.add(c))}function Ah(r,s,a){var c=0;s&&(c|=4),um(a,r,c,s)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[iu]){r[iu]=!0,i.forEach(function(a){a!=="selectionchange"&&(pE.has(a)||Ah(a,!1,r),Ah(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[iu]||(s[iu]=!0,Ah("selectionchange",!1,s))}}function um(r,s,a,c){switch(va(s)){case 1:var d=Xe;break;case 4:d=mh;break;default:d=ya}a=d.bind(null,s,a,r),d=void 0,!js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Ch(r,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;_=_.return}for(;A!==null;){if(_=Zi(A),_===null)return;if(k=_.tag,k===5||k===6){c=g=_;continue e}A=A.parentNode}}c=c.return}ca(function(){var z=g,Q=Ls(a),Y=[];e:{var K=sm.get(r);if(K!==void 0){var se=Xs,ce=r;switch(r){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":se=m;break;case"focusin":ce="focus",se=eo;break;case"focusout":ce="blur",se=eo;break;case"beforeblur":case"afterblur":se=eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case tm:case nm:case rm:se=Er;break;case im:se=ze;break;case"scroll":se=gh;break;case"wheel":se=be;break;case"copy":case"cut":case"paste":se=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(s&4)!==0,it=!he&&r==="scroll",j=he?K!==null?K+"Capture":null:K;he=[];for(var D=z,U;D!==null;){U=D;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,j!==null&&(ee=rt(D,j),ee!=null&&he.push(ka(D,ee,U)))),it)break;D=D.return}0<he.length&&(K=new se(K,ce,null,a,Q),Y.push({event:K,listeners:he}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",K&&a!==Ui&&(ce=a.relatedTarget||a.fromElement)&&(Zi(ce)||ce[Tr]))break e;if((se||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?Zi(ce):null,ce!==null&&(it=Pn(ce),ce!==it||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(he=Js,ee="onMouseLeave",j="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,ee="onPointerLeave",j="onPointerEnter",D="pointer"),it=se==null?K:lo(se),U=ce==null?K:lo(ce),K=new he(ee,D+"leave",se,a,Q),K.target=it,K.relatedTarget=U,ee=null,Zi(Q)===z&&(he=new he(j,D+"enter",ce,a,Q),he.target=U,he.relatedTarget=it,ee=he),it=ee,se&&ce)t:{for(he=se,j=ce,D=0,U=he;U;U=oo(U))D++;for(U=0,ee=j;ee;ee=oo(ee))U++;for(;0<D-U;)he=oo(he),D--;for(;0<U-D;)j=oo(j),U--;for(;D--;){if(he===j||j!==null&&he===j.alternate)break t;he=oo(he),j=oo(j)}he=null}else he=null;se!==null&&cm(Y,K,se,he,!1),ce!==null&&it!==null&&cm(Y,it,ce,he,!0)}}e:{if(K=z?lo(z):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var de=iE;else if($p(K))if(Wp)de=lE;else{de=oE;var ye=sE}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(de=aE);if(de&&(de=de(r,z))){Hp(Y,de,a,Q);break e}ye&&ye(r,K,z),r==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&bs(K,"number",K.value)}switch(ye=z?lo(z):window,r){case"focusin":($p(ye)||ye.contentEditable==="true")&&(io=ye,wh=z,Ca=null);break;case"focusout":Ca=wh=io=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Zp(Y,a,Q);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Zp(Y,a,Q)}var ve;if(at)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ro?zp(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ji&&a.locale!=="ko"&&(ro||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ro&&(ve=_a()):(an=Q,Ks="value"in an?an.value:an.textContent,ro=!0)),ye=su(z,Ee),0<ye.length&&(Ee=new Ta(Ee,r,null,a,Q),Y.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Bp(a),ve!==null&&(Ee.data=ve)))),(ve=ln?eE(r,a):tE(r,a))&&(z=su(z,"onBeforeInput"),0<z.length&&(Q=new Ta("onBeforeInput","beforeinput",null,a,Q),Y.push({event:Q,listeners:z}),Q.data=ve))}lm(Y,s)})}function ka(r,s,a){return{instance:r,listener:s,currentTarget:a}}function su(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=rt(r,a),g!=null&&c.unshift(ka(r,g,d)),g=rt(r,s),g!=null&&c.push(ka(r,g,d))),r=r.return}return c}function oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cm(r,s,a,c,d){for(var g=s._reactName,_=[];a!==null&&a!==c;){var A=a,k=A.alternate,z=A.stateNode;if(k!==null&&k===c)break;A.tag===5&&z!==null&&(A=z,d?(k=rt(a,g),k!=null&&_.unshift(ka(a,k,A))):d||(k=rt(a,g),k!=null&&_.push(ka(a,k,A)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function hm(r){return(typeof r=="string"?r:""+r).replace(mE,`
`).replace(gE,"")}function ou(r,s,a){if(s=hm(s),hm(r)!==s&&a)throw Error(t(425))}function au(){}var Rh=null,Ph=null;function kh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(r){return dm.resolve(null).then(r).catch(_E)}:xh;function _E(r){setTimeout(function(){throw r})}function Nh(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),bn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);bn(s)}function ni(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function fm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Yn="__reactFiber$"+ao,xa="__reactProps$"+ao,Tr="__reactContainer$"+ao,Dh="__reactEvents$"+ao,wE="__reactListeners$"+ao,EE="__reactHandles$"+ao;function Zi(r){var s=r[Yn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Tr]||a[Yn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=fm(r);r!==null;){if(a=r[Yn])return a;r=fm(r)}return s}r=a,a=r.parentNode}return null}function Na(r){return r=r[Yn]||r[Tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function lu(r){return r[xa]||null}var bh=[],uo=-1;function ri(r){return{current:r}}function Ke(r){0>uo||(r.current=bh[uo],bh[uo]=null,uo--)}function qe(r,s){uo++,bh[uo]=r.current,r.current=s}var ii={},Vt=ri(ii),Yt=ri(!1),es=ii;function co(r,s){var a=r.type.contextTypes;if(!a)return ii;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Jt(r){return r=r.childContextTypes,r!=null}function uu(){Ke(Yt),Ke(Vt)}function pm(r,s,a){if(Vt.current!==ii)throw Error(t(168));qe(Vt,s),qe(Yt,a)}function mm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Me(r)||"Unknown",d));return le({},a,c)}function cu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ii,es=Vt.current,qe(Vt,r),qe(Yt,Yt.current),!0}function gm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=mm(r,s,es),c.__reactInternalMemoizedMergedChildContext=r,Ke(Yt),Ke(Vt),qe(Vt,r)):Ke(Yt),qe(Yt,a)}var Ir=null,hu=!1,Oh=!1;function ym(r){Ir===null?Ir=[r]:Ir.push(r)}function TE(r){hu=!0,ym(r)}function si(){if(!Oh&&Ir!==null){Oh=!0;var r=0,s=Ne;try{var a=Ir;for(Ne=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Ir=null,hu=!1}catch(d){throw Ir!==null&&(Ir=Ir.slice(r+1)),$s(Wi,si),d}finally{Ne=s,Oh=!1}}return null}var ho=[],fo=0,du=null,fu=0,yn=[],vn=0,ts=null,Sr=1,Ar="";function ns(r,s){ho[fo++]=fu,ho[fo++]=du,du=r,fu=s}function vm(r,s,a){yn[vn++]=Sr,yn[vn++]=Ar,yn[vn++]=ts,ts=r;var c=Sr;r=Ar;var d=32-Ht(c)-1;c&=~(1<<d),a+=1;var g=32-Ht(s)+d;if(30<g){var _=d-d%5;g=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Sr=1<<32-Ht(s)+d|a<<d|c,Ar=g+r}else Sr=1<<g|a<<d|c,Ar=r}function Vh(r){r.return!==null&&(ns(r,1),vm(r,1,0))}function Lh(r){for(;r===du;)du=ho[--fo],ho[fo]=null,fu=ho[--fo],ho[fo]=null;for(;r===ts;)ts=yn[--vn],yn[vn]=null,Ar=yn[--vn],yn[vn]=null,Sr=yn[--vn],yn[vn]=null}var un=null,cn=null,Ye=!1,Ln=null;function _m(r,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function wm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,un=r,cn=ni(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,un=r,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ts!==null?{id:Sr,overflow:Ar}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,un=r,cn=null,!0):!1;default:return!1}}function Mh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fh(r){if(Ye){var s=cn;if(s){var a=s;if(!wm(r,s)){if(Mh(r))throw Error(t(418));s=ni(a.nextSibling);var c=un;s&&wm(r,s)?_m(c,a):(r.flags=r.flags&-4097|2,Ye=!1,un=r)}}else{if(Mh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,un=r}}}function Em(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;un=r}function pu(r){if(r!==un)return!1;if(!Ye)return Em(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!kh(r.type,r.memoizedProps)),s&&(s=cn)){if(Mh(r))throw Tm(),Error(t(418));for(;s;)_m(r,s),s=ni(s.nextSibling)}if(Em(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){cn=ni(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}cn=null}}else cn=un?ni(r.stateNode.nextSibling):null;return!0}function Tm(){for(var r=cn;r;)r=ni(r.nextSibling)}function po(){cn=un=null,Ye=!1}function jh(r){Ln===null?Ln=[r]:Ln.push(r)}var IE=re.ReactCurrentBatchConfig;function Da(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var A=d.refs;_===null?delete A[g]:A[g]=_},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function mu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Im(r){var s=r._init;return s(r._payload)}function Sm(r){function s(j,D){if(r){var U=j.deletions;U===null?(j.deletions=[D],j.flags|=16):U.push(D)}}function a(j,D){if(!r)return null;for(;D!==null;)s(j,D),D=D.sibling;return null}function c(j,D){for(j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function d(j,D){return j=fi(j,D),j.index=0,j.sibling=null,j}function g(j,D,U){return j.index=U,r?(U=j.alternate,U!==null?(U=U.index,U<D?(j.flags|=2,D):U):(j.flags|=2,D)):(j.flags|=1048576,D)}function _(j){return r&&j.alternate===null&&(j.flags|=2),j}function A(j,D,U,ee){return D===null||D.tag!==6?(D=xd(U,j.mode,ee),D.return=j,D):(D=d(D,U),D.return=j,D)}function k(j,D,U,ee){var de=U.type;return de===P?Q(j,D,U.props.children,ee,U.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===_t&&Im(de)===D.type)?(ee=d(D,U.props),ee.ref=Da(j,D,U),ee.return=j,ee):(ee=ju(U.type,U.key,U.props,null,j.mode,ee),ee.ref=Da(j,D,U),ee.return=j,ee)}function z(j,D,U,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Nd(U,j.mode,ee),D.return=j,D):(D=d(D,U.children||[]),D.return=j,D)}function Q(j,D,U,ee,de){return D===null||D.tag!==7?(D=cs(U,j.mode,ee,de),D.return=j,D):(D=d(D,U),D.return=j,D)}function Y(j,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=xd(""+D,j.mode,U),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case oe:return U=ju(D.type,D.key,D.props,null,j.mode,U),U.ref=Da(j,null,D),U.return=j,U;case fe:return D=Nd(D,j.mode,U),D.return=j,D;case _t:var ee=D._init;return Y(j,ee(D._payload),U)}if(fr(D)||ge(D))return D=cs(D,j.mode,U,null),D.return=j,D;mu(j,D)}return null}function K(j,D,U,ee){var de=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return de!==null?null:A(j,D,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case oe:return U.key===de?k(j,D,U,ee):null;case fe:return U.key===de?z(j,D,U,ee):null;case _t:return de=U._init,K(j,D,de(U._payload),ee)}if(fr(U)||ge(U))return de!==null?null:Q(j,D,U,ee,null);mu(j,U)}return null}function se(j,D,U,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return j=j.get(U)||null,A(D,j,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case oe:return j=j.get(ee.key===null?U:ee.key)||null,k(D,j,ee,de);case fe:return j=j.get(ee.key===null?U:ee.key)||null,z(D,j,ee,de);case _t:var ye=ee._init;return se(j,D,U,ye(ee._payload),de)}if(fr(ee)||ge(ee))return j=j.get(U)||null,Q(D,j,ee,de,null);mu(D,ee)}return null}function ce(j,D,U,ee){for(var de=null,ye=null,ve=D,Ee=D=0,St=null;ve!==null&&Ee<U.length;Ee++){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var Le=K(j,ve,U[Ee],ee);if(Le===null){ve===null&&(ve=St);break}r&&ve&&Le.alternate===null&&s(j,ve),D=g(Le,D,Ee),ye===null?de=Le:ye.sibling=Le,ye=Le,ve=St}if(Ee===U.length)return a(j,ve),Ye&&ns(j,Ee),de;if(ve===null){for(;Ee<U.length;Ee++)ve=Y(j,U[Ee],ee),ve!==null&&(D=g(ve,D,Ee),ye===null?de=ve:ye.sibling=ve,ye=ve);return Ye&&ns(j,Ee),de}for(ve=c(j,ve);Ee<U.length;Ee++)St=se(ve,j,Ee,U[Ee],ee),St!==null&&(r&&St.alternate!==null&&ve.delete(St.key===null?Ee:St.key),D=g(St,D,Ee),ye===null?de=St:ye.sibling=St,ye=St);return r&&ve.forEach(function(pi){return s(j,pi)}),Ye&&ns(j,Ee),de}function he(j,D,U,ee){var de=ge(U);if(typeof de!="function")throw Error(t(150));if(U=de.call(U),U==null)throw Error(t(151));for(var ye=de=null,ve=D,Ee=D=0,St=null,Le=U.next();ve!==null&&!Le.done;Ee++,Le=U.next()){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var pi=K(j,ve,Le.value,ee);if(pi===null){ve===null&&(ve=St);break}r&&ve&&pi.alternate===null&&s(j,ve),D=g(pi,D,Ee),ye===null?de=pi:ye.sibling=pi,ye=pi,ve=St}if(Le.done)return a(j,ve),Ye&&ns(j,Ee),de;if(ve===null){for(;!Le.done;Ee++,Le=U.next())Le=Y(j,Le.value,ee),Le!==null&&(D=g(Le,D,Ee),ye===null?de=Le:ye.sibling=Le,ye=Le);return Ye&&ns(j,Ee),de}for(ve=c(j,ve);!Le.done;Ee++,Le=U.next())Le=se(ve,j,Ee,Le.value,ee),Le!==null&&(r&&Le.alternate!==null&&ve.delete(Le.key===null?Ee:Le.key),D=g(Le,D,Ee),ye===null?de=Le:ye.sibling=Le,ye=Le);return r&&ve.forEach(function(nT){return s(j,nT)}),Ye&&ns(j,Ee),de}function it(j,D,U,ee){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case oe:e:{for(var de=U.key,ye=D;ye!==null;){if(ye.key===de){if(de=U.type,de===P){if(ye.tag===7){a(j,ye.sibling),D=d(ye,U.props.children),D.return=j,j=D;break e}}else if(ye.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===_t&&Im(de)===ye.type){a(j,ye.sibling),D=d(ye,U.props),D.ref=Da(j,ye,U),D.return=j,j=D;break e}a(j,ye);break}else s(j,ye);ye=ye.sibling}U.type===P?(D=cs(U.props.children,j.mode,ee,U.key),D.return=j,j=D):(ee=ju(U.type,U.key,U.props,null,j.mode,ee),ee.ref=Da(j,D,U),ee.return=j,j=ee)}return _(j);case fe:e:{for(ye=U.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(j,D.sibling),D=d(D,U.children||[]),D.return=j,j=D;break e}else{a(j,D);break}else s(j,D);D=D.sibling}D=Nd(U,j.mode,ee),D.return=j,j=D}return _(j);case _t:return ye=U._init,it(j,D,ye(U._payload),ee)}if(fr(U))return ce(j,D,U,ee);if(ge(U))return he(j,D,U,ee);mu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(a(j,D.sibling),D=d(D,U),D.return=j,j=D):(a(j,D),D=xd(U,j.mode,ee),D.return=j,j=D),_(j)):a(j,D)}return it}var mo=Sm(!0),Am=Sm(!1),gu=ri(null),yu=null,go=null,Uh=null;function zh(){Uh=go=yu=null}function Bh(r){var s=gu.current;Ke(gu),r._currentValue=s}function $h(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function yo(r,s){yu=r,Uh=go=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Zt=!0),r.firstContext=null)}function _n(r){var s=r._currentValue;if(Uh!==r)if(r={context:r,memoizedValue:s,next:null},go===null){if(yu===null)throw Error(t(308));go=r,yu.dependencies={lanes:0,firstContext:r}}else go=go.next=r;return s}var rs=null;function Hh(r){rs===null?rs=[r]:rs.push(r)}function Cm(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Hh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Cr(r,c)}function Cr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var oi=!1;function Wh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ai(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Cr(r,a)}return d=c.interleaved,d===null?(s.next=s,Hh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Cr(r,a)}function vu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xr(r,a)}}function Pm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function _u(r,s,a,c){var d=r.updateQueue;oi=!1;var g=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var k=A,z=k.next;k.next=null,_===null?g=z:_.next=z,_=k;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==_&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=k))}if(g!==null){var Y=d.baseState;_=0,Q=z=k=null,A=g;do{var K=A.lane,se=A.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=r,he=A;switch(K=s,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Y=ce.call(se,Y,K);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,K=typeof ce=="function"?ce.call(se,Y,K):ce,K==null)break e;Y=le({},Y,K);break e;case 2:oi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,K=d.effects,K===null?d.effects=[A]:K.push(A))}else se={eventTime:se,lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=se,k=Y):Q=Q.next=se,_|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;K=A,A=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Q===null&&(k=Y),d.baseState=k,d.firstBaseUpdate=z,d.lastBaseUpdate=Q,s=d.shared.interleaved,s!==null){d=s;do _|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);os|=_,r.lanes=_,r.memoizedState=Y}}function km(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ba={},Jn=ri(ba),Oa=ri(ba),Va=ri(ba);function is(r){if(r===ba)throw Error(t(174));return r}function qh(r,s){switch(qe(Va,s),qe(Oa,r),qe(Jn,ba),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:dt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=dt(s,r)}Ke(Jn),qe(Jn,s)}function vo(){Ke(Jn),Ke(Oa),Ke(Va)}function xm(r){is(Va.current);var s=is(Jn.current),a=dt(s,r.type);s!==a&&(qe(Oa,r),qe(Jn,a))}function Gh(r){Oa.current===r&&(Ke(Jn),Ke(Oa))}var Je=ri(0);function wu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Kh=[];function Qh(){for(var r=0;r<Kh.length;r++)Kh[r]._workInProgressVersionPrimary=null;Kh.length=0}var Eu=re.ReactCurrentDispatcher,Xh=re.ReactCurrentBatchConfig,ss=0,Ze=null,pt=null,Tt=null,Tu=!1,La=!1,Ma=0,SE=0;function Lt(){throw Error(t(321))}function Yh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Vn(r[a],s[a]))return!1;return!0}function Jh(r,s,a,c,d,g){if(ss=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Eu.current=r===null||r.memoizedState===null?PE:kE,r=a(c,d),La){g=0;do{if(La=!1,Ma=0,25<=g)throw Error(t(301));g+=1,Tt=pt=null,s.updateQueue=null,Eu.current=xE,r=a(c,d)}while(La)}if(Eu.current=Au,s=pt!==null&&pt.next!==null,ss=0,Tt=pt=Ze=null,Tu=!1,s)throw Error(t(300));return r}function Zh(){var r=Ma!==0;return Ma=0,r}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function wn(){if(pt===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Tt===null?Ze.memoizedState:Tt.next;if(s!==null)Tt=s,pt=r;else{if(r===null)throw Error(t(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Tt===null?Ze.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function Fa(r,s){return typeof s=="function"?s(r):s}function ed(r){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=pt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var _=d.next;d.next=g.next,g.next=_}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=_=null,k=null,z=g;do{var Q=z.lane;if((ss&Q)===Q)k!==null&&(k=k.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:r(c,z.action);else{var Y={lane:Q,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};k===null?(A=k=Y,_=c):k=k.next=Y,Ze.lanes|=Q,os|=Q}z=z.next}while(z!==null&&z!==g);k===null?_=c:k.next=A,Vn(c,s.memoizedState)||(Zt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=k,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,Ze.lanes|=g,os|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function td(r){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do g=r(g,_.action),_=_.next;while(_!==d);Vn(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Nm(){}function Dm(r,s){var a=Ze,c=wn(),d=s(),g=!Vn(c.memoizedState,d);if(g&&(c.memoizedState=d,Zt=!0),c=c.queue,nd(Vm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,ja(9,Om.bind(null,a,c,d,s),void 0,null),It===null)throw Error(t(349));(ss&30)!==0||bm(a,s,d)}return d}function bm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Om(r,s,a,c){s.value=a,s.getSnapshot=c,Lm(s)&&Mm(r)}function Vm(r,s,a){return a(function(){Lm(s)&&Mm(r)})}function Lm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Vn(r,a)}catch{return!0}}function Mm(r){var s=Cr(r,1);s!==null&&Un(s,r,1,-1)}function Fm(r){var s=Zn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},s.queue=r,r=r.dispatch=RE.bind(null,Ze,r),[s.memoizedState,r]}function ja(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function jm(){return wn().memoizedState}function Iu(r,s,a,c){var d=Zn();Ze.flags|=r,d.memoizedState=ja(1|s,a,void 0,c===void 0?null:c)}function Su(r,s,a,c){var d=wn();c=c===void 0?null:c;var g=void 0;if(pt!==null){var _=pt.memoizedState;if(g=_.destroy,c!==null&&Yh(c,_.deps)){d.memoizedState=ja(s,a,g,c);return}}Ze.flags|=r,d.memoizedState=ja(1|s,a,g,c)}function Um(r,s){return Iu(8390656,8,r,s)}function nd(r,s){return Su(2048,8,r,s)}function zm(r,s){return Su(4,2,r,s)}function Bm(r,s){return Su(4,4,r,s)}function $m(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hm(r,s,a){return a=a!=null?a.concat([r]):null,Su(4,4,$m.bind(null,s,r),a)}function rd(){}function Wm(r,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function qm(r,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Gm(r,s,a){return(ss&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(Vn(a,s)||(a=Ki(),Ze.lanes|=a,os|=a,r.baseState=!0),s)}function AE(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var c=Xh.transition;Xh.transition={};try{r(!1),s()}finally{Ne=a,Xh.transition=c}}function Km(){return wn().memoizedState}function CE(r,s,a){var c=hi(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Qm(r))Xm(s,a);else if(a=Cm(r,s,a,c),a!==null){var d=Gt();Un(a,r,c,d),Ym(a,s,c)}}function RE(r,s,a){var c=hi(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qm(r))Xm(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,A=g(_,a);if(d.hasEagerState=!0,d.eagerState=A,Vn(A,_)){var k=s.interleaved;k===null?(d.next=d,Hh(s)):(d.next=k.next,k.next=d),s.interleaved=d;return}}catch{}finally{}a=Cm(r,s,d,c),a!==null&&(d=Gt(),Un(a,r,c,d),Ym(a,s,c))}}function Qm(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function Xm(r,s){La=Tu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ym(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Xr(r,a)}}var Au={readContext:_n,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},PE={readContext:_n,useCallback:function(r,s){return Zn().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:Um,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Iu(4194308,4,$m.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Iu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Iu(4,2,r,s)},useMemo:function(r,s){var a=Zn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Zn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=CE.bind(null,Ze,r),[c.memoizedState,r]},useRef:function(r){var s=Zn();return r={current:r},s.memoizedState=r},useState:Fm,useDebugValue:rd,useDeferredValue:function(r){return Zn().memoizedState=r},useTransition:function(){var r=Fm(!1),s=r[0];return r=AE.bind(null,r[1]),Zn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Ze,d=Zn();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));(ss&30)!==0||bm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Um(Vm.bind(null,c,g,r),[r]),c.flags|=2048,ja(9,Om.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=Zn(),s=It.identifierPrefix;if(Ye){var a=Ar,c=Sr;a=(c&~(1<<32-Ht(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ma++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=SE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},kE={readContext:_n,useCallback:Wm,useContext:_n,useEffect:nd,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:qm,useReducer:ed,useRef:jm,useState:function(){return ed(Fa)},useDebugValue:rd,useDeferredValue:function(r){var s=wn();return Gm(s,pt.memoizedState,r)},useTransition:function(){var r=ed(Fa)[0],s=wn().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:Dm,useId:Km,unstable_isNewReconciler:!1},xE={readContext:_n,useCallback:Wm,useContext:_n,useEffect:nd,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:Bm,useMemo:qm,useReducer:td,useRef:jm,useState:function(){return td(Fa)},useDebugValue:rd,useDeferredValue:function(r){var s=wn();return pt===null?s.memoizedState=r:Gm(s,pt.memoizedState,r)},useTransition:function(){var r=td(Fa)[0],s=wn().memoizedState;return[r,s]},useMutableSource:Nm,useSyncExternalStore:Dm,useId:Km,unstable_isNewReconciler:!1};function Mn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function id(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Cu={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Gt(),d=hi(r),g=Rr(c,d);g.payload=s,a!=null&&(g.callback=a),s=ai(r,g,d),s!==null&&(Un(s,r,d,c),vu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Gt(),d=hi(r),g=Rr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ai(r,g,d),s!==null&&(Un(s,r,d,c),vu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Gt(),c=hi(r),d=Rr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ai(r,d,c),s!==null&&(Un(s,r,c,a),vu(s,r,c))}};function Jm(r,s,a,c,d,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!Aa(a,c)||!Aa(d,g):!0}function Zm(r,s,a){var c=!1,d=ii,g=s.contextType;return typeof g=="object"&&g!==null?g=_n(g):(d=Jt(s)?es:Vt.current,c=s.contextTypes,g=(c=c!=null)?co(r,d):ii),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function eg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Cu.enqueueReplaceState(s,s.state,null)}function sd(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Wh(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=_n(g):(g=Jt(s)?es:Vt.current,d.context=co(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(id(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Cu.enqueueReplaceState(d,d.state,null),_u(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var a="",c=s;do a+=Re(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function od(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function ad(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function tg(r,s,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){bu||(bu=!0,Td=c),ad(r,s)},a}function ng(r,s,a){a=Rr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){ad(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){ad(r,s),typeof c!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function rg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new NE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=WE.bind(null,r,s,a),s.then(r,r))}function ig(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function sg(r,s,a,c,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Rr(-1,1),s.tag=2,ai(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var DE=re.ReactCurrentOwner,Zt=!1;function qt(r,s,a,c){s.child=r===null?Am(s,null,a,c):mo(s,r.child,a,c)}function og(r,s,a,c,d){a=a.render;var g=s.ref;return yo(s,d),c=Jh(r,s,a,c,g,d),a=Zh(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(Ye&&a&&Vh(s),s.flags|=1,qt(r,s,c,d),s.child)}function ag(r,s,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!kd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,lg(r,s,g,c,d)):(r=ju(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&d)===0){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(_,c)&&r.ref===s.ref)return Pr(r,s,d)}return s.flags|=1,r=fi(g,c),r.ref=s.ref,r.return=s,s.child=r}function lg(r,s,a,c,d){if(r!==null){var g=r.memoizedProps;if(Aa(g,c)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=c=g,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Pr(r,s,d)}return ld(r,s,a,c,d)}function ug(r,s,a){var c=s.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Eo,hn),hn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(Eo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,qe(Eo,hn),hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,qe(Eo,hn),hn|=c;return qt(r,s,d,a),s.child}function cg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function ld(r,s,a,c,d){var g=Jt(a)?es:Vt.current;return g=co(s,g),yo(s,d),a=Jh(r,s,a,c,g,d),c=Zh(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(Ye&&c&&Vh(s),s.flags|=1,qt(r,s,a,d),s.child)}function hg(r,s,a,c,d){if(Jt(a)){var g=!0;cu(s)}else g=!1;if(yo(s,d),s.stateNode===null)Pu(r,s),Zm(s,a,c),sd(s,a,c,d),c=!0;else if(r===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var k=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=_n(z):(z=Jt(a)?es:Vt.current,z=co(s,z));var Q=a.getDerivedStateFromProps,Y=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||k!==z)&&eg(s,_,c,z),oi=!1;var K=s.memoizedState;_.state=K,_u(s,c,_,d),k=s.memoizedState,A!==c||K!==k||Yt.current||oi?(typeof Q=="function"&&(id(s,a,Q,c),k=s.memoizedState),(A=oi||Jm(s,a,A,c,K,k,z))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=k),_.props=c,_.state=k,_.context=z,c=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,Rm(r,s),A=s.memoizedProps,z=s.type===s.elementType?A:Mn(s.type,A),_.props=z,Y=s.pendingProps,K=_.context,k=a.contextType,typeof k=="object"&&k!==null?k=_n(k):(k=Jt(a)?es:Vt.current,k=co(s,k));var se=a.getDerivedStateFromProps;(Q=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==Y||K!==k)&&eg(s,_,c,k),oi=!1,K=s.memoizedState,_.state=K,_u(s,c,_,d);var ce=s.memoizedState;A!==Y||K!==ce||Yt.current||oi?(typeof se=="function"&&(id(s,a,se,c),ce=s.memoizedState),(z=oi||Jm(s,a,z,c,K,ce,k)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,k)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),_.props=c,_.state=ce,_.context=k,c=z):(typeof _.componentDidUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),c=!1)}return ud(r,s,a,c,g,d)}function ud(r,s,a,c,d,g){cg(r,s);var _=(s.flags&128)!==0;if(!c&&!_)return d&&gm(s,a,!1),Pr(r,s,g);c=s.stateNode,DE.current=s;var A=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&_?(s.child=mo(s,r.child,null,g),s.child=mo(s,null,A,g)):qt(r,s,A,g),s.memoizedState=c.state,d&&gm(s,a,!0),s.child}function dg(r){var s=r.stateNode;s.pendingContext?pm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&pm(r,s.context,!1),qh(r,s.containerInfo)}function fg(r,s,a,c,d){return po(),jh(d),s.flags|=256,qt(r,s,a,c),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function hd(r){return{baseLanes:r,cachePool:null,transitions:null}}function pg(r,s,a){var c=s.pendingProps,d=Je.current,g=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=r!==null&&r.memoizedState===null?!1:(d&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),qe(Je,d&1),r===null)return Fh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,r=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Uu(_,c,0,null),r=cs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=hd(a),s.memoizedState=cd,r):dd(s,_));if(d=r.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return bE(r,s,_,c,A,d,a);if(g){g=c.fallback,_=s.mode,d=r.child,A=d.sibling;var k={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=k,s.deletions=null):(c=fi(d,k),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=fi(A,g):(g=cs(g,_,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=r.child.memoizedState,_=_===null?hd(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=r.childLanes&~a,s.memoizedState=cd,c}return g=r.child,r=g.sibling,c=fi(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function dd(r,s){return s=Uu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ru(r,s,a,c){return c!==null&&jh(c),mo(s,r.child,null,a),r=dd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bE(r,s,a,c,d,g,_){if(a)return s.flags&256?(s.flags&=-257,c=od(Error(t(422))),Ru(r,s,_,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Uu({mode:"visible",children:c.children},d,0,null),g=cs(g,d,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&mo(s,r.child,null,_),s.child.memoizedState=hd(_),s.memoizedState=cd,g);if((s.mode&1)===0)return Ru(r,s,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=od(g,c,void 0),Ru(r,s,_,c)}if(A=(_&r.childLanes)!==0,Zt||A){if(c=It,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Cr(r,d),Un(c,r,d,-1))}return Pd(),c=od(Error(t(421))),Ru(r,s,_,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=qE.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,cn=ni(d.nextSibling),un=s,Ye=!0,Ln=null,r!==null&&(yn[vn++]=Sr,yn[vn++]=Ar,yn[vn++]=ts,Sr=r.id,Ar=r.overflow,ts=s),s=dd(s,c.children),s.flags|=4096,s)}function mg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),$h(r.return,s,a)}function fd(r,s,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function gg(r,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(qt(r,s,c.children,a),c=Je.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mg(r,a,s);else if(r.tag===19)mg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(qe(Je,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&wu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),fd(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&wu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}fd(s,!0,a,null,g);break;case"together":fd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),os|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=fi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=fi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function OE(r,s,a){switch(s.tag){case 3:dg(s),po();break;case 5:xm(s);break;case 1:Jt(s.type)&&cu(s);break;case 4:qh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;qe(gu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(qe(Je,Je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?pg(r,s,a):(qe(Je,Je.current&1),r=Pr(r,s,a),r!==null?r.sibling:null);qe(Je,Je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return gg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Je,Je.current),c)break;return null;case 22:case 23:return s.lanes=0,ug(r,s,a)}return Pr(r,s,a)}var yg,pd,vg,_g;yg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},pd=function(){},vg=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,is(Jn.current);var g=null;switch(a){case"input":d=Mi(r,d),c=Mi(r,c),g=[];break;case"select":d=le({},d,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":d=ea(r,d),c=ea(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=au)}oa(a,c);var _;a=null;for(z in d)if(!c.hasOwnProperty(z)&&d.hasOwnProperty(z)&&d[z]!=null)if(z==="style"){var A=d[z];for(_ in A)A.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in c){var k=c[z];if(A=d?.[z],c.hasOwnProperty(z)&&k!==A&&(k!=null||A!=null))if(z==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||k&&k.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in k)k.hasOwnProperty(_)&&A[_]!==k[_]&&(a||(a={}),a[_]=k[_])}else a||(g||(g=[]),g.push(z,a)),a=k;else z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,A=A?A.__html:void 0,k!=null&&A!==k&&(g=g||[]).push(z,k)):z==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(z,""+k):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(k!=null&&z==="onScroll"&&Ge("scroll",r),g||A===k||(g=[])):(g=g||[]).push(z,k))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},_g=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ua(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function VE(r,s,a){var c=s.pendingProps;switch(Lh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Jt(s.type)&&uu(),Mt(s),null;case 3:return c=s.stateNode,vo(),Ke(Yt),Ke(Vt),Qh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(pu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ln!==null&&(Ad(Ln),Ln=null))),pd(r,s),Mt(s),null;case 5:Gh(s);var d=is(Va.current);if(a=s.type,r!==null&&s.stateNode!=null)vg(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=is(Jn.current),pu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Yn]=s,c[xa]=g,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(d=0;d<Ra.length;d++)Ge(Ra[d],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":Ds(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":Os(c,g),Ge("invalid",c)}oa(a,g),d=null;for(var _ in g)if(g.hasOwnProperty(_)){var A=g[_];_==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&ou(c.textContent,A,r),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&ou(c.textContent,A,r),d=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":dr(c),Dl(c,g,!0);break;case"textarea":dr(c),ta(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=au)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ht(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=_.createElement(a,{is:c.is}):(r=_.createElement(a),a==="select"&&(_=r,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):r=_.createElementNS(r,a),r[Yn]=s,r[xa]=c,yg(r,s,!1,!1),s.stateNode=r;e:{switch(_=aa(a,c),a){case"dialog":Ge("cancel",r),Ge("close",r),d=c;break;case"iframe":case"object":case"embed":Ge("load",r),d=c;break;case"video":case"audio":for(d=0;d<Ra.length;d++)Ge(Ra[d],r);d=c;break;case"source":Ge("error",r),d=c;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),d=c;break;case"details":Ge("toggle",r),d=c;break;case"input":Ds(r,c),d=Mi(r,c),Ge("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=le({},c,{value:void 0}),Ge("invalid",r);break;case"textarea":Os(r,c),d=ea(r,c),Ge("invalid",r);break;default:d=c}oa(a,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var k=A[g];g==="style"?ia(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&na(r,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Wr(r,k):typeof k=="number"&&Wr(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Ge("scroll",r):k!=null&&W(r,g,k,_))}switch(a){case"input":dr(r),Dl(r,c,!1);break;case"textarea":dr(r),ta(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Fe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?pr(r,!!c.multiple,g,!1):c.defaultValue!=null&&pr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=au)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)_g(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=is(Va.current),is(Jn.current),pu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Yn]=s,(g=c.nodeValue!==a)&&(r=un,r!==null))switch(r.tag){case 3:ou(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ou(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Yn]=s,s.stateNode=c}return Mt(s),null;case 13:if(Ke(Je),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Tm(),po(),s.flags|=98560,g=!1;else if(g=pu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Yn]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),g=!1}else Ln!==null&&(Ad(Ln),Ln=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Je.current&1)!==0?mt===0&&(mt=3):Pd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return vo(),pd(r,s),r===null&&Pa(s.stateNode.containerInfo),Mt(s),null;case 10:return Bh(s.type._context),Mt(s),null;case 17:return Jt(s.type)&&uu(),Mt(s),null;case 19:if(Ke(Je),g=s.memoizedState,g===null)return Mt(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)Ua(g,!1);else{if(mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=wu(r),_!==null){for(s.flags|=128,Ua(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,r=_.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(Je,Je.current&1|2),s.child}r=r.sibling}g.tail!==null&&We()>To&&(s.flags|=128,c=!0,Ua(g,!1),s.lanes=4194304)}else{if(!c)if(r=wu(_),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ua(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ye)return Mt(s),null}else 2*We()-g.renderingStartTime>To&&a!==1073741824&&(s.flags|=128,c=!0,Ua(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=We(),s.sibling=null,a=Je.current,qe(Je,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Rd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function LE(r,s){switch(Lh(s),s.tag){case 1:return Jt(s.type)&&uu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),Ke(Yt),Ke(Vt),Qh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Gh(s),null;case 13:if(Ke(Je),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(Je),null;case 4:return vo(),null;case 10:return Bh(s.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var ku=!1,Ft=!1,ME=typeof WeakSet=="function"?WeakSet:Set,ue=null;function wo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(r,s,c)}else a.current=null}function md(r,s,a){try{a()}catch(c){nt(r,s,c)}}var wg=!1;function FE(r,s){if(Rh=Zr,r=Jp(),_h(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,A=-1,k=-1,z=0,Q=0,Y=r,K=null;t:for(;;){for(var se;Y!==a||d!==0&&Y.nodeType!==3||(A=_+d),Y!==g||c!==0&&Y.nodeType!==3||(k=_+c),Y.nodeType===3&&(_+=Y.nodeValue.length),(se=Y.firstChild)!==null;)K=Y,Y=se;for(;;){if(Y===r)break t;if(K===a&&++z===d&&(A=_),K===g&&++Q===c&&(k=_),(se=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=se}a=A===-1||k===-1?null:{start:A,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ph={focusedElem:r,selectionRange:a},Zr=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,it=ce.memoizedState,j=s.stateNode,D=j.getSnapshotBeforeUpdate(s.elementType===s.type?he:Mn(s.type,he),it);j.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){nt(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return ce=wg,wg=!1,ce}function za(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&md(s,a,g)}d=d.next}while(d!==c)}}function xu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function gd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Eg(r){var s=r.alternate;s!==null&&(r.alternate=null,Eg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Yn],delete s[xa],delete s[Dh],delete s[wE],delete s[EE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Tg(r){return r.tag===5||r.tag===3||r.tag===4}function Ig(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=au));else if(c!==4&&(r=r.child,r!==null))for(yd(r,s,a),r=r.sibling;r!==null;)yd(r,s,a),r=r.sibling}function vd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(vd(r,s,a),r=r.sibling;r!==null;)vd(r,s,a),r=r.sibling}var kt=null,Fn=!1;function li(r,s,a){for(a=a.child;a!==null;)Sg(r,s,a),a=a.sibling}function Sg(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(qi,a)}catch{}switch(a.tag){case 5:Ft||wo(a,s);case 6:var c=kt,d=Fn;kt=null,li(r,s,a),kt=c,Fn=d,kt!==null&&(Fn?(r=kt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(Fn?(r=kt,a=a.stateNode,r.nodeType===8?Nh(r.parentNode,a):r.nodeType===1&&Nh(r,a),bn(r)):Nh(kt,a.stateNode));break;case 4:c=kt,d=Fn,kt=a.stateNode.containerInfo,Fn=!0,li(r,s,a),kt=c,Fn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&md(a,s,_),d=d.next}while(d!==c)}li(r,s,a);break;case 1:if(!Ft&&(wo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){nt(a,s,A)}li(r,s,a);break;case 21:li(r,s,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,li(r,s,a),Ft=c):li(r,s,a);break;default:li(r,s,a)}}function Ag(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new ME),s.forEach(function(c){var d=GE.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:kt=A.stateNode,Fn=!1;break e;case 3:kt=A.stateNode.containerInfo,Fn=!0;break e;case 4:kt=A.stateNode.containerInfo,Fn=!0;break e}A=A.return}if(kt===null)throw Error(t(160));Sg(g,_,d),kt=null,Fn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(z){nt(d,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cg(s,r),s=s.sibling}function Cg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(s,r),er(r),c&4){try{za(3,r,r.return),xu(3,r)}catch(he){nt(r,r.return,he)}try{za(5,r,r.return)}catch(he){nt(r,r.return,he)}}break;case 1:jn(s,r),er(r),c&512&&a!==null&&wo(a,a.return);break;case 5:if(jn(s,r),er(r),c&512&&a!==null&&wo(a,a.return),r.flags&32){var d=r.stateNode;try{Wr(d,"")}catch(he){nt(r,r.return,he)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,_=a!==null?a.memoizedProps:g,A=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Jo(d,g),aa(A,_);var z=aa(A,g);for(_=0;_<k.length;_+=2){var Q=k[_],Y=k[_+1];Q==="style"?ia(d,Y):Q==="dangerouslySetInnerHTML"?na(d,Y):Q==="children"?Wr(d,Y):W(d,Q,Y,z)}switch(A){case"input":Zo(d,g);break;case"textarea":Vs(d,g);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var se=g.value;se!=null?pr(d,!!g.multiple,se,!1):K!==!!g.multiple&&(g.defaultValue!=null?pr(d,!!g.multiple,g.defaultValue,!0):pr(d,!!g.multiple,g.multiple?[]:"",!1))}d[xa]=g}catch(he){nt(r,r.return,he)}}break;case 6:if(jn(s,r),er(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(he){nt(r,r.return,he)}}break;case 3:if(jn(s,r),er(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(s.containerInfo)}catch(he){nt(r,r.return,he)}break;case 4:jn(s,r),er(r);break;case 13:jn(s,r),er(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Ed=We())),c&4&&Ag(r);break;case 22:if(Q=a!==null&&a.memoizedState!==null,r.mode&1?(Ft=(z=Ft)||Q,jn(s,r),Ft=z):jn(s,r),er(r),c&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Q&&(r.mode&1)!==0)for(ue=r,Q=r.child;Q!==null;){for(Y=ue=Q;ue!==null;){switch(K=ue,se=K.child,K.tag){case 0:case 11:case 14:case 15:za(4,K,K.return);break;case 1:wo(K,K.return);var ce=K.stateNode;if(typeof ce.componentWillUnmount=="function"){c=K,a=K.return;try{s=c,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(he){nt(c,a,he)}}break;case 5:wo(K,K.return);break;case 22:if(K.memoizedState!==null){kg(Y);continue}}se!==null?(se.return=K,ue=se):kg(Y)}Q=Q.sibling}e:for(Q=null,Y=r;;){if(Y.tag===5){if(Q===null){Q=Y;try{d=Y.stateNode,z?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=Y.stateNode,k=Y.memoizedProps.style,_=k!=null&&k.hasOwnProperty("display")?k.display:null,A.style.display=ra("display",_))}catch(he){nt(r,r.return,he)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=z?"":Y.memoizedProps}catch(he){nt(r,r.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===r)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===r)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===r)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:jn(s,r),er(r),c&4&&Ag(r);break;case 21:break;default:jn(s,r),er(r)}}function er(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Tg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Wr(d,""),c.flags&=-33);var g=Ig(r);vd(r,g,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=Ig(r);yd(r,A,_);break;default:throw Error(t(161))}}catch(k){nt(r,r.return,k)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function jE(r,s,a){ue=r,Rg(r)}function Rg(r,s,a){for(var c=(r.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||ku;if(!_){var A=d.alternate,k=A!==null&&A.memoizedState!==null||Ft;A=ku;var z=Ft;if(ku=_,(Ft=k)&&!z)for(ue=d;ue!==null;)_=ue,k=_.child,_.tag===22&&_.memoizedState!==null?xg(d):k!==null?(k.return=_,ue=k):xg(d);for(;g!==null;)ue=g,Rg(g),g=g.sibling;ue=d,ku=A,Ft=z}Pg(r)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,ue=g):Pg(r)}}function Pg(r){for(;ue!==null;){var s=ue;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||xu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Mn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&km(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}km(s,_,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Q=z.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&bn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&gd(s)}catch(K){nt(s,s.return,K)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function kg(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function xg(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{xu(4,s)}catch(k){nt(s,a,k)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(k){nt(s,d,k)}}var g=s.return;try{gd(s)}catch(k){nt(s,g,k)}break;case 5:var _=s.return;try{gd(s)}catch(k){nt(s,_,k)}}}catch(k){nt(s,s.return,k)}if(s===r){ue=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ue=A;break}ue=s.return}}var UE=Math.ceil,Nu=re.ReactCurrentDispatcher,_d=re.ReactCurrentOwner,En=re.ReactCurrentBatchConfig,Ve=0,It=null,lt=null,xt=0,hn=0,Eo=ri(0),mt=0,Ba=null,os=0,Du=0,wd=0,$a=null,en=null,Ed=0,To=1/0,kr=null,bu=!1,Td=null,ui=null,Ou=!1,ci=null,Vu=0,Ha=0,Id=null,Lu=-1,Mu=0;function Gt(){return(Ve&6)!==0?We():Lu!==-1?Lu:Lu=We()}function hi(r){return(r.mode&1)===0?1:(Ve&2)!==0&&xt!==0?xt&-xt:IE.transition!==null?(Mu===0&&(Mu=Ki()),Mu):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:va(r.type)),r)}function Un(r,s,a,c){if(50<Ha)throw Ha=0,Id=null,Error(t(185));Qr(r,a,c),((Ve&2)===0||r!==It)&&(r===It&&((Ve&2)===0&&(Du|=a),mt===4&&di(r,xt)),tn(r,c),a===1&&Ve===0&&(s.mode&1)===0&&(To=We()+500,hu&&si()))}function tn(r,s){var a=r.callbackNode;yr(r,s);var c=Gi(r,r===It?xt:0);if(c===0)a!==null&&fa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&fa(a),s===1)r.tag===0?TE(Dg.bind(null,r)):ym(Dg.bind(null,r)),vE(function(){(Ve&6)===0&&si()}),a=null;else{switch(Yr(c)){case 1:a=Wi;break;case 4:a=qr;break;case 16:a=pn;break;case 536870912:a=Ml;break;default:a=pn}a=Ug(a,Ng.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ng(r,s){if(Lu=-1,Mu=0,(Ve&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Io()&&r.callbackNode!==a)return null;var c=Gi(r,r===It?xt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Fu(r,c);else{s=c;var d=Ve;Ve|=2;var g=Og();(It!==r||xt!==s)&&(kr=null,To=We()+500,ls(r,s));do try{$E();break}catch(A){bg(r,A)}while(!0);zh(),Nu.current=g,Ve=d,lt!==null?s=0:(It=null,xt=0,s=mt)}if(s!==0){if(s===2&&(d=on(r),d!==0&&(c=d,s=Sd(r,d))),s===1)throw a=Ba,ls(r,0),di(r,c),tn(r,We()),a;if(s===6)di(r,c);else{if(d=r.current.alternate,(c&30)===0&&!zE(d)&&(s=Fu(r,c),s===2&&(g=on(r),g!==0&&(c=g,s=Sd(r,g))),s===1))throw a=Ba,ls(r,0),di(r,c),tn(r,We()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:us(r,en,kr);break;case 3:if(di(r,c),(c&130023424)===c&&(s=Ed+500-We(),10<s)){if(Gi(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Gt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=xh(us.bind(null,r,en,kr),s);break}us(r,en,kr);break;case 4:if(di(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var _=31-Ht(c);g=1<<_,_=s[_],_>d&&(d=_),c&=~g}if(c=d,c=We()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*UE(c/1960))-c,10<c){r.timeoutHandle=xh(us.bind(null,r,en,kr),c);break}us(r,en,kr);break;case 5:us(r,en,kr);break;default:throw Error(t(329))}}}return tn(r,We()),r.callbackNode===a?Ng.bind(null,r):null}function Sd(r,s){var a=$a;return r.current.memoizedState.isDehydrated&&(ls(r,s).flags|=256),r=Fu(r,s),r!==2&&(s=en,en=a,s!==null&&Ad(s)),r}function Ad(r){en===null?en=r:en.push.apply(en,r)}function zE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Vn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function di(r,s){for(s&=~wd,s&=~Du,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Ht(s),c=1<<a;r[a]=-1,s&=~c}}function Dg(r){if((Ve&6)!==0)throw Error(t(327));Io();var s=Gi(r,0);if((s&1)===0)return tn(r,We()),null;var a=Fu(r,s);if(r.tag!==0&&a===2){var c=on(r);c!==0&&(s=c,a=Sd(r,c))}if(a===1)throw a=Ba,ls(r,0),di(r,s),tn(r,We()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,us(r,en,kr),tn(r,We()),null}function Cd(r,s){var a=Ve;Ve|=1;try{return r(s)}finally{Ve=a,Ve===0&&(To=We()+500,hu&&si())}}function as(r){ci!==null&&ci.tag===0&&(Ve&6)===0&&Io();var s=Ve;Ve|=1;var a=En.transition,c=Ne;try{if(En.transition=null,Ne=1,r)return r()}finally{Ne=c,En.transition=a,Ve=s,(Ve&6)===0&&si()}}function Rd(){hn=Eo.current,Ke(Eo)}function ls(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,yE(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Lh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&uu();break;case 3:vo(),Ke(Yt),Ke(Vt),Qh();break;case 5:Gh(c);break;case 4:vo();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Bh(c.type._context);break;case 22:case 23:Rd()}a=a.return}if(It=r,lt=r=fi(r.current,null),xt=hn=s,mt=0,Ba=null,wd=Du=os=0,en=$a=null,rs!==null){for(s=0;s<rs.length;s++)if(a=rs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=d,c.next=_}a.pending=c}rs=null}return r}function bg(r,s){do{var a=lt;try{if(zh(),Eu.current=Au,Tu){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tu=!1}if(ss=0,Tt=pt=Ze=null,La=!1,Ma=0,_d.current=null,a===null||a.return===null){mt=1,Ba=s,lt=null;break}e:{var g=r,_=a.return,A=a,k=s;if(s=xt,A.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var z=k,Q=A,Y=Q.tag;if((Q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var se=ig(_);if(se!==null){se.flags&=-257,sg(se,_,A,g,s),se.mode&1&&rg(g,z,s),s=se,k=z;var ce=s.updateQueue;if(ce===null){var he=new Set;he.add(k),s.updateQueue=he}else ce.add(k);break e}else{if((s&1)===0){rg(g,z,s),Pd();break e}k=Error(t(426))}}else if(Ye&&A.mode&1){var it=ig(_);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),sg(it,_,A,g,s),jh(_o(k,A));break e}}g=k=_o(k,A),mt!==4&&(mt=2),$a===null?$a=[g]:$a.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=tg(g,k,s);Pm(g,j);break e;case 1:A=k;var D=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ui===null||!ui.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var ee=ng(g,A,s);Pm(g,ee);break e}}g=g.return}while(g!==null)}Lg(a)}catch(de){s=de,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function Og(){var r=Nu.current;return Nu.current=Au,r===null?Au:r}function Pd(){(mt===0||mt===3||mt===2)&&(mt=4),It===null||(os&268435455)===0&&(Du&268435455)===0||di(It,xt)}function Fu(r,s){var a=Ve;Ve|=2;var c=Og();(It!==r||xt!==s)&&(kr=null,ls(r,s));do try{BE();break}catch(d){bg(r,d)}while(!0);if(zh(),Ve=a,Nu.current=c,lt!==null)throw Error(t(261));return It=null,xt=0,mt}function BE(){for(;lt!==null;)Vg(lt)}function $E(){for(;lt!==null&&!Vl();)Vg(lt)}function Vg(r){var s=jg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?Lg(r):lt=s,_d.current=null}function Lg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=VE(a,s,hn),a!==null){lt=a;return}}else{if(a=LE(a,s),a!==null){a.flags&=32767,lt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{mt=6,lt=null;return}}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);mt===0&&(mt=5)}function us(r,s,a){var c=Ne,d=En.transition;try{En.transition=null,Ne=1,HE(r,s,a,c)}finally{En.transition=d,Ne=c}return null}function HE(r,s,a,c){do Io();while(ci!==null);if((Ve&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if($e(r,g),r===It&&(lt=It=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ou||(Ou=!0,Ug(pn,function(){return Io(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=En.transition,En.transition=null;var _=Ne;Ne=1;var A=Ve;Ve|=4,_d.current=null,FE(r,a),Cg(a,r),cE(Ph),Zr=!!Rh,Ph=Rh=null,r.current=a,jE(a),hh(),Ve=A,Ne=_,En.transition=g}else r.current=a;if(Ou&&(Ou=!1,ci=r,Vu=d),g=r.pendingLanes,g===0&&(ui=null),Fl(a.stateNode),tn(r,We()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(bu)throw bu=!1,r=Td,Td=null,r;return(Vu&1)!==0&&r.tag!==0&&Io(),g=r.pendingLanes,(g&1)!==0?r===Id?Ha++:(Ha=0,Id=r):Ha=0,si(),null}function Io(){if(ci!==null){var r=Yr(Vu),s=En.transition,a=Ne;try{if(En.transition=null,Ne=16>r?16:r,ci===null)var c=!1;else{if(r=ci,ci=null,Vu=0,(Ve&6)!==0)throw Error(t(331));var d=Ve;for(Ve|=4,ue=r.current;ue!==null;){var g=ue,_=g.child;if((ue.flags&16)!==0){var A=g.deletions;if(A!==null){for(var k=0;k<A.length;k++){var z=A[k];for(ue=z;ue!==null;){var Q=ue;switch(Q.tag){case 0:case 11:case 15:za(8,Q,g)}var Y=Q.child;if(Y!==null)Y.return=Q,ue=Y;else for(;ue!==null;){Q=ue;var K=Q.sibling,se=Q.return;if(Eg(Q),Q===z){ue=null;break}if(K!==null){K.return=se,ue=K;break}ue=se}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var it=he.sibling;he.sibling=null,he=it}while(he!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ue=_;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:za(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ue=j;break e}ue=g.return}}var D=r.current;for(ue=D;ue!==null;){_=ue;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,ue=U;else e:for(_=D;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:xu(9,A)}}catch(de){nt(A,A.return,de)}if(A===_){ue=null;break e}var ee=A.sibling;if(ee!==null){ee.return=A.return,ue=ee;break e}ue=A.return}}if(Ve=d,si(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(qi,r)}catch{}c=!0}return c}finally{Ne=a,En.transition=s}}return!1}function Mg(r,s,a){s=_o(a,s),s=tg(r,s,1),r=ai(r,s,1),s=Gt(),r!==null&&(Qr(r,1,s),tn(r,s))}function nt(r,s,a){if(r.tag===3)Mg(r,r,a);else for(;s!==null;){if(s.tag===3){Mg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ui===null||!ui.has(c))){r=_o(a,r),r=ng(s,r,1),s=ai(s,r,1),r=Gt(),s!==null&&(Qr(s,1,r),tn(s,r));break}}s=s.return}}function WE(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Gt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(xt&a)===a&&(mt===4||mt===3&&(xt&130023424)===xt&&500>We()-Ed?ls(r,0):wd|=a),tn(r,s)}function Fg(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var a=Gt();r=Cr(r,s),r!==null&&(Qr(r,s,a),tn(r,a))}function qE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Fg(r,a)}function GE(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Fg(r,a)}var jg;jg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Yt.current)Zt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Zt=!1,OE(r,s,a);Zt=(r.flags&131072)!==0}else Zt=!1,Ye&&(s.flags&1048576)!==0&&vm(s,fu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Pu(r,s),r=s.pendingProps;var d=co(s,Vt.current);yo(s,a),d=Jh(null,s,c,r,d,a);var g=Zh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(c)?(g=!0,cu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Wh(s),d.updater=Cu,s.stateNode=d,d._reactInternals=s,sd(s,c,r,a),s=ud(null,s,c,!0,g,a)):(s.tag=0,Ye&&g&&Vh(s),qt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Pu(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=QE(c),r=Mn(c,r),d){case 0:s=ld(null,s,c,r,a);break e;case 1:s=hg(null,s,c,r,a);break e;case 11:s=og(null,s,c,r,a);break e;case 14:s=ag(null,s,c,Mn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Mn(c,d),ld(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Mn(c,d),hg(r,s,c,d,a);case 3:e:{if(dg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,Rm(r,s),_u(s,c,null,a);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=_o(Error(t(423)),s),s=fg(r,s,c,a,d);break e}else if(c!==d){d=_o(Error(t(424)),s),s=fg(r,s,c,a,d);break e}else for(cn=ni(s.stateNode.containerInfo.firstChild),un=s,Ye=!0,Ln=null,a=Am(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(po(),c===d){s=Pr(r,s,a);break e}qt(r,s,c,a)}s=s.child}return s;case 5:return xm(s),r===null&&Fh(s),c=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,_=d.children,kh(c,d)?_=null:g!==null&&kh(c,g)&&(s.flags|=32),cg(r,s),qt(r,s,_,a),s.child;case 6:return r===null&&Fh(s),null;case 13:return pg(r,s,a);case 4:return qh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=mo(s,null,c,a):qt(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Mn(c,d),og(r,s,c,d,a);case 7:return qt(r,s,s.pendingProps,a),s.child;case 8:return qt(r,s,s.pendingProps.children,a),s.child;case 12:return qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,_=d.value,qe(gu,c._currentValue),c._currentValue=_,g!==null)if(Vn(g.value,_)){if(g.children===d.children&&!Yt.current){s=Pr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){_=g.child;for(var k=A.firstContext;k!==null;){if(k.context===c){if(g.tag===1){k=Rr(-1,a&-a),k.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Q=z.pending;Q===null?k.next=k:(k.next=Q.next,Q.next=k),z.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),$h(g.return,a,s),A.lanes|=a;break}k=k.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),$h(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,yo(s,a),d=_n(d),c=c(d),s.flags|=1,qt(r,s,c,a),s.child;case 14:return c=s.type,d=Mn(c,s.pendingProps),d=Mn(c.type,d),ag(r,s,c,d,a);case 15:return lg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Mn(c,d),Pu(r,s),s.tag=1,Jt(c)?(r=!0,cu(s)):r=!1,yo(s,a),Zm(s,c,d),sd(s,c,d,a),ud(null,s,c,!0,r,a);case 19:return gg(r,s,a);case 22:return ug(r,s,a)}throw Error(t(156,s.tag))};function Ug(r,s){return $s(r,s)}function KE(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,s,a,c){return new KE(r,s,a,c)}function kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function QE(r){if(typeof r=="function")return kd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===vt)return 14}return 2}function fi(r,s){var a=r.alternate;return a===null?(a=Tn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ju(r,s,a,c,d,g){var _=2;if(c=r,typeof r=="function")kd(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case P:return cs(a.children,d,g,s);case I:_=8,d|=8;break;case C:return r=Tn(12,a,s,d|2),r.elementType=C,r.lanes=g,r;case R:return r=Tn(13,a,s,d),r.elementType=R,r.lanes=g,r;case Ue:return r=Tn(19,a,s,d),r.elementType=Ue,r.lanes=g,r;case Be:return Uu(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:_=10;break e;case b:_=9;break e;case M:_=11;break e;case vt:_=14;break e;case _t:_=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Tn(_,a,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function cs(r,s,a,c){return r=Tn(7,r,c,s),r.lanes=a,r}function Uu(r,s,a,c){return r=Tn(22,r,c,s),r.elementType=Be,r.lanes=a,r.stateNode={isHidden:!1},r}function xd(r,s,a){return r=Tn(6,r,null,s),r.lanes=a,r}function Nd(r,s,a){return s=Tn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function XE(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Dd(r,s,a,c,d,g,_,A,k){return r=new XE(r,s,a,A,k),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Tn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(g),r}function YE(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function zg(r){if(!r)return ii;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return mm(r,a,s)}return s}function Bg(r,s,a,c,d,g,_,A,k){return r=Dd(a,c,!0,r,d,g,_,A,k),r.context=zg(null),a=r.current,c=Gt(),d=hi(a),g=Rr(c,d),g.callback=s??null,ai(a,g,d),r.current.lanes=d,Qr(r,d,c),tn(r,c),r}function zu(r,s,a,c){var d=s.current,g=Gt(),_=hi(d);return a=zg(a),s.context===null?s.context=a:s.pendingContext=a,s=Rr(g,_),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=ai(d,s,_),r!==null&&(Un(r,d,_,g),vu(r,d,_)),_}function Bu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $g(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function bd(r,s){$g(r,s),(r=r.alternate)&&$g(r,s)}function JE(){return null}var Hg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Od(r){this._internalRoot=r}$u.prototype.render=Od.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));zu(r,s,null,null)},$u.prototype.unmount=Od.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;as(function(){zu(null,r,null,null)}),s[Tr]=null}};function $u(r){this._internalRoot=r}$u.prototype.unstable_scheduleHydration=function(r){if(r){var s=$l();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Gn.length&&s!==0&&s<Gn[a].priority;a++);Gn.splice(a,0,r),a===0&&ql(r)}};function Vd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Hu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function ZE(r,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var z=Bu(_);g.call(z)}}var _=Bg(s,c,r,0,null,!1,!1,"",Wg);return r._reactRootContainer=_,r[Tr]=_.current,Pa(r.nodeType===8?r.parentNode:r),as(),_}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var z=Bu(k);A.call(z)}}var k=Dd(r,0,!1,null,null,!1,!1,"",Wg);return r._reactRootContainer=k,r[Tr]=k.current,Pa(r.nodeType===8?r.parentNode:r),as(function(){zu(s,k,a,c)}),k}function Wu(r,s,a,c,d){var g=a._reactRootContainer;if(g){var _=g;if(typeof d=="function"){var A=d;d=function(){var k=Bu(_);A.call(k)}}zu(s,_,r,d)}else _=ZE(a,s,r,d,c);return Bu(_)}zl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Gr(s.pendingLanes);a!==0&&(Xr(s,a|1),tn(s,We()),(Ve&6)===0&&(To=We()+500,si()))}break;case 13:as(function(){var c=Cr(r,1);if(c!==null){var d=Gt();Un(c,r,1,d)}}),bd(r,1)}},qs=function(r){if(r.tag===13){var s=Cr(r,134217728);if(s!==null){var a=Gt();Un(s,r,134217728,a)}bd(r,134217728)}},Bl=function(r){if(r.tag===13){var s=hi(r),a=Cr(r,s);if(a!==null){var c=Gt();Un(a,r,s,c)}bd(r,s)}},$l=function(){return Ne},Hl=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},Ms=function(r,s,a){switch(s){case"input":if(Zo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=lu(c);if(!d)throw Error(t(90));Ns(c),Zo(c,d)}}}break;case"textarea":Vs(r,a);break;case"select":s=a.value,s!=null&&pr(r,!!a.multiple,s,!1)}},zi=Cd,ua=as;var eT={usingClientEntryPoint:!1,Events:[Na,lo,lu,Wn,la,Cd]},Wa={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tT={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||JE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{qi=qu.inject(tT),sn=qu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT,nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(s))throw Error(t(200));return YE(r,s,null,a)},nn.createRoot=function(r,s){if(!Vd(r))throw Error(t(299));var a=!1,c="",d=Hg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Dd(r,1,!1,null,null,a,!1,c,d),r[Tr]=s.current,Pa(r.nodeType===8?r.parentNode:r),new Od(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return as(r)},nn.hydrate=function(r,s,a){if(!Hu(s))throw Error(t(200));return Wu(null,r,s,!0,a)},nn.hydrateRoot=function(r,s,a){if(!Vd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",_=Hg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Bg(s,null,r,1,a??null,d,!1,g,_),r[Tr]=s.current,Pa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new $u(s)},nn.render=function(r,s,a){if(!Hu(s))throw Error(t(200));return Wu(null,r,s,!1,a)},nn.unmountComponentAtNode=function(r){if(!Hu(r))throw Error(t(40));return r._reactRootContainer?(as(function(){Wu(null,null,r,!1,function(){r._reactRootContainer=null,r[Tr]=null})}),!0):!1},nn.unstable_batchedUpdates=Cd,nn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Hu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Wu(r,s,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Zg;function r_(){if(Zg)return Fd.exports;Zg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fd.exports=cT(),Fd.exports}var ey;function hT(){if(ey)return Gu;ey=1;var n=r_();return Gu.createRoot=n.createRoot,Gu.hydrateRoot=n.hydrateRoot,Gu}var dT=hT();const fT=t_(dT);var zd={exports:{}},Bd={};var ty;function pT(){if(ty)return Bd;ty=1;var n=$c();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,h=n.useMemo,f=n.useDebugValue;return Bd.useSyncExternalStoreWithSelector=function(p,y,w,T,S){var L=o(null);if(L.current===null){var B={hasValue:!1,value:null};L.current=B}else B=L.current;L=h(function(){function O(oe){if(!J){if(J=!0,Z=oe,oe=T(oe),S!==void 0&&B.hasValue){var fe=B.value;if(S(fe,oe))return W=fe}return W=oe}if(fe=W,t(Z,oe))return fe;var P=T(oe);return S!==void 0&&S(fe,P)?(Z=oe,fe):(Z=oe,W=P)}var J=!1,Z,W,re=w===void 0?null:w;return[function(){return O(y())},re===null?void 0:function(){return O(re())}]},[y,w,T,S]);var H=i(p,L[0],L[1]);return l(function(){B.hasValue=!0,B.value=H},[H]),f(H),H},Bd}var ny;function mT(){return ny||(ny=1,zd.exports=pT()),zd.exports}var gT=mT();function yT(n){n()}function vT(){let n=null,e=null;return{clear(){n=null,e=null},notify(){yT(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var ry={notify(){},get:()=>[]};function _T(n,e){let t,i=ry,o=0,l=!1;function h(H){w();const O=i.subscribe(H);let J=!1;return()=>{J||(J=!0,O(),T())}}function f(){i.notify()}function p(){B.onStateChange&&B.onStateChange()}function y(){return l}function w(){o++,t||(t=n.subscribe(p),i=vT())}function T(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=ry)}function S(){l||(l=!0,w())}function L(){l&&(l=!1,T())}const B={addNestedSub:h,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:y,trySubscribe:S,tryUnsubscribe:L,getListeners:()=>i};return B}var wT=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ET=wT(),TT=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IT=TT(),ST=()=>ET||IT?ne.useLayoutEffect:ne.useEffect,AT=ST(),CT=Symbol.for("react-redux-context"),RT=typeof globalThis<"u"?globalThis:{};function PT(){if(!ne.createContext)return{};const n=RT[CT]??=new Map;let e=n.get(ne.createContext);return e||(e=ne.createContext(null),n.set(ne.createContext,e)),e}var Ri=PT();function kT(n){const{children:e,context:t,serverState:i,store:o}=n,l=ne.useMemo(()=>{const p=_T(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),h=ne.useMemo(()=>o.getState(),[o]);AT(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,h]);const f=t||Ri;return ne.createElement(f.Provider,{value:l},e)}var xT=kT;function Uf(n=Ri){return function(){return ne.useContext(n)}}var i_=Uf();function s_(n=Ri){const e=n===Ri?i_:Uf(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var NT=s_();function DT(n=Ri){const e=n===Ri?NT:s_(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var zf=DT(),bT=(n,e)=>n===e;function OT(n=Ri){const e=n===Ri?i_:Uf(n),t=(i,o={})=>{const{equalityFn:l=bT}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:f,subscription:p,getServerState:y}=h;ne.useRef(!0);const w=ne.useCallback({[i.name](S){return i(S)}}[i.name],[i]),T=gT.useSyncExternalStoreWithSelector(p.addNestedSub,f.getState,y||f.getState,w,l);return ne.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var Oo=OT();r_();function ol(){return ol=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ol.apply(this,arguments)}var _i;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(_i||(_i={}));const iy="popstate";function VT(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return of("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:gc(o)}return MT(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LT(){return Math.random().toString(36).substr(2,8)}function sy(n,e){return{usr:n.state,key:n.key,idx:e}}function of(n,e,t,i){return t===void 0&&(t=null),ol({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:t,key:e&&e.key||i||LT()})}function gc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Bo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function MT(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=_i.Pop,p=null,y=w();y==null&&(y=0,h.replaceState(ol({},h.state,{idx:y}),""));function w(){return(h.state||{idx:null}).idx}function T(){f=_i.Pop;let O=w(),J=O==null?null:O-y;y=O,p&&p({action:f,location:H.location,delta:J})}function S(O,J){f=_i.Push;let Z=of(H.location,O,J);y=w()+1;let W=sy(Z,y),re=H.createHref(Z);try{h.pushState(W,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(re)}l&&p&&p({action:f,location:H.location,delta:1})}function L(O,J){f=_i.Replace;let Z=of(H.location,O,J);y=w();let W=sy(Z,y),re=H.createHref(Z);h.replaceState(W,"",re),l&&p&&p({action:f,location:H.location,delta:0})}function B(O){let J=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof O=="string"?O:gc(O);return Z=Z.replace(/ $/,"%20"),ot(J,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,J)}let H={get action(){return f},get location(){return n(o,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,T),p=O,()=>{o.removeEventListener(iy,T),p=null}},createHref(O){return e(o,O)},createURL:B,encodeLocation(O){let J=B(O);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:S,replace:L,go(O){return h.go(O)}};return H}var oy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(oy||(oy={}));function FT(n,e,t){return t===void 0&&(t="/"),jT(n,e,t)}function jT(n,e,t,i){let o=typeof e=="string"?Bo(e):e,l=$f(o.pathname||"/",t);if(l==null)return null;let h=o_(n);UT(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=JT(l);f=QT(h[p],y)}return f}function o_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Ei([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),o_(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:GT(y,l.index),routesMeta:w})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of a_(l.path))o(l,h,p)}),e}function a_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=a_(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function UT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:KT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const zT=/^:[\w-]+$/,BT=3,$T=2,HT=1,WT=10,qT=-2,ay=n=>n==="*";function GT(n,e){let t=n.split("/"),i=t.length;return t.some(ay)&&(i+=qT),e&&(i+=$T),t.filter(o=>!ay(o)).reduce((o,l)=>o+(zT.test(l)?BT:l===""?HT:WT),i)}function KT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function QT(n,e,t){let{routesMeta:i}=n,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=XT({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ei([l,T.pathname]),pathnameBase:rI(Ei([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Ei([l,T.pathnameBase]))}return h}function XT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=YT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,w,T)=>{let{paramName:S,isOptional:L}=w;if(S==="*"){let H=f[T]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const B=f[T];return L&&!B?y[S]=void 0:y[S]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function YT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Bf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function JT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function $f(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eI=n=>ZT.test(n);function tI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Bo(n):n,l;if(t)if(eI(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),Bf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+t))}t.startsWith("/")?l=ly(t.substring(1),"/"):l=ly(t,e)}else l=e;return{pathname:l,search:iI(i),hash:sI(o)}}function ly(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $d(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hf(n,e){let t=nI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Wf(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Bo(n):(o=ol({},n),ot(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=tI(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}const Ei=n=>n.join("/").replace(/\/\/+/g,"/"),rI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),iI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const l_=["post","put","patch","delete"];new Set(l_);const aI=["get",...l_];new Set(aI);function al(){return al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},al.apply(this,arguments)}const qf=ne.createContext(null),lI=ne.createContext(null),Vi=ne.createContext(null),Hc=ne.createContext(null),Li=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),u_=ne.createContext(null);function uI(n,e){let{relative:t}=e===void 0?{}:e;$o()||ot(!1);let{basename:i,navigator:o}=ne.useContext(Vi),{hash:l,pathname:h,search:f}=h_(n,{relative:t}),p=h;return i!=="/"&&(p=h==="/"?i:Ei([i,h])),o.createHref({pathname:p,search:f,hash:l})}function $o(){return ne.useContext(Hc)!=null}function Ho(){return $o()||ot(!1),ne.useContext(Hc).location}function c_(n){ne.useContext(Vi).static||ne.useLayoutEffect(n)}function Wc(){let{isDataRoute:n}=ne.useContext(Li);return n?TI():cI()}function cI(){$o()||ot(!1);let n=ne.useContext(qf),{basename:e,future:t,navigator:i}=ne.useContext(Vi),{matches:o}=ne.useContext(Li),{pathname:l}=Ho(),h=JSON.stringify(Hf(o,t.v7_relativeSplatPath)),f=ne.useRef(!1);return c_(()=>{f.current=!0}),ne.useCallback(function(y,w){if(w===void 0&&(w={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let T=Wf(y,JSON.parse(h),l,w.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ei([e,T.pathname])),(w.replace?i.replace:i.push)(T,w.state,w)},[e,i,h,l,n])}function h_(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ne.useContext(Vi),{matches:o}=ne.useContext(Li),{pathname:l}=Ho(),h=JSON.stringify(Hf(o,i.v7_relativeSplatPath));return ne.useMemo(()=>Wf(n,JSON.parse(h),l,t==="path"),[n,h,l,t])}function hI(n,e){return dI(n,e)}function dI(n,e,t,i){$o()||ot(!1);let{navigator:o}=ne.useContext(Vi),{matches:l}=ne.useContext(Li),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=Ho(),w;if(e){var T;let O=typeof e=="string"?Bo(e):e;p==="/"||(T=O.pathname)!=null&&T.startsWith(p)||ot(!1),w=O}else w=y;let S=w.pathname||"/",L=S;if(p!=="/"){let O=p.replace(/^\//,"").split("/");L="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let B=FT(n,{pathname:L}),H=yI(B&&B.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Ei([p,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Ei([p,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,i);return e&&H?ne.createElement(Hc.Provider,{value:{location:al({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:_i.Pop}},H):H}function fI(){let n=EI(),e=oI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:o},t):null,null)}const pI=ne.createElement(fI,null);class mI extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ne.createElement(Li.Provider,{value:this.props.routeContext},ne.createElement(u_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gI(n){let{routeContext:e,match:t,children:i}=n,o=ne.useContext(qf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(Li.Provider,{value:e},i)}function yI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let h=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=h.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);w>=0||ot(!1),h=h.slice(0,Math.min(h.length,w+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=w),T.route.id){let{loaderData:S,errors:L}=t,B=T.route.loader&&S[T.route.id]===void 0&&(!L||L[T.route.id]===void 0);if(T.route.lazy||B){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((w,T,S)=>{let L,B=!1,H=null,O=null;t&&(L=f&&T.route.id?f[T.route.id]:void 0,H=T.route.errorElement||pI,p&&(y<0&&S===0?(II("route-fallback"),B=!0,O=null):y===S&&(B=!0,O=T.route.hydrateFallbackElement||null)));let J=e.concat(h.slice(0,S+1)),Z=()=>{let W;return L?W=H:B?W=O:T.route.Component?W=ne.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=w,ne.createElement(gI,{match:T,routeContext:{outlet:w,matches:J,isDataRoute:t!=null},children:W})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?ne.createElement(mI,{location:t.location,revalidation:t.revalidation,component:H,error:L,children:Z(),routeContext:{outlet:null,matches:J,isDataRoute:!0}}):Z()},null)}var d_=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(d_||{}),f_=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(f_||{});function vI(n){let e=ne.useContext(qf);return e||ot(!1),e}function _I(n){let e=ne.useContext(lI);return e||ot(!1),e}function wI(n){let e=ne.useContext(Li);return e||ot(!1),e}function p_(n){let e=wI(),t=e.matches[e.matches.length-1];return t.route.id||ot(!1),t.route.id}function EI(){var n;let e=ne.useContext(u_),t=_I(),i=p_();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function TI(){let{router:n}=vI(d_.UseNavigateStable),e=p_(f_.UseNavigateStable),t=ne.useRef(!1);return c_(()=>{t.current=!0}),ne.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,al({fromRouteId:e},l)))},[n,e])}const uy={};function II(n,e,t){uy[n]||(uy[n]=!0)}function SI(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function cy(n){let{to:e,replace:t,state:i,relative:o}=n;$o()||ot(!1);let{future:l,static:h}=ne.useContext(Vi),{matches:f}=ne.useContext(Li),{pathname:p}=Ho(),y=Wc(),w=Wf(e,Hf(f,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(w);return ne.useEffect(()=>y(JSON.parse(T),{replace:t,state:i,relative:o}),[y,T,o,t,i]),null}function tr(n){ot(!1)}function AI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=_i.Pop,navigator:l,static:h=!1,future:f}=n;$o()&&ot(!1);let p=e.replace(/^\/*/,"/"),y=ne.useMemo(()=>({basename:p,navigator:l,static:h,future:al({v7_relativeSplatPath:!1},f)}),[p,f,l,h]);typeof i=="string"&&(i=Bo(i));let{pathname:w="/",search:T="",hash:S="",state:L=null,key:B="default"}=i,H=ne.useMemo(()=>{let O=$f(w,p);return O==null?null:{location:{pathname:O,search:T,hash:S,state:L,key:B},navigationType:o}},[p,w,T,S,L,B,o]);return H==null?null:ne.createElement(Vi.Provider,{value:y},ne.createElement(Hc.Provider,{children:t,value:H}))}function CI(n){let{children:e,location:t}=n;return hI(af(e),t)}new Promise(()=>{});function af(n,e){e===void 0&&(e=[]);let t=[];return ne.Children.forEach(n,(i,o)=>{if(!ne.isValidElement(i))return;let l=[...e,o];if(i.type===ne.Fragment){t.push.apply(t,af(i.props.children,l));return}i.type!==tr&&ot(!1),!i.props.index||!i.props.children||ot(!1);let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=af(i.props.children,l)),t.push(h)}),t}function lf(){return lf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lf.apply(this,arguments)}function RI(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function PI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kI(n,e){return n.button===0&&(!e||e==="_self")&&!PI(n)}const xI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NI="6";try{window.__reactRouterVersion=NI}catch{}const DI="startTransition",hy=aT[DI];function bI(n){let{basename:e,children:t,future:i,window:o}=n,l=ne.useRef();l.current==null&&(l.current=VT({window:o,v5Compat:!0}));let h=l.current,[f,p]=ne.useState({action:h.action,location:h.location}),{v7_startTransition:y}=i||{},w=ne.useCallback(T=>{y&&hy?hy(()=>p(T)):p(T)},[p,y]);return ne.useLayoutEffect(()=>h.listen(w),[h,w]),ne.useEffect(()=>SI(i),[i]),ne.createElement(AI,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,future:i})}const OI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=ne.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:w,viewTransition:T}=e,S=RI(e,xI),{basename:L}=ne.useContext(Vi),B,H=!1;if(typeof y=="string"&&VI.test(y)&&(B=y,OI))try{let W=new URL(window.location.href),re=y.startsWith("//")?new URL(W.protocol+y):new URL(y),oe=$f(re.pathname,L);re.origin===W.origin&&oe!=null?y=oe+re.search+re.hash:H=!0}catch{}let O=uI(y,{relative:o}),J=LI(y,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function Z(W){i&&i(W),W.defaultPrevented||J(W)}return ne.createElement("a",lf({},S,{href:B||O,onClick:H||l?i:Z,ref:t,target:p}))});var dy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(dy||(dy={}));var fy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fy||(fy={}));function LI(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,p=Wc(),y=Ho(),w=h_(n,{relative:h});return ne.useCallback(T=>{if(kI(T,t)){T.preventDefault();let S=i!==void 0?i:gc(y)===gc(w);p(n,{replace:S,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[y,p,w,i,o,t,n,l,h,f])}function Nt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var MI=typeof Symbol=="function"&&Symbol.observable||"@@observable",py=MI,Hd=()=>Math.random().toString(36).substring(7).split("").join("."),FI={INIT:`@@redux/INIT${Hd()}`,REPLACE:`@@redux/REPLACE${Hd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hd()}`},yc=FI;function Gf(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function m_(n,e,t){if(typeof n!="function")throw new Error(Nt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Nt(1));return t(m_)(n,e)}let i=n,o=e,l=new Map,h=l,f=0,p=!1;function y(){h===l&&(h=new Map,l.forEach((O,J)=>{h.set(J,O)}))}function w(){if(p)throw new Error(Nt(3));return o}function T(O){if(typeof O!="function")throw new Error(Nt(4));if(p)throw new Error(Nt(5));let J=!0;y();const Z=f++;return h.set(Z,O),function(){if(J){if(p)throw new Error(Nt(6));J=!1,y(),h.delete(Z),l=null}}}function S(O){if(!Gf(O))throw new Error(Nt(7));if(typeof O.type>"u")throw new Error(Nt(8));if(typeof O.type!="string")throw new Error(Nt(17));if(p)throw new Error(Nt(9));try{p=!0,o=i(o,O)}finally{p=!1}return(l=h).forEach(Z=>{Z()}),O}function L(O){if(typeof O!="function")throw new Error(Nt(10));i=O,S({type:yc.REPLACE})}function B(){const O=T;return{subscribe(J){if(typeof J!="object"||J===null)throw new Error(Nt(11));function Z(){const re=J;re.next&&re.next(w())}return Z(),{unsubscribe:O(Z)}},[py](){return this}}}return S({type:yc.INIT}),{dispatch:S,subscribe:T,getState:w,replaceReducer:L,[py]:B}}function jI(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:yc.INIT})>"u")throw new Error(Nt(12));if(typeof t(void 0,{type:yc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function UI(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const h=e[l];typeof n[h]=="function"&&(t[h]=n[h])}const i=Object.keys(t);let o;try{jI(t)}catch(l){o=l}return function(h={},f){if(o)throw o;let p=!1;const y={};for(let w=0;w<i.length;w++){const T=i[w],S=t[T],L=h[T],B=S(L,f);if(typeof B>"u")throw f&&f.type,new Error(Nt(14));y[T]=B,p=p||B!==L}return p=p||i.length!==Object.keys(h).length,p?y:h}}function vc(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function zI(...n){return e=>(t,i)=>{const o=e(t,i);let l=()=>{throw new Error(Nt(15))};const h={getState:o.getState,dispatch:(p,...y)=>l(p,...y)},f=n.map(p=>p(h));return l=vc(...f)(o.dispatch),{...o,dispatch:l}}}function BI(n){return Gf(n)&&"type"in n&&typeof n.type=="string"}var g_=Symbol.for("immer-nothing"),my=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function zn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function ws(n){return!!n&&!!n[dn]}function Mr(n){return n?y_(n)||Array.isArray(n)||!!n[my]||!!n.constructor?.[my]||El(n)||Gc(n):!1}var $I=Object.prototype.constructor.toString(),gy=new WeakMap;function y_(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=gy.get(t);return i===void 0&&(i=Function.toString.call(t),gy.set(t,i)),i===$I}function _c(n,e,t=!0){qc(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(o=>{e(o,n[o],n)}):n.forEach((i,o)=>e(o,i,n))}function qc(n){const e=n[dn];return e?e.type_:Array.isArray(n)?1:El(n)?2:Gc(n)?3:0}function uf(n,e){return qc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function v_(n,e,t){const i=qc(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function HI(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function El(n){return n instanceof Map}function Gc(n){return n instanceof Set}function ms(n){return n.copy_||n.base_}function cf(n,e){if(El(n))return new Map(n);if(Gc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=y_(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[dn];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const h=o[l],f=i[h];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(i[h]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[h]})}return Object.create(ll(n),i)}else{const i=ll(n);if(i!==null&&t)return{...n};const o=Object.create(i);return Object.assign(o,n)}}function Kf(n,e=!1){return Kc(n)||ws(n)||!Mr(n)||(qc(n)>1&&Object.defineProperties(n,{set:Ku,add:Ku,clear:Ku,delete:Ku}),Object.freeze(n),e&&Object.values(n).forEach(t=>Kf(t,!0))),n}function WI(){zn(2)}var Ku={value:WI};function Kc(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var qI={};function Es(n){const e=qI[n];return e||zn(0,n),e}var ul;function __(){return ul}function GI(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yy(n,e){e&&(Es("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function hf(n){df(n),n.drafts_.forEach(KI),n.drafts_=null}function df(n){n===ul&&(ul=n.parent_)}function vy(n){return ul=GI(ul,n)}function KI(n){const e=n[dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _y(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[dn].modified_&&(hf(e),zn(4)),Mr(n)&&(n=wc(e,n),e.parent_||Ec(e,n)),e.patches_&&Es("Patches").generateReplacementPatches_(t[dn].base_,n,e.patches_,e.inversePatches_)):n=wc(e,t,[]),hf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==g_?n:void 0}function wc(n,e,t){if(Kc(e))return e;const i=n.immer_.shouldUseStrictIteration(),o=e[dn];if(!o)return _c(e,(l,h)=>wy(n,o,e,l,h,t),i),e;if(o.scope_!==n)return e;if(!o.modified_)return Ec(n,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let h=l,f=!1;o.type_===3&&(h=new Set(l),l.clear(),f=!0),_c(h,(p,y)=>wy(n,o,l,p,y,t,f),i),Ec(n,l,!1),t&&n.patches_&&Es("Patches").generatePatches_(o,t,n.patches_,n.inversePatches_)}return o.copy_}function wy(n,e,t,i,o,l,h){if(o==null||typeof o!="object"&&!h)return;const f=Kc(o);if(!(f&&!h)){if(ws(o)){const p=l&&e&&e.type_!==3&&!uf(e.assigned_,i)?l.concat(i):void 0,y=wc(n,o,p);if(v_(t,i,y),ws(y))n.canAutoFreeze_=!1;else return}else h&&t.add(o);if(Mr(o)&&!f){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===o&&f)return;wc(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(El(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&Ec(n,o)}}}function Ec(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Kf(e,t)}function QI(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:__(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=Qf;t&&(o=[i],l=cl);const{revoke:h,proxy:f}=Proxy.revocable(o,l);return i.draft_=f,i.revoke_=h,f}var Qf={get(n,e){if(e===dn)return n;const t=ms(n);if(!uf(t,e))return XI(n,t,e);const i=t[e];return n.finalized_||!Mr(i)?i:i===Wd(n.base_,e)?(qd(n),n.copy_[e]=pf(i,n)):i},has(n,e){return e in ms(n)},ownKeys(n){return Reflect.ownKeys(ms(n))},set(n,e,t){const i=w_(ms(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const o=Wd(ms(n),e),l=o?.[dn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(HI(t,o)&&(t!==void 0||uf(n.base_,e)))return!0;qd(n),ff(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Wd(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,qd(n),ff(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ms(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){zn(11)},getPrototypeOf(n){return ll(n.base_)},setPrototypeOf(){zn(12)}},cl={};_c(Qf,(n,e)=>{cl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cl.deleteProperty=function(n,e){return cl.set.call(this,n,e,void 0)};cl.set=function(n,e,t){return Qf.set.call(this,n[0],e,t,n[0])};function Wd(n,e){const t=n[dn];return(t?ms(t):n)[e]}function XI(n,e,t){const i=w_(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function w_(n,e){if(!(e in n))return;let t=ll(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=ll(t)}}function ff(n){n.modified_||(n.modified_=!0,n.parent_&&ff(n.parent_))}function qd(n){n.copy_||(n.copy_=cf(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var YI=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const h=this;return function(p=l,...y){return h.produce(p,w=>t.call(this,w,...y))}}typeof t!="function"&&zn(6),i!==void 0&&typeof i!="function"&&zn(7);let o;if(Mr(e)){const l=vy(this),h=pf(e,void 0);let f=!0;try{o=t(h),f=!1}finally{f?hf(l):df(l)}return yy(l,i),_y(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===g_&&(o=void 0),this.autoFreeze_&&Kf(o,!0),i){const l=[],h=[];Es("Patches").generateReplacementPatches_(e,o,l,h),i(l,h)}return o}else zn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...f)=>this.produceWithPatches(h,p=>e(p,...f));let i,o;return[this.produce(e,t,(h,f)=>{i=h,o=f}),i,o]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Mr(n)||zn(8),ws(n)&&(n=JI(n));const e=vy(this),t=pf(n,void 0);return t[dn].isManual_=!0,df(e),t}finishDraft(n,e){const t=n&&n[dn];(!t||!t.isManual_)&&zn(9);const{scope_:i}=t;return yy(i,e),_y(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const i=Es("Patches").applyPatches_;return ws(n)?i(n,e):this.produce(n,o=>i(o,e))}};function pf(n,e){const t=El(n)?Es("MapSet").proxyMap_(n,e):Gc(n)?Es("MapSet").proxySet_(n,e):QI(n,e);return(e?e.scope_:__()).drafts_.push(t),t}function JI(n){return ws(n)||zn(10,n),E_(n)}function E_(n){if(!Mr(n)||Kc(n))return n;const e=n[dn];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=cf(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=cf(n,!0);return _c(t,(o,l)=>{v_(t,o,E_(l))},i),e&&(e.finalized_=!1),t}var mf=new YI,T_=mf.produce,ZI=mf.setUseStrictIteration.bind(mf);function I_(n){return({dispatch:t,getState:i})=>o=>l=>typeof l=="function"?l(t,i,n):o(l)}var eS=I_(),tS=I_,nS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vc:vc.apply(null,arguments)},rS=n=>n&&typeof n.match=="function";function Ja(n,e){function t(...i){if(e){let o=e(...i);if(!o)throw new Error(Vr(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>BI(i)&&i.type===n,t}var S_=class Ga extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ga.prototype)}static get[Symbol.species](){return Ga}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ga(...e[0].concat(this)):new Ga(...e.concat(this))}};function Ey(n){return Mr(n)?T_(n,()=>{}):n}function Qu(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function iS(n){return typeof n=="boolean"}var sS=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let h=new S_;return t&&(iS(t)?h.push(eS):h.push(tS(t.extraArgument))),h},oS="RTK_autoBatch",Ty=n=>e=>{setTimeout(e,n)},aS=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let o=!0,l=!1,h=!1;const f=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ty(10):n.type==="callback"?n.queueNotification:Ty(n.timeout),y=()=>{h=!1,l&&(l=!1,f.forEach(w=>w()))};return Object.assign({},i,{subscribe(w){const T=()=>o&&w(),S=i.subscribe(T);return f.add(w),()=>{S(),f.delete(w)}},dispatch(w){try{return o=!w?.meta?.[oS],l=!o,l&&(h||(h=!0,p(y))),i.dispatch(w)}finally{o=!0}}})},lS=n=>function(t){const{autoBatch:i=!0}=t??{};let o=new S_(n);return i&&o.push(aS(typeof i=="object"?i:void 0)),o};function uS(n){const e=sS(),{reducer:t=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:h=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(Gf(t))f=UI(t);else throw new Error(Vr(1));let p;typeof i=="function"?p=i(e):p=e();let y=vc;o&&(y=nS({trace:!1,...typeof o=="object"&&o}));const w=zI(...p),T=lS(w);let S=typeof h=="function"?h(T):T();const L=y(...S);return m_(f,l,L)}function A_(n){const e={},t=[];let i;const o={addCase(l,h){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Vr(28));if(f in e)throw new Error(Vr(29));return e[f]=h,o},addAsyncThunk(l,h){return h.pending&&(e[l.pending.type]=h.pending),h.rejected&&(e[l.rejected.type]=h.rejected),h.fulfilled&&(e[l.fulfilled.type]=h.fulfilled),h.settled&&t.push({matcher:l.settled,reducer:h.settled}),o},addMatcher(l,h){return t.push({matcher:l,reducer:h}),o},addDefaultCase(l){return i=l,o}};return n(o),[e,t,i]}ZI(!1);function cS(n){return typeof n=="function"}function hS(n,e){let[t,i,o]=A_(e),l;if(cS(n))l=()=>Ey(n());else{const f=Ey(n);l=()=>f}function h(f=l(),p){let y=[t[p.type],...i.filter(({matcher:w})=>w(p)).map(({reducer:w})=>w)];return y.filter(w=>!!w).length===0&&(y=[o]),y.reduce((w,T)=>{if(T)if(ws(w)){const L=T(w,p);return L===void 0?w:L}else{if(Mr(w))return T_(w,S=>T(S,p));{const S=T(w,p);if(S===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return w},f)}return h.getInitialState=l,h}var dS=(n,e)=>rS(n)?n.match(e):n(e);function fS(...n){return e=>n.some(t=>dS(t,e))}var pS="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mS=(n=21)=>{let e="",t=n;for(;t--;)e+=pS[Math.random()*64|0];return e},gS=["name","message","stack","code"],Gd=class{constructor(n,e){this.payload=n,this.meta=e}_type},Iy=class{constructor(n,e){this.payload=n,this.meta=e}_type},yS=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of gS)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Sy="External signal was aborted",C_=(()=>{function n(e,t,i){const o=Ja(e+"/fulfilled",(p,y,w,T)=>({payload:p,meta:{...T||{},arg:w,requestId:y,requestStatus:"fulfilled"}})),l=Ja(e+"/pending",(p,y,w)=>({payload:void 0,meta:{...w||{},arg:y,requestId:p,requestStatus:"pending"}})),h=Ja(e+"/rejected",(p,y,w,T,S)=>({payload:T,error:(i&&i.serializeError||yS)(p||"Rejected"),meta:{...S||{},arg:w,requestId:y,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function f(p,{signal:y}={}){return(w,T,S)=>{const L=i?.idGenerator?i.idGenerator(p):mS(),B=new AbortController;let H,O;function J(W){O=W,B.abort()}y&&(y.aborted?J(Sy):y.addEventListener("abort",()=>J(Sy),{once:!0}));const Z=(async function(){let W;try{let oe=i?.condition?.(p,{getState:T,extra:S});if(_S(oe)&&(oe=await oe),oe===!1||B.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const fe=new Promise((P,I)=>{H=()=>{I({name:"AbortError",message:O||"Aborted"})},B.signal.addEventListener("abort",H)});w(l(L,p,i?.getPendingMeta?.({requestId:L,arg:p},{getState:T,extra:S}))),W=await Promise.race([fe,Promise.resolve(t(p,{dispatch:w,getState:T,extra:S,requestId:L,signal:B.signal,abort:J,rejectWithValue:(P,I)=>new Gd(P,I),fulfillWithValue:(P,I)=>new Iy(P,I)})).then(P=>{if(P instanceof Gd)throw P;return P instanceof Iy?o(P.payload,L,p,P.meta):o(P,L,p)})])}catch(oe){W=oe instanceof Gd?h(null,L,p,oe.payload,oe.meta):h(oe,L,p)}finally{H&&B.signal.removeEventListener("abort",H)}return i&&!i.dispatchConditionRejection&&h.match(W)&&W.meta.condition||w(W),W})();return Object.assign(Z,{abort:J,requestId:L,arg:p,unwrap(){return Z.then(vS)}})}}return Object.assign(f,{pending:l,rejected:h,fulfilled:o,settled:fS(h,o),typePrefix:e})}return n.withTypes=()=>n,n})();function vS(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function _S(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var wS=Symbol.for("rtk-slice-createasyncthunk");function ES(n,e){return`${n}/${e}`}function TS({creators:n}={}){const e=n?.asyncThunk?.[wS];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Vr(11));const h=(typeof i.reducers=="function"?i.reducers(AS()):i.reducers)||{},f=Object.keys(h),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(W,re){const oe=typeof W=="string"?W:W.type;if(!oe)throw new Error(Vr(12));if(oe in p.sliceCaseReducersByType)throw new Error(Vr(13));return p.sliceCaseReducersByType[oe]=re,y},addMatcher(W,re){return p.sliceMatchers.push({matcher:W,reducer:re}),y},exposeAction(W,re){return p.actionCreators[W]=re,y},exposeCaseReducer(W,re){return p.sliceCaseReducersByName[W]=re,y}};f.forEach(W=>{const re=h[W],oe={reducerName:W,type:ES(o,W),createNotation:typeof i.reducers=="function"};RS(re)?kS(oe,re,y,e):CS(oe,re,y)});function w(){const[W={},re=[],oe=void 0]=typeof i.extraReducers=="function"?A_(i.extraReducers):[i.extraReducers],fe={...W,...p.sliceCaseReducersByType};return hS(i.initialState,P=>{for(let I in fe)P.addCase(I,fe[I]);for(let I of p.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of re)P.addMatcher(I.matcher,I.reducer);oe&&P.addDefaultCase(oe)})}const T=W=>W,S=new Map,L=new WeakMap;let B;function H(W,re){return B||(B=w()),B(W,re)}function O(){return B||(B=w()),B.getInitialState()}function J(W,re=!1){function oe(P){let I=P[W];return typeof I>"u"&&re&&(I=Qu(L,oe,O)),I}function fe(P=T){const I=Qu(S,re,()=>new WeakMap);return Qu(I,P,()=>{const C={};for(const[x,b]of Object.entries(i.selectors??{}))C[x]=IS(b,P,()=>Qu(L,P,O),re);return C})}return{reducerPath:W,getSelectors:fe,get selectors(){return fe(oe)},selectSlice:oe}}const Z={name:o,reducer:H,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:O,...J(l),injectInto(W,{reducerPath:re,...oe}={}){const fe=re??l;return W.inject({reducerPath:fe,reducer:H},oe),{...Z,...J(fe,!0)}}};return Z}}function IS(n,e,t,i){function o(l,...h){let f=e(l);return typeof f>"u"&&i&&(f=t()),n(f,...h)}return o.unwrapped=n,o}var SS=TS();function AS(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function CS({type:n,reducerName:e,createNotation:t},i,o){let l,h;if("reducer"in i){if(t&&!PS(i))throw new Error(Vr(17));l=i.reducer,h=i.prepare}else l=i;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,h?Ja(n,h):Ja(n))}function RS(n){return n._reducerDefinitionType==="asyncThunk"}function PS(n){return n._reducerDefinitionType==="reducerWithPrepare"}function kS({type:n,reducerName:e},t,i,o){if(!o)throw new Error(Vr(18));const{payloadCreator:l,fulfilled:h,pending:f,rejected:p,settled:y,options:w}=t,T=o(n,l,w);i.exposeAction(e,T),h&&i.addCase(T.fulfilled,h),f&&i.addCase(T.pending,f),p&&i.addCase(T.rejected,p),y&&i.addMatcher(T.settled,y),i.exposeCaseReducer(e,{fulfilled:h||Xu,pending:f||Xu,rejected:p||Xu,settled:y||Xu})}function Xu(){}function Vr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Ay="doggerz:dogState",Kt=(n,e=0,t=100)=>Math.max(e,Math.min(t,Number.isFinite(n)?n:0)),xS={hunger:8,happiness:6,energy:5,cleanliness:3},NS=60,DS=100,bS=50,Ut=()=>Date.now(),OS=(n,e)=>n?(e-n)/(1e3*60*60*24):1/0,VS={primary:"SPICY",secondary:"SWEET",traits:[{id:"clingy",label:"Clingy",intensity:70},{id:"toyObsessed",label:"Toy-Obsessed",intensity:60},{id:"foodMotivated",label:"Food-Motivated",intensity:55}],adoptedAt:null,revealedAt:null,revealReady:!1},LS={favoriteToyId:null,lastFedAt:null,lastPlayedAt:null,lastBathedAt:null,lastTrainedAt:null,lastSeenAt:null,neglectStrikes:0},MS={lifestyle:null,chosenAt:null,perks:{hungerDecayMultiplier:1,happinessGainMultiplier:1,trainingXpMultiplier:1}},FS={obedience:{sit:{level:0,xp:0},stay:{level:0,xp:0},rollOver:{level:0,xp:0},speak:{level:0,xp:0}}},jS={lastSampleAt:null,history:[]},US={entries:[]},zS={currentStreakDays:0,bestStreakDays:0,lastActiveDate:null},Cy={name:"Pup",level:1,xp:0,coins:0,stats:{hunger:50,happiness:60,energy:60,cleanliness:60},poopCount:0,pottyLevel:0,isAsleep:!1,debug:!1,lastUpdatedAt:null,temperament:VS,memory:LS,career:MS,skills:FS,mood:jS,journal:US,streak:zS};function hs(n,e=Ut()){if(!n.lastUpdatedAt){n.lastUpdatedAt=e;return}const t=Math.max(0,(e-n.lastUpdatedAt)/(1e3*60*60));if(t<=0)return;const i=n.career.perks?.hungerDecayMultiplier||1;Object.entries(n.stats).forEach(([l,h])=>{let p=(xS[l]||0)*t;l==="hunger"&&(p*=i),n.stats[l]=Kt(h-p,0,100)}),t>=24&&(n.memory.neglectStrikes+=1,Tc(n,{type:"NEGLECT",moodTag:"LONELY",summary:"Dear hooman I missed you.",body:`Dear hooman,

I wasnt sure if you were chasing squirrels or just busy, but I got pretty lonely while you were gone. Next time, can we play a little sooner?

 your pup`,timestamp:e})),n.lastUpdatedAt=e}function xr(n,e=Ut(),t="TICK"){const i=n.mood.lastSampleAt;if(i&&e-i<NS*60*1e3)return;const{hunger:o,happiness:l,energy:h,cleanliness:f}=n.stats;let p="NEUTRAL";l>75&&o<60?p="HAPPY":o>75?p="HUNGRY":h<30?p="SLEEPY":f<30&&(p="DIRTY"),n.mood.history.unshift({timestamp:e,tag:p,reason:t,hunger:Math.round(o),happiness:Math.round(l),energy:Math.round(h),cleanliness:Math.round(f)}),n.mood.history.length>100&&(n.mood.history.length=100),n.mood.lastSampleAt=e}function Tc(n,e){const t=e.timestamp??Ut(),i=`${t}-${n.journal.entries.length+1}`;n.journal.entries.unshift({id:i,timestamp:t,type:e.type||"INFO",moodTag:e.moodTag||null,summary:e.summary||"",body:e.body||""}),n.journal.entries.length>200&&(n.journal.entries.length=200)}function ds(n,e=10){n.xp+=e;const t=1+Math.floor(n.xp/DS);t>n.level&&(n.level=t,Tc(n,{type:"LEVEL_UP",moodTag:"HAPPY",summary:`Level up! Now level ${n.level}.`,body:`Nice work, hooman. Im now level ${n.level}! New tricks unlocked soon`}))}function BS(n,e,t,i=5){if(!t[n]||!t[n][e])return;const o=t[n][e];o.xp+=i;const l=Math.floor(o.xp/bS);l>o.level&&(o.level=l)}function Yu(n,e){const{currentStreakDays:t,bestStreakDays:i,lastActiveDate:o}=n;if(!o){n.currentStreakDays=1,n.bestStreakDays=Math.max(i,1),n.lastActiveDate=e;return}if(o===e)return;const l=new Date(o),h=new Date(e);Math.round((h-l)/(1e3*60*60*24))===1?n.currentStreakDays=t+1:n.currentStreakDays=1,n.bestStreakDays=Math.max(n.bestStreakDays,n.currentStreakDays),n.lastActiveDate=e}function fs(n,e=Ut()){const t=n.temperament.adoptedAt;if(!t||n.temperament.revealedAt)return;OS(t,e)>=3&&(n.temperament.revealReady=!0)}const R_=SS({name:"dog",initialState:Cy,reducers:{hydrateDog(n,{payload:e}){if(!(!e||typeof e!="object"))return{...n,...e,stats:{...n.stats,...e.stats||{}}}},setDogName(n,{payload:e}){n.name=e||"Pup"},setAdoptedAt(n,{payload:e}){n.temperament.adoptedAt=e??Ut()},setCareerLifestyle(n,{payload:e}){const{lifestyle:t,perks:i}=e||{};n.career.lifestyle=t||null,n.career.chosenAt=Ut(),i&&typeof i=="object"&&(n.career.perks={...n.career.perks,...i})},markTemperamentRevealed(n){n.temperament.revealedAt=Ut(),n.temperament.revealReady=!1},updateFavoriteToy(n,{payload:e}){n.memory.favoriteToyId=e||null},feed(n,{payload:e}){const t=e?.now??Ut();hs(n,t);const i=e?.amount??20;n.stats.hunger=Kt(n.stats.hunger-i,0,100),n.stats.happiness=Kt(n.stats.happiness+5,0,100),n.memory.lastFedAt=t,n.memory.lastSeenAt=t,ds(n,5),xr(n,t,"FEED");const o=new Date(t).toISOString().slice(0,10);Yu(n.streak,o),fs(n,t)},play(n,{payload:e}){const t=e?.now??Ut();hs(n,t);const i=e?.timeOfDay==="MORNING"?2:1,l=(e?.happinessGain??15)*i;n.stats.happiness=Kt(n.stats.happiness+l,0,100),n.stats.energy=Kt(n.stats.energy-10,0,100),n.memory.lastPlayedAt=t,n.memory.lastSeenAt=t,ds(n,8),xr(n,t,"PLAY");const h=new Date(t).toISOString().slice(0,10);Yu(n.streak,h),fs(n,t)},rest(n,{payload:e}){const t=e?.now??Ut();hs(n,t),n.isAsleep=!0,n.stats.energy=Kt(n.stats.energy+20,0,100),n.stats.happiness=Kt(n.stats.happiness+3,0,100),n.memory.lastSeenAt=t,ds(n,3),xr(n,t,"REST"),fs(n,t)},wakeUp(n){n.isAsleep=!1},bathe(n,{payload:e}){const t=e?.now??Ut();hs(n,t),n.stats.cleanliness=Kt(n.stats.cleanliness+30,0,100),n.stats.happiness=Kt(n.stats.happiness-5,0,100),n.memory.lastBathedAt=t,n.memory.lastSeenAt=t,ds(n,4),xr(n,t,"BATHE"),fs(n,t)},increasePottyLevel(n,{payload:e}){const t=e?.amount??10;n.pottyLevel=Kt(n.pottyLevel+t,0,100)},goPotty(n,{payload:e}){const t=e?.now??Ut();n.pottyLevel=0,n.poopCount+=1,n.stats.happiness=Kt(n.stats.happiness+3,0,100),n.memory.lastSeenAt=t,ds(n,2),xr(n,t,"POTTY")},scoopPoop(n,{payload:e}){const t=e?.now??Ut();n.poopCount>0&&(n.poopCount-=1,n.stats.cleanliness=Kt(n.stats.cleanliness+10,0,100),n.stats.happiness=Kt(n.stats.happiness+2,0,100),ds(n,2),xr(n,t,"SCOOP")),n.memory.lastSeenAt=t},tickDog(n,{payload:e}){const t=e?.now??Ut();hs(n,t),xr(n,t,"TICK"),fs(n,t)},registerSessionStart(n,{payload:e}){const t=e?.now??Ut();hs(n,t),xr(n,t,"SESSION_START"),n.memory.lastSeenAt=t;const i=new Date(t).toISOString().slice(0,10);Yu(n.streak,i),fs(n,t)},trainObedience(n,{payload:e}){const{commandId:t,success:i=!0,xp:o=6,now:l}=e||{};if(!t||!i)return;const h=l??Ut();hs(n,h),BS("obedience",t,n.skills,o),n.memory.lastTrainedAt=h,n.memory.lastSeenAt=h,n.stats.happiness=Kt(n.stats.happiness+8,0,100),n.stats.energy=Kt(n.stats.energy-5,0,100),ds(n,10),xr(n,h,"TRAINING"),Tc(n,{type:"TRAINING",moodTag:"HAPPY",summary:`Practiced ${t}.`,body:`We worked on "${t}" today. I think I'm getting the hang of it!`,timestamp:h});const f=new Date(h).toISOString().slice(0,10);Yu(n.streak,f),fs(n,h)},addJournalEntry(n,{payload:e}){Tc(n,e||{})},toggleDebug(n){n.debug=!n.debug},resetDogState(){return Cy}}}),P_=n=>n.dog,{hydrateDog:k_,setDogName:aN,setAdoptedAt:lN,setCareerLifestyle:uN,markTemperamentRevealed:cN,updateFavoriteToy:hN,feed:$S,play:HS,rest:dN,wakeUp:fN,bathe:WS,increasePottyLevel:pN,goPotty:mN,scoopPoop:gN,tickDog:Ry,registerSessionStart:Py,trainObedience:yN,addJournalEntry:vN,toggleDebug:_N,resetDogState:ky}=R_.actions,qS=R_.reducer,GS=()=>{};var xy={};const x_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},KS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,L=y&63;p||(L=64,h||(S=64)),i.push(t[w],t[T],t[S],t[L])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(x_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new QS;const S=l<<2|f>>4;if(i.push(S),y!==64){const L=f<<4&240|y>>2;if(i.push(L),T!==64){const B=y<<6&192|T;i.push(B)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XS=function(n){const e=x_(n);return N_.encodeByteArray(e,!0)},Ic=function(n){return XS(n).replace(/\./g,"")},D_=function(n){try{return N_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JS=()=>YS().__FIREBASE_DEFAULTS__,ZS=()=>{if(typeof process>"u"||typeof xy>"u")return;const n=xy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&D_(n[1]);return e&&JSON.parse(e)},Qc=()=>{try{return GS()||JS()||ZS()||e1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b_=n=>{var e,t;return(t=(e=Qc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},t1=n=>{const e=b_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},O_=()=>{var n;return(n=Qc())===null||n===void 0?void 0:n.config},V_=n=>{var e;return(e=Qc())===null||e===void 0?void 0:e[`_${n}`]};class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Wo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L_(n){return(await fetch(n,{credentials:"include"})).ok}function r1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ic(JSON.stringify(t)),Ic(JSON.stringify(h)),""].join(".")}const Za={};function i1(){const n={prod:[],emulator:[]};for(const e of Object.keys(Za))Za[e]?n.emulator.push(e):n.prod.push(e);return n}function s1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ny=!1;function M_(n,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Za[n]===e||Za[n]||Ny)return;Za[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=i1().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ny=!0,h()},S}function w(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=s1(i),L=t("text"),B=document.getElementById(L)||document.createElement("span"),H=t("learnmore"),O=document.getElementById(H)||document.createElement("a"),J=t("preprendIcon"),Z=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;f(W),w(O,H);const re=y();p(Z,J),W.append(Z,B,O,re),document.body.appendChild(W)}l?(B.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function a1(){var n;const e=(n=Qc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h1(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function d1(){return!a1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const m1="FirebaseError";class $r extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=m1,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?g1(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new $r(o,f,i)}}function g1(n,e){return n.replace(y1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const y1=/\{\$([^}]+)}/g;function v1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ts(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Dy(l)&&Dy(h)){if(!Ts(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Dy(n){return n!==null&&typeof n=="object"}function Il(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _1(n,e){const t=new w1(n,e);return t.subscribe.bind(t)}class w1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");E1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kd(){}function An(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class T1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new n1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S1(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:I1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I1(n){return n===gs?void 0:n}function S1(n){return n.instantiationMode==="EAGER"}class A1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const C1={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},R1=ke.INFO,P1={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},k1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=P1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xf{constructor(e){this.name=e,this._logLevel=R1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const x1=(n,e)=>e.some(t=>n instanceof t);let by,Oy;function N1(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D1(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,gf=new WeakMap,j_=new WeakMap,Qd=new WeakMap,Yf=new WeakMap;function b1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ti(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&F_.set(t,n)}).catch(()=>{}),Yf.set(e,n),e}function O1(n){if(gf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});gf.set(n,e)}let yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||j_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V1(n){yf=n(yf)}function L1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Xd(this),e,...t);return j_.set(i,e.sort?e.sort():[e]),Ti(i)}:D1().includes(n)?function(...e){return n.apply(Xd(this),e),Ti(F_.get(this))}:function(...e){return Ti(n.apply(Xd(this),e))}}function M1(n){return typeof n=="function"?L1(n):(n instanceof IDBTransaction&&O1(n),x1(n,N1())?new Proxy(n,yf):n)}function Ti(n){if(n instanceof IDBRequest)return b1(n);if(Qd.has(n))return Qd.get(n);const e=M1(n);return e!==n&&(Qd.set(n,e),Yf.set(e,n)),e}const Xd=n=>Yf.get(n);function F1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Ti(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Ti(h.result),p.oldVersion,p.newVersion,Ti(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const j1=["get","getKey","getAll","getAllKeys","count"],U1=["put","add","delete","clear"],Yd=new Map;function Vy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=U1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||j1.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Yd.set(e,l),l}V1(n=>({...n,get:(e,t,i)=>Vy(e,t)||n.get(e,t,i),has:(e,t)=>!!Vy(e,t)||n.has(e,t)}));class z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function B1(n){const e=n.getComponent();return e?.type==="VERSION"}const vf="@firebase/app",Ly="0.13.2";const Fr=new Xf("@firebase/app"),$1="@firebase/app-compat",H1="@firebase/analytics-compat",W1="@firebase/analytics",q1="@firebase/app-check-compat",G1="@firebase/app-check",K1="@firebase/auth",Q1="@firebase/auth-compat",X1="@firebase/database",Y1="@firebase/data-connect",J1="@firebase/database-compat",Z1="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",rA="@firebase/messaging",iA="@firebase/messaging-compat",sA="@firebase/performance",oA="@firebase/performance-compat",aA="@firebase/remote-config",lA="@firebase/remote-config-compat",uA="@firebase/storage",cA="@firebase/storage-compat",hA="@firebase/firestore",dA="@firebase/ai",fA="@firebase/firestore-compat",pA="firebase",mA="11.10.0";const _f="[DEFAULT]",gA={[vf]:"fire-core",[$1]:"fire-core-compat",[W1]:"fire-analytics",[H1]:"fire-analytics-compat",[G1]:"fire-app-check",[q1]:"fire-app-check-compat",[K1]:"fire-auth",[Q1]:"fire-auth-compat",[X1]:"fire-rtdb",[Y1]:"fire-data-connect",[J1]:"fire-rtdb-compat",[Z1]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[rA]:"fire-fcm",[iA]:"fire-fcm-compat",[sA]:"fire-perf",[oA]:"fire-perf-compat",[aA]:"fire-rc",[lA]:"fire-rc-compat",[uA]:"fire-gcs",[cA]:"fire-gcs-compat",[hA]:"fire-fst",[fA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[pA]:"fire-js-all"};const Sc=new Map,yA=new Map,wf=new Map;function My(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(wf.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,n);for(const t of Sc.values())My(t,n);for(const t of yA.values())My(t,n);return!0}function Jf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n==null?!1:n.settings!==void 0}const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Tl("app","Firebase",vA);class _A{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const qo=mA;function U_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_f,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(t||(t=O_()),!t)throw Ii.create("no-options");const l=Sc.get(o);if(l){if(Ts(t,l.options)&&Ts(i,l.config))return l;throw Ii.create("duplicate-app",{appName:o})}const h=new A1(o);for(const p of wf.values())h.addComponent(p);const f=new _A(t,i,h);return Sc.set(o,f),f}function z_(n=_f){const e=Sc.get(n);if(!e&&n===_f&&O_())return U_();if(!e)throw Ii.create("no-app",{appName:n});return e}function Si(n,e,t){var i;let o=(i=gA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}Vo(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const wA="firebase-heartbeat-database",EA=1,hl="firebase-heartbeat-store";let Jd=null;function B_(){return Jd||(Jd=F1(wA,EA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),Jd}async function TA(n){try{const t=(await B_()).transaction(hl),i=await t.objectStore(hl).get($_(n));return await t.done,i}catch(e){if(e instanceof $r)Fr.warn(e.message);else{const t=Ii.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(t.message)}}}async function Fy(n,e){try{const i=(await B_()).transaction(hl,"readwrite");await i.objectStore(hl).put(e,$_(n)),await i.done}catch(t){if(t instanceof $r)Fr.warn(t.message);else{const i=Ii.create("idb-set",{originalErrorMessage:t?.message});Fr.warn(i.message)}}}function $_(n){return`${n.name}!${n.options.appId}`}const IA=1024,SA=30;class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=jy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>SA){const h=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jy(),{heartbeatsToSend:i,unsentEntries:o}=CA(this._heartbeatsCache.heartbeats),l=Ic(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function jy(){return new Date().toISOString().substring(0,10)}function CA(n,e=IA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Uy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Uy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Uy(n){return Ic(JSON.stringify({version:2,heartbeats:n})).length}function PA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function kA(n){Vo(new Is("platform-logger",e=>new z1(e),"PRIVATE")),Vo(new Is("heartbeat",e=>new AA(e),"PRIVATE")),Si(vf,Ly,n),Si(vf,Ly,"esm2017"),Si("fire-js","")}kA("");var xA="firebase",NA="11.10.0";Si(xA,NA,"app");function Zf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function H_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DA=H_,W_=new Tl("auth","Firebase",H_());const Ac=new Xf("@firebase/auth");function bA(n,...e){Ac.logLevel<=ke.WARN&&Ac.warn(`Auth (${qo}): ${n}`,...e)}function sc(n,...e){Ac.logLevel<=ke.ERROR&&Ac.error(`Auth (${qo}): ${n}`,...e)}function jr(n,...e){throw ep(n,...e)}function ir(n,...e){return ep(n,...e)}function q_(n,e,t){const i=Object.assign(Object.assign({},DA()),{[e]:t});return new Tl("auth","Firebase",i).create(e,{appName:n.name})}function vs(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return W_.create(n,...e)}function Te(n,e,...t){if(!n)throw ep(e,...t)}function br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sc(e),new Error(e)}function Ur(n,e){n||br(e)}function Ef(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OA(){return zy()==="http:"||zy()==="https:"}function zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function VA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||u1()||"connection"in navigator)?navigator.onLine:!0}function LA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=o1()||c1()}get(){return VA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tp(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jA=new Sl(3e4,6e4);function np(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Go(n,e,t,i,o={}){return K_(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Il(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return l1()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(y.credentials="include"),G_.fetch()(await Q_(n,n.config.apiHost,t,f),y)})}async function K_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},MA),e);try{const o=new zA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ju(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Ju(n,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw q_(n,w,y);jr(n,w)}}catch(o){if(o instanceof $r)throw o;jr(n,"network-request-failed",{message:String(o)})}}async function UA(n,e,t,i,o={}){const l=await Go(n,e,t,i,o);return"mfaPendingCredential"in l&&jr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Q_(n,e,t,i){const o=`${e}${t}?${i}`,l=n,h=l.config.emulator?tp(n.config,o):`${n.config.apiScheme}://${o}`;return FA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class zA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),jA.get())})}}function Ju(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ir(n,e,i);return o.customData._tokenResponse=t,o}async function BA(n,e){return Go(n,"POST","/v1/accounts:delete",e)}async function Cc(n,e){return Go(n,"POST","/v1/accounts:lookup",e)}function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $A(n,e=!1){const t=An(n),i=await t.getIdToken(e),o=rp(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:el(Zd(o.auth_time)),issuedAtTime:el(Zd(o.iat)),expirationTime:el(Zd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Zd(n){return Number(n)*1e3}function rp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=D_(t);return o?JSON.parse(o):(sc("Failed to decode base64 JWT payload"),null)}catch(o){return sc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function By(n){const e=rp(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $r&&HA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function HA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await dl(n,Cc(t,{idToken:i}));Te(o?.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?X_(l.providerUserInfo):[],f=GA(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!f?.length,w=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Tf(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function qA(n){const e=An(n);await Rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function X_(n){return n.map(e=>{var{providerId:t}=e,i=Zf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function KA(n,e){const t=await K_(n,{},async()=>{const i=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await Q_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(p.credentials="include"),G_.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QA(n,e){return Go(n,"POST","/v2/accounts:revokeToken",np(n,e))}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):By(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=By(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await KA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new xo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return br("not implemented")}}function mi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $A(this,e)}reload(){return qA(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await dl(this,BA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,L=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,B=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,J=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:W,emailVerified:re,isAnonymous:oe,providerData:fe,stsTokenManager:P}=t;Te(W&&P,e,"internal-error");const I=xo.fromJSON(this.name,P);Te(typeof W=="string",e,"internal-error"),mi(T,e.name),mi(S,e.name),Te(typeof re=="boolean",e,"internal-error"),Te(typeof oe=="boolean",e,"internal-error"),mi(L,e.name),mi(B,e.name),mi(H,e.name),mi(O,e.name),mi(J,e.name),mi(Z,e.name);const C=new Bn({uid:W,auth:e,email:S,emailVerified:re,displayName:T,isAnonymous:oe,photoURL:B,phoneNumber:L,tenantId:H,stsTokenManager:I,createdAt:J,lastLoginAt:Z});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(x=>Object.assign({},x))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new xo;o.updateFromServerResponse(t);const l=new Bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?X_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new xo;f.updateFromIdToken(i);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}const $y=new Map;function Or(n){Ur(n instanceof Function,"Expected a class definition");let e=$y.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$y.set(n,e),e)}class Y_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y_.type="NONE";const Hy=Y_;function oc(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=oc(this.userKey,o.apiKey,l),this.fullPersistenceKey=oc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cc(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new No(Or(Hy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Or(Hy);const h=oc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(h);if(w){let T;if(typeof w=="string"){const S=await Cc(e,{idToken:w}).catch(()=>{});if(!S)break;T=await Bn._fromGetAccountInfoResponse(e,S,w)}else T=Bn._fromJSON(e,w);y!==l&&(f=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new No(l,e,i))}}function Wy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r0(e))return"Blackberry";if(i0(e))return"Webos";if(Z_(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function J_(n=$t()){return/firefox\//i.test(n)}function Z_(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(n=$t()){return/crios\//i.test(n)}function t0(n=$t()){return/iemobile/i.test(n)}function n0(n=$t()){return/android/i.test(n)}function r0(n=$t()){return/blackberry/i.test(n)}function i0(n=$t()){return/webos/i.test(n)}function ip(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XA(n=$t()){var e;return ip(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YA(){return h1()&&document.documentMode===10}function s0(n=$t()){return ip(n)||n0(n)||i0(n)||r0(n)||/windows phone/i.test(n)||t0(n)}function o0(n,e=[]){let t;switch(n){case"Browser":t=Wy($t());break;case"Worker":t=`${Wy($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${i}`}class JA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function ZA(n,e={}){return Go(n,"GET","/v2/passwordPolicy",np(n,e))}const eC=6;class tC{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:eC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class nC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qy(this),this.idTokenSubscription=new qy(this),this.beforeStateQueue=new JA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cc(this,{idToken:e}),i=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(vs(this));const t=e?An(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZA(this),t=new tC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await QA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&bA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function sp(n){return An(n)}class qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=_1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(n){op=n}function iC(n){return op.loadJS(n)}function sC(){return op.gapiScript}function oC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function aC(n,e){const t=Jf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ts(l,e??{}))return o;jr(o,"already-initialized")}return t.initialize({options:e})}function lC(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function uC(n,e,t){const i=sp(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=a0(e),{host:h,port:f}=cC(e),p=f===null?"":`:${f}`,y={url:`${l}//${h}${p}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Ts(y,i.config.emulator)&&Ts(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Wo(h)?(L_(`${l}//${h}${p}`),M_("Auth",!0)):hC()}function a0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cC(n){const e=a0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Gy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Gy(h)}}}function Gy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class l0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function Do(n,e){return UA(n,"POST","/v1/accounts:signInWithIdp",np(n,e))}const dC="http://localhost";class Ss extends l0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Zf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Ss(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:dC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Il(t)}return e}}class u0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Al extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Nr extends Al{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";class Dr extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ss._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Dr.credential(t,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class yi extends Al{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";class vi extends Al{constructor(){super("twitter.com")}static credential(e,t){return Ss._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Bn._fromIdTokenResponse(e,i,o),h=Ky(i);return new Lo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ky(i);return new Lo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ky(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Pc extends $r{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Pc(e,t,i,o)}}function c0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(n,l,e,i):l})}async function fC(n,e,t=!1){const i=await dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lo._forOperation(n,"link",i)}async function pC(n,e,t=!1){const{auth:i}=n;if(rr(i.app))return Promise.reject(vs(i));const o="reauthenticate";try{const l=await dl(n,c0(i,o,e,n),t);Te(l.idToken,i,"internal-error");const h=rp(l.idToken);Te(h,i,"internal-error");const{sub:f}=h;return Te(n.uid===f,i,"user-mismatch"),Lo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&jr(i,"user-mismatch"),l}}async function mC(n,e,t=!1){if(rr(n.app))return Promise.reject(vs(n));const i="signIn",o=await c0(n,i,e),l=await Lo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function gC(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function yC(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function vC(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}function _C(n){return An(n).signOut()}const kc="__sak";class h0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,EC=10;class d0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);YA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}d0.type="LOCAL";const TC=d0;class f0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}f0.type="SESSION";const p0=f0;function IC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Xc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await IC(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];function ap(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=ap("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function sr(){return window}function AC(n){sr().location.href=n}function m0(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function CC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RC(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PC(){return m0()?self:null}const g0="firebaseLocalStorageDb",kC=1,xc="firebaseLocalStorage",y0="fbase_key";class Cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yc(n,e){return n.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function xC(){const n=indexedDB.deleteDatabase(g0);return new Cl(n).toPromise()}function If(){const n=indexedDB.open(g0,kC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xc,{keyPath:y0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xc)?e(i):(i.close(),await xC(),e(await If()))})})}async function Qy(n,e,t){const i=Yc(n,!0).put({[y0]:e,value:t});return new Cl(i).toPromise()}async function NC(n,e){const t=Yc(n,!1).get(e),i=await new Cl(t).toPromise();return i===void 0?null:i.value}function Xy(n,e){const t=Yc(n,!0).delete(e);return new Cl(t).toPromise()}const DC=800,bC=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await If(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(PC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await If();return await Qy(e,kc,"1"),await Xy(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>NC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Yc(o,!1).getAll();return new Cl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const OC=v0;new Sl(3e4,6e4);function VC(n,e){return e?Or(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class lp extends l0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LC(n){return mC(n.auth,new lp(n),n.bypassAuthState)}function MC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),pC(t,new lp(n),n.bypassAuthState)}async function FC(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),fC(t,new lp(n),n.bypassAuthState)}class _0{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:jr(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jC=new Sl(2e3,1e4);class ko extends _0{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jC.get())};e()}}ko.currentPopupAction=null;const UC="pendingRedirect",ac=new Map;class zC extends _0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const i=await BC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BC(n,e){const t=WC(e),i=HC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function $C(n,e){ac.set(n._key(),e)}function HC(n){return Or(n._redirectPersistence)}function WC(n){return oc(UC,n.config.apiKey,n.name)}async function qC(n,e,t=!1){if(rr(n.app))return Promise.reject(vs(n));const i=sp(n),o=VC(i,e),h=await new zC(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const GC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!w0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yy(e))}saveEventToCache(e){this.cachedEventUids.add(Yy(e)),this.lastProcessedEventTime=Date.now()}}function Yy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function w0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function QC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w0(n);default:return!1}}async function XC(n,e={}){return Go(n,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^https?/;async function ZC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XC(n);for(const t of e)try{if(eR(t))return}catch{}jr(n,"unauthorized-domain")}function eR(n){const e=Ef(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!JC.test(t))return!1;if(YC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const tR=new Sl(3e4,6e4);function Jy(){const n=sr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nR(n){return new Promise((e,t)=>{var i,o,l;function h(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),t(ir(n,"network-request-failed"))},timeout:tR.get()})}if(!((o=(i=sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=sr().gapi)===null||l===void 0)&&l.load)h();else{const f=oC("iframefcb");return sr()[f]=()=>{gapi.load?h():t(ir(n,"network-request-failed"))},iC(`${sC()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw lc=null,e})}let lc=null;function rR(n){return lc=lc||nR(n),lc}const iR=new Sl(5e3,15e3),sR="__/auth/iframe",oR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uR(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tp(e,oR):`https://${n.config.authDomain}/${sR}`,i={apiKey:e.apiKey,appName:n.name,v:qo},o=lR.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Il(i).slice(1)}`}async function cR(n){const e=await rR(n),t=sr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:uR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=ir(n,"network-request-failed"),f=sr().setTimeout(()=>{l(h)},iR.get());function p(){sr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}const hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dR=500,fR=600,pR="_blank",mR="http://localhost";class Zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gR(n,e,t,i=dR,o=fR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},hR),{width:i.toString(),height:o.toString(),top:l,left:h}),y=$t().toLowerCase();t&&(f=e0(y)?pR:t),J_(y)&&(e=e||mR,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[L,B])=>`${S}${L}=${B},`,"");if(XA(y)&&f!=="_self")return yR(e||"",f),new Zy(null);const T=window.open(e||"",f,w);Te(T,n,"popup-blocked");try{T.focus()}catch{}return new Zy(T)}function yR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const vR="__/auth/handler",_R="emulator/auth/handler",wR=encodeURIComponent("fac");async function ev(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:qo,eventId:o};if(e instanceof u0){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",v1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof Al){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),y=p?`#${wR}=${encodeURIComponent(p)}`:"";return`${ER(n)}?${Il(f).slice(1)}${y}`}function ER({config:n}){return n.emulator?tp(n,_R):`https://${n.authDomain}/${vR}`}const ef="webStorageSupport";class TR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=qC,this._overrideRedirectResult=$C}async _openPopup(e,t,i,o){var l;Ur((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await ev(e,t,i,Ef(),o);return gR(e,h,ap())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ev(e,t,i,Ef(),o);return AC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await cR(e),i=new KC(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ef,{type:ef},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[ef];h!==void 0&&t(!!h),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return s0()||Z_()||ip()}}const IR=TR;var tv="@firebase/auth",nv="1.10.8";class SR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(n){Vo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(n)},y=new nC(i,o,l,p);return lC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new Is("auth-internal",e=>{const t=sp(e.getProvider("auth").getImmediate());return(i=>new SR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(tv,nv,AR(n)),Si(tv,nv,"esm2017")}const RR=300,PR=V_("authIdTokenMaxAge")||RR;let rv=null;const kR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>PR)return;const o=t?.token;rv!==o&&(rv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xR(n=z_()){const e=Jf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aC(n,{popupRedirectResolver:IR,persistence:[OC,TC,p0]}),i=V_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=kR(l.toString());yC(t,h,()=>h(t.currentUser)),gC(t,f=>h(f))}}const o=b_("auth");return o&&uC(t,`http://${o}`),t}function NR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",NR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ai,E0;(function(){var n;function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(x,b,M){for(var R=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)R[Ue-2]=arguments[Ue];return I.prototype[b].apply(x,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,C){C||(C=0);var x=Array(16);if(typeof I=="string")for(var b=0;16>b;++b)x[b]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(b=0;16>b;++b)x[b]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],b=P.g[2];var M=P.g[3],R=I+(M^C&(b^M))+x[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=M+(b^I&(C^b))+x[1]+3905402710&4294967295,M=I+(R<<12&4294967295|R>>>20),R=b+(C^M&(I^C))+x[2]+606105819&4294967295,b=M+(R<<17&4294967295|R>>>15),R=C+(I^b&(M^I))+x[3]+3250441966&4294967295,C=b+(R<<22&4294967295|R>>>10),R=I+(M^C&(b^M))+x[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(b^I&(C^b))+x[5]+1200080426&4294967295,M=I+(R<<12&4294967295|R>>>20),R=b+(C^M&(I^C))+x[6]+2821735955&4294967295,b=M+(R<<17&4294967295|R>>>15),R=C+(I^b&(M^I))+x[7]+4249261313&4294967295,C=b+(R<<22&4294967295|R>>>10),R=I+(M^C&(b^M))+x[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(b^I&(C^b))+x[9]+2336552879&4294967295,M=I+(R<<12&4294967295|R>>>20),R=b+(C^M&(I^C))+x[10]+4294925233&4294967295,b=M+(R<<17&4294967295|R>>>15),R=C+(I^b&(M^I))+x[11]+2304563134&4294967295,C=b+(R<<22&4294967295|R>>>10),R=I+(M^C&(b^M))+x[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(b^I&(C^b))+x[13]+4254626195&4294967295,M=I+(R<<12&4294967295|R>>>20),R=b+(C^M&(I^C))+x[14]+2792965006&4294967295,b=M+(R<<17&4294967295|R>>>15),R=C+(I^b&(M^I))+x[15]+1236535329&4294967295,C=b+(R<<22&4294967295|R>>>10),R=I+(b^M&(C^b))+x[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^b&(I^C))+x[6]+3225465664&4294967295,M=I+(R<<9&4294967295|R>>>23),R=b+(I^C&(M^I))+x[11]+643717713&4294967295,b=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(b^M))+x[0]+3921069994&4294967295,C=b+(R<<20&4294967295|R>>>12),R=I+(b^M&(C^b))+x[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^b&(I^C))+x[10]+38016083&4294967295,M=I+(R<<9&4294967295|R>>>23),R=b+(I^C&(M^I))+x[15]+3634488961&4294967295,b=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(b^M))+x[4]+3889429448&4294967295,C=b+(R<<20&4294967295|R>>>12),R=I+(b^M&(C^b))+x[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^b&(I^C))+x[14]+3275163606&4294967295,M=I+(R<<9&4294967295|R>>>23),R=b+(I^C&(M^I))+x[3]+4107603335&4294967295,b=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(b^M))+x[8]+1163531501&4294967295,C=b+(R<<20&4294967295|R>>>12),R=I+(b^M&(C^b))+x[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^b&(I^C))+x[2]+4243563512&4294967295,M=I+(R<<9&4294967295|R>>>23),R=b+(I^C&(M^I))+x[7]+1735328473&4294967295,b=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(b^M))+x[12]+2368359562&4294967295,C=b+(R<<20&4294967295|R>>>12),R=I+(C^b^M)+x[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^b)+x[8]+2272392833&4294967295,M=I+(R<<11&4294967295|R>>>21),R=b+(M^I^C)+x[11]+1839030562&4294967295,b=M+(R<<16&4294967295|R>>>16),R=C+(b^M^I)+x[14]+4259657740&4294967295,C=b+(R<<23&4294967295|R>>>9),R=I+(C^b^M)+x[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^b)+x[4]+1272893353&4294967295,M=I+(R<<11&4294967295|R>>>21),R=b+(M^I^C)+x[7]+4139469664&4294967295,b=M+(R<<16&4294967295|R>>>16),R=C+(b^M^I)+x[10]+3200236656&4294967295,C=b+(R<<23&4294967295|R>>>9),R=I+(C^b^M)+x[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^b)+x[0]+3936430074&4294967295,M=I+(R<<11&4294967295|R>>>21),R=b+(M^I^C)+x[3]+3572445317&4294967295,b=M+(R<<16&4294967295|R>>>16),R=C+(b^M^I)+x[6]+76029189&4294967295,C=b+(R<<23&4294967295|R>>>9),R=I+(C^b^M)+x[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^b)+x[12]+3873151461&4294967295,M=I+(R<<11&4294967295|R>>>21),R=b+(M^I^C)+x[15]+530742520&4294967295,b=M+(R<<16&4294967295|R>>>16),R=C+(b^M^I)+x[2]+3299628645&4294967295,C=b+(R<<23&4294967295|R>>>9),R=I+(b^(C|~M))+x[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~b))+x[7]+1126891415&4294967295,M=I+(R<<10&4294967295|R>>>22),R=b+(I^(M|~C))+x[14]+2878612391&4294967295,b=M+(R<<15&4294967295|R>>>17),R=C+(M^(b|~I))+x[5]+4237533241&4294967295,C=b+(R<<21&4294967295|R>>>11),R=I+(b^(C|~M))+x[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~b))+x[3]+2399980690&4294967295,M=I+(R<<10&4294967295|R>>>22),R=b+(I^(M|~C))+x[10]+4293915773&4294967295,b=M+(R<<15&4294967295|R>>>17),R=C+(M^(b|~I))+x[1]+2240044497&4294967295,C=b+(R<<21&4294967295|R>>>11),R=I+(b^(C|~M))+x[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~b))+x[15]+4264355552&4294967295,M=I+(R<<10&4294967295|R>>>22),R=b+(I^(M|~C))+x[6]+2734768916&4294967295,b=M+(R<<15&4294967295|R>>>17),R=C+(M^(b|~I))+x[13]+1309151649&4294967295,C=b+(R<<21&4294967295|R>>>11),R=I+(b^(C|~M))+x[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~b))+x[11]+3174756917&4294967295,M=I+(R<<10&4294967295|R>>>22),R=b+(I^(M|~C))+x[2]+718787259&4294967295,b=M+(R<<15&4294967295|R>>>17),R=C+(M^(b|~I))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+b&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,x=this.B,b=this.h,M=0;M<I;){if(b==0)for(;M<=C;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<I;)if(x[b++]=P.charCodeAt(M++),b==this.blockSize){o(this,x),b=0;break}}else for(;M<I;)if(x[b++]=P[M++],b==this.blockSize){o(this,x),b=0;break}}this.h=b,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var x=0;32>x;x+=8)P[C++]=this.g[I]>>>x&255;return P};function l(P,I){var C=f;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function h(P,I){this.h=I;for(var C=[],x=!0,b=P.length-1;0<=b;b--){var M=P[b]|0;x&&M==I||(C[b]=M,x=!1)}this.g=C}var f={};function p(P){return-128<=P&&128>P?l(P,function(I){return new h([I|0],0>I?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return O(y(-P));for(var I=[],C=1,x=0;P>=C;x++)I[x]=P/C|0,C*=4294967296;return new h(I,0)}function w(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return O(w(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),x=T,b=0;b<P.length;b+=8){var M=Math.min(8,P.length-b),R=parseInt(P.substring(b,b+M),I);8>M?(M=y(Math.pow(I,M)),x=x.j(M).add(y(R))):(x=x.j(C),x=x.add(y(R)))}return x}var T=p(0),S=p(1),L=p(16777216);n=h.prototype,n.m=function(){if(H(this))return-O(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var x=this.i(C);P+=(0<=x?x:4294967296+x)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(B(this))return"0";if(H(this))return"-"+O(this).toString(P);for(var I=y(Math.pow(P,6)),C=this,x="";;){var b=re(C,I).g;C=J(C,b.j(I));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=b,B(C))return M+x;for(;6>M.length;)M="0"+M;x=M+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function B(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function H(P){return P.h==-1}n.l=function(P){return P=J(this,P),H(P)?-1:B(P)?0:1};function O(P){for(var I=P.g.length,C=[],x=0;x<I;x++)C[x]=~P.g[x];return new h(C,~P.h).add(S)}n.abs=function(){return H(this)?O(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0,b=0;b<=I;b++){var M=x+(this.i(b)&65535)+(P.i(b)&65535),R=(M>>>16)+(this.i(b)>>>16)+(P.i(b)>>>16);x=R>>>16,M&=65535,R&=65535,C[b]=R<<16|M}return new h(C,C[C.length-1]&-2147483648?-1:0)};function J(P,I){return P.add(O(I))}n.j=function(P){if(B(this)||B(P))return T;if(H(this))return H(P)?O(this).j(O(P)):O(O(this).j(P));if(H(P))return O(this.j(O(P)));if(0>this.l(L)&&0>P.l(L))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],x=0;x<2*I;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var b=0;b<P.g.length;b++){var M=this.i(x)>>>16,R=this.i(x)&65535,Ue=P.i(b)>>>16,vt=P.i(b)&65535;C[2*x+2*b]+=R*vt,Z(C,2*x+2*b),C[2*x+2*b+1]+=M*vt,Z(C,2*x+2*b+1),C[2*x+2*b+1]+=R*Ue,Z(C,2*x+2*b+1),C[2*x+2*b+2]+=M*Ue,Z(C,2*x+2*b+2)}for(x=0;x<I;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=I;x<2*I;x++)C[x]=0;return new h(C,0)};function Z(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function W(P,I){this.g=P,this.h=I}function re(P,I){if(B(I))throw Error("division by zero");if(B(P))return new W(T,T);if(H(P))return I=re(O(P),I),new W(O(I.g),O(I.h));if(H(I))return I=re(P,O(I)),new W(O(I.g),I.h);if(30<P.g.length){if(H(P)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,x=I;0>=x.l(P);)C=oe(C),x=oe(x);var b=fe(C,1),M=fe(x,1);for(x=fe(x,2),C=fe(C,2);!B(x);){var R=M.add(x);0>=R.l(P)&&(b=b.add(C),M=R),x=fe(x,1),C=fe(C,1)}return I=J(P,b.j(I)),new W(b,I)}for(b=T;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),M=y(C),R=M.j(I);H(R)||0<R.l(P);)C-=x,M=y(C),R=M.j(I);B(M)&&(M=S),b=b.add(M),P=J(P,R)}return new W(b,P)}n.A=function(P){return re(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)&P.i(x);return new h(C,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)|P.i(x);return new h(C,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)^P.i(x);return new h(C,this.h^P.h)};function oe(P){for(var I=P.g.length+1,C=[],x=0;x<I;x++)C[x]=P.i(x)<<1|P.i(x-1)>>>31;return new h(C,P.h)}function fe(P,I){var C=I>>5;I%=32;for(var x=P.g.length-C,b=[],M=0;M<x;M++)b[M]=0<I?P.i(M+C)>>>I|P.i(M+C+1)<<32-I:P.i(M+C);return new h(b,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,E0=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Ai=h}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var T0,Ka,I0,uc,Sf,S0,A0,C0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var F=u[E];if(!(F in v))break e;v=v[F]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,E=!1,F={next:function(){if(!E&&v<u.length){var $=v++;return{value:m($,u[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function B(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,F,$){for(var te=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)te[ze-2]=arguments[ze];return m.prototype[F].apply(E,te)}}function H(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function O(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(p(E)){const F=u.length||0,$=E.length||0;u.length=F+$;for(let te=0;te<$;te++)u[F+te]=E[te]}else u.push(E)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var oe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function fe(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(v in E)u[v]=E[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function b(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){f.setTimeout(()=>{throw u},0)}function R(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ue{constructor(){this.h=this.g=null}add(m,v){const E=vt.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var vt=new J(()=>new _t,u=>u.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ie=!1,ge=new Ue,le=()=>{const u=f.Promise.resolve(void 0);Be=()=>{u.then(V)}};var V=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){M(v)}var m=vt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function Re(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(oe){e:{try{re(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}B(Re,me);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function He(u,m,v,E,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=F,this.key=++Fe,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dr(u){this.src=u,this.g={},this.h=0}dr.prototype.add=function(u,m,v,E,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=Hr(u,m,E,F);return-1<te?(m=u[te],v||(m.fa=!1)):(m=new He(m,this.src,$,!!E,F),m.fa=v,u.push(m)),m};function Ns(u,m){var v=m.type;if(v in u.g){var E=u.g[v],F=Array.prototype.indexOf.call(E,m,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(wt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Hr(u,m,v,E){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==m&&$.capture==!!v&&$.ha==E)return F}return-1}var Mi="closure_lm_"+(1e6*Math.random()|0),Ds={};function Jo(u,m,v,E,F){if(Array.isArray(m)){for(var $=0;$<m.length;$++)Jo(u,m[$],v,E,F);return null}return v=ta(v),u&&u[Me]?u.K(m,v,y(E)?!!E.capture:!1,F):Zo(u,m,v,!1,E,F)}function Zo(u,m,v,E,F,$){if(!m)throw Error("Invalid event type");var te=y(F)?!!F.capture:!!F,ze=Os(u);if(ze||(u[Mi]=ze=new dr(u)),v=ze.add(m,v,E,te,$),v.proxy)return v;if(E=Dl(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)Ae||(F=te),F===void 0&&(F=!1),u.addEventListener(m.toString(),E,F);else if(u.attachEvent)u.attachEvent(pr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Dl(){function u(v){return m.call(u.src,u.listener,v)}const m=ea;return u}function bs(u,m,v,E,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)bs(u,m[$],v,E,F);else E=y(E)?!!E.capture:!!E,v=ta(v),u&&u[Me]?(u=u.i,m=String(m).toString(),m in u.g&&($=u.g[m],v=Hr($,v,E,F),-1<v&&(wt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[m],u.h--)))):u&&(u=Os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,v,E,F)),(v=-1<u?m[u]:null)&&fr(v))}function fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])Ns(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(pr(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=Os(m))?(Ns(v,u),v.h==0&&(v.src=null,m[Mi]=null)):wt(u)}}}function pr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function ea(u,m){if(u.da)u=!0;else{m=new Re(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&fr(u),u=v.call(E,m)}return u}function Os(u){return u=u[Mi],u instanceof dr?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function ht(){G.call(this),this.i=new dr(this),this.M=this,this.F=null}B(ht,G),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(u,m,v,E){bs(this,u,m,v,E)};function dt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var F=m;m=new me(E,u),x(m,F)}if(F=!0,v)for(var $=v.length-1;0<=$;$--){var te=m.g=v[$];F=mr(te,E,!0,m)&&F}if(te=m.g=u,F=mr(te,E,!0,m)&&F,F=mr(te,E,!1,m)&&F,v)for($=0;$<v.length;$++)te=m.g=v[$],F=mr(te,E,!1,m)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)wt(v[E]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},ht.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function mr(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,$=0;$<m.length;++$){var te=m[$];if(te&&!te.da&&te.capture==v){var ze=te.listener,ft=te.ha||te.src;te.fa&&Ns(u.i,te),F=ze.call(ft,E)!==!1&&F}}return F&&!E.defaultPrevented}function na(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Wr(u){u.g=na(()=>{u.g=null,u.i&&(u.i=!1,Wr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fi extends G{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){G.call(this),this.h=u,this.g={}}B(ji,G);var ra=[];function ia(u){fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&fr(m)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),ia(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=f.JSON.stringify,oa=f.JSON.parse,aa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ui(){}Ui.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function Ms(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){me.call(this,"d")}B(Hn,me);function Fs(){me.call(this,"c")}B(Fs,me);var Wn={},la=null;function zi(){return la=la||new ht}Wn.La="serverreachability";function ua(u){me.call(this,Wn.La,u)}B(ua,me);function gr(u){const m=zi();dt(m,new ua(m))}Wn.STAT_EVENT="statevent";function ca(u,m){me.call(this,Wn.STAT_EVENT,u),this.stat=m}B(ca,me);function rt(u){const m=zi();dt(m,new ca(m,u))}Wn.Ma="timingevent";function js(u,m){me.call(this,Wn.Ma,u),this.size=m}B(js,me);function Cn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function $i(u,m,v,E,F,$){u.info(function(){if(u.g)if($)for(var te="",ze=$.split("&"),ft=0;ft<ze.length;ft++){var be=ze[ft].split("=");if(1<be.length){var Et=be[0];be=be[1];var at=Et.split("_");te=2<=at.length&&at[1]=="type"?te+(Et+"="+be+"&"):te+(Et+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+m+`
`+v+`
`+te})}function Us(u,m,v,E,F,$,te){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+m+`
`+v+`
`+$+" "+te})}function Rn(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ch(u,v)+(E?" "+E:"")})}function ha(u,m){u.info(function(){return"TIMEOUT: "+m})}Bi.prototype.info=function(){};function ch(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<F.length;te++)F[te]=""}}}}return sa(v)}catch{return m}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Hi(){}B(Hi,Ui),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Pn=new Hi;function kn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}var da={},Bs={};function $s(u,m,v){u.L=1,u.v=Xr(on(m)),u.m=v,u.P=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),We(u),u.A=on(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Jr(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Ol,u.g=Jl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Fi(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ra[0]=F.toString()),F=ra);for(var $=0;$<F.length;$++){var te=Jo(v,F[$],E||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),gr(),$i(u.i,u.u,u.A,u.l,u.R,u.m)}kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Xt(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Xt(this.g);var m=this.g.Ba();const gn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||at!=4||m==7||(m==8||0>=gn?gr(3):gr(2)),Wi(this);var v=this.g.Z();this.X=v;t:if(Vl(this)){var E=_a(this.g);u="";var F=E.length,$=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),qr(this);var te="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!($&&m==F-1)});E.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,Us(this.i,this.u,this.A,this.l,this.R,at,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ft=this.g;if((ze=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ze)){var be=ze;break t}}be=null}if(v=be)Rn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,v);else{this.o=!1,this.s=3,rt(12),pn(this),qr(this);break e}}if(this.P){v=!0;let ln;for(;!this.J&&this.C<te.length;)if(ln=hh(this,te),ln==Bs){at==4&&(this.s=4,rt(14),v=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==da){this.s=4,rt(15),Rn(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Rn(this.i,this.l,ln,null),pa(this,ln);if(Vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||te.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)Rn(this.i,this.l,te,"[Invalid Chunked Response]"),pn(this),qr(this);else if(0<te.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ea(Et),Et.M=!0,rt(11))}}else Rn(this.i,this.l,te,null),pa(this,te);at==4&&pn(this),this.o&&!this.J&&(at==4?eo(this.j,this):(this.o=!1,We(this)))}else Qs(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),pn(this),qr(this)}}}catch{}finally{}};function Vl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hh(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Bs:(v=Number(m.substring(v,E)),isNaN(v)?da:(E+=1,E+v>m.length?Bs:(m=m.slice(E,E+v),u.C=E+v,m)))}kn.prototype.cancel=function(){this.J=!0,pn(this)};function We(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Cn(S(u.ba,u),m)}function Wi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ha(this.i,this.A),this.L!=2&&(gr(),rt(17)),pn(this),this.s=2,qr(this)):Ll(this,this.S-u)};function qr(u){u.j.G==0||u.J||eo(u.j,u)}function pn(u){Wi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ia(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function pa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Zs(v),On(v);else break e;Js(v),rt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Cn(S(v.Za,v),6e3));if(1>=Fl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Er(v,11)}else if((u.K||v.g==u)&&Zs(v),!Z(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let be=F[m];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const Et=be[3];Et!=null&&(v.la=Et,v.j.info("VER="+v.la));const at=be[4];at!=null&&(v.Aa=at,v.j.info("SVER="+v.Aa));const gn=be[5];gn!=null&&typeof gn=="number"&&0<gn&&(E=1.5*gn,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const ln=u.g;if(ln){const Ji=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var $=E.h;$.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ma($,$.h),$.h=null))}if(E.D){const no=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(E.ya=no,$e(E.I,E.D,no))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var te=u;if(E.qa=Yl(E,E.J?E.ia:null,E.W),te.K){jl(E.h,te);var ze=te,ft=E.L;ft&&(ze.I=ft),ze.B&&(Wi(ze),We(ze)),E.g=te}else Yi(E);0<v.i.length&&Qn(v)}else be[0]!="stop"&&be[0]!="close"||Er(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Er(v,7):Pt(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}gr(4)}catch{}}var Ml=class{constructor(u,m){this.g=u,this.map=m}};function qi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fl(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ma(u,m){u.g?u.g.add(m):u.h=m}function jl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qi.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ul(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return H(u.i)}function Hs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function Gr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ws(u),E=Hs(u),F=E.length,$=0;$<F;$++)m.call(void 0,E[$],v&&v[$],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),F=null;if(0<=E){var $=u[v].substring(0,E);F=u[v].substring(E+1)}else $=u[v];m($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,Ki(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,v=new qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Qr(this,v),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),Kr(this,m[4]),this.l=Ne(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,qs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Yr(v,v.charAt(0)=="/"?$l:Bl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Yr(v,ga)),u.join("")};function on(u){return new yr(u)}function Ki(u,m,v){u.j=v?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Qr(u,m,v){m instanceof qn?(u.i=m,Gn(u.i,u.h)):(v||(m=Yr(m,Hl)),u.i=new qn(m,u.h))}function $e(u,m,v){u.i.set(m,v)}function Xr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,zl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Bl=/[#\?:]/g,$l=/[#\?]/g,Hl=/[#\?@]/g,ga=/#/g;function qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&dh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=qn.prototype,n.add=function(u,m){Rt(this),this.i=null,u=mn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xn(u,m){Rt(u),m=mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nn(u,m){return Rt(u),m=mn(u,m),u.g.has(m)}n.forEach=function(u,m){Rt(this),this.g.forEach(function(v,E){v.forEach(function(F){u.call(m,F,E,this)},this)},this)},n.na=function(){Rt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const F=u[E];for(let $=0;$<F.length;$++)v.push(m[E])}return v},n.V=function(u){Rt(this);let m=[];if(typeof u=="string")Nn(this,u)&&(m=m.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Rt(this),this.i=null,u=mn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Jr(u,m,v){xn(u,m),0<v.length&&(u.i=null,u.g.set(mn(u,m),H(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const $=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var F=$;te[E]!==""&&(F+="="+encodeURIComponent(String(te[E]))),u.push(F)}}return this.i=u.join("&")};function mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gn(u,m){m&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(v,E){var F=E.toLowerCase();E!=F&&(xn(this,E),Jr(this,F,v))},u)),u.j=m}function fh(u,m){const v=new Bi;if(f.Image){const E=new Image;E.onload=L(Qt,v,"TestLoadImage: loaded",!0,m,E),E.onerror=L(Qt,v,"TestLoadImage: error",!1,m,E),E.onabort=L(Qt,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=L(Qt,v,"TestLoadImage: timeout",!1,m,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Wl(u,m){const v=new Bi,E=new AbortController,F=setTimeout(()=>{E.abort(),Qt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?Qt(v,"TestPingServer: ok",!0,m):Qt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Qt(v,"TestPingServer: error",!1,m)})}function Qt(u,m,v,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(v)}catch{}}function ph(){this.g=new aa}function ql(u,m,v){const E=v||"";try{Gr(u,function(F,$){let te=F;y(F)&&(te=sa(F)),m.push(E+$+"="+encodeURIComponent(te))})}catch(F){throw m.push(E+"type="+encodeURIComponent("_badmap")),F}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}B(vr,Ui),vr.prototype.g=function(){return new Qi(this.l,this.j)},vr.prototype.i=(function(u){return function(){return u}})({});function Qi(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Qi,ht),n=Qi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Dn(this):bn(this),this.readyState==3&&Gl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Dn(this))},n.Qa=function(u){this.g&&(this.response=u,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _r(u){let m="";return fe(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Zr(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=_r(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):$e(u,m,v))}function Xe(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Xe,ht);var mh=/^https?$/i,ya=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ls(this.o):Ls(Pn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){Xi(this,$);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)v.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())v.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ya,m,void 0))||E||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of v)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Xi(this,$)}};function Xi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),an(u)}function Gs(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),an(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},n.bb=function(){va(this)};function va(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)na(u.Ea,0,u);else if(dt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=te===0){var F=String(u.D).match(Gi)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),E=!mh.test(F?F.toLowerCase():"")}v=E}if(v)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var $=2<Xt(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Gs(u)}}finally{an(u)}}}}function an(u,m){if(u.g){Ks(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||dt(u,"ready");try{v.onreadystatechange=E}catch{}}}function Ks(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),oa(m)}};function _a(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(u){const m={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Z(u[E]))continue;var v=b(u[E]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=m[F]||[];m[F]=$,$.push(v)}P(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function wa(u){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,u),this.cb=Kn("retryDelaySeedMs",1e4,u),this.Wa=Kn("forwardChannelMaxRetries",2,u),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(u&&u.concurrentRequestLimit),this.Da=new ph,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,E){rt(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=Yl(this,null,this.W),Qn(this)};function Pt(u){if(Xs(u),u.G==3){var m=u.U++,v=on(u.I);if($e(v,"SID",u.K),$e(v,"RID",m),$e(v,"TYPE","terminate"),wr(u,v),m=new kn(u,u.j,m),m.L=2,m.v=Xr(on(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}Xl(u)}function On(u){u.g&&(Ea(u),u.g.cancel(),u.g=null)}function Xs(u){On(u),u.u&&(f.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Qn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||le(),ie||(Be(),ie=!0),ge.add(m,u),u.B=0}}function gh(u,m){return Fl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Cn(S(u.Ga,u,m),Ql(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new kn(this,this.j,u);let $=this.o;if(this.S&&($?($=I($),x($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ei(this,F,m),v=on(this.I),$e(v,"RID",u),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),wr(this,v),$&&(this.O?m="headers="+encodeURIComponent(String(_r($)))+"&"+m:this.m&&Zr(v,this.m,$)),ma(this.h,F),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",m),$e(v,"SID","null"),F.T=!0,$s(F,v,null)):$s(F,v,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||sn(this.h)||Ys(this))};function Ys(u,m){var v;m?v=m.l:v=u.U++;const E=on(u.I);$e(E,"SID",u.K),$e(E,"RID",v),$e(E,"AID",u.T),wr(u,E),u.m&&u.o&&Zr(E,u.m,u.o),v=new kn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ei(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ma(u.h,v),$s(v,E,m)}function wr(u,m){u.H&&fe(u.H,function(v,E){$e(m,E,v)}),u.l&&Gr({},function(v,E){$e(m,E,v)})}function ei(u,m,v){v=Math.min(u.i.length,v);var E=u.l?S(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const te=["count="+v];$==-1?0<v?($=F[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let ze=!0;for(let ft=0;ft<v;ft++){let be=F[ft].g;const Et=F[ft].map;if(be-=$,0>be)$=Math.max(0,F[ft].g-100),ze=!1;else try{ql(Et,te,"req"+be+"_")}catch{E&&E(Et)}}if(ze){E=te.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function Yi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||le(),ie||(Be(),ie=!0),ge.add(m,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Cn(S(u.Fa,u),Ql(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Cn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),On(this),Kl(this))};function Ea(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),wr(u,m),u.m&&u.o&&Zr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Xr(on(m)),v.m=null,v.P=!0,fa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,On(this),Js(this),rt(19))};function Zs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function eo(u,m){var v=null;if(u.g==m){Zs(u),Ea(u),u.g=null;var E=2}else if(Ht(u.h,m))v=m.D,jl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;E=zi(),dt(E,new js(E,v)),Qn(u)}else Yi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(E==1&&gh(u,m)||E==2&&Js(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function Ql(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Er(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),E=u.Xa;const F=!E;E=new yr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ki(E,"https"),Xr(E),F?fh(E.toString(),v):Wl(E.toString(),v)}else rt(2);u.G=0,u.l&&u.l.sa(m),Xl(u),Xs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Xl(u){if(u.G=0,u.ka=[],u.l){const m=Ul(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function Yl(u,m,v){var E=v instanceof yr?on(v):new yr(v);if(E.g!="")m&&(E.g=m+"."+E.g),Kr(E,E.s);else{var F=f.location;E=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var $=new yr(null);E&&Ki($,E),m&&($.g=m),F&&Kr($,F),v&&($.l=v),E=$}return v=u.D,m=u.ya,v&&m&&$e(E,v,m),$e(E,"VER",u.la),wr(u,E),E}function Jl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new vr({eb:v})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}n=Ta.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){ht.call(this),this.g=new wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}B(Wt,ht),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Pt(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=sa(u),u=v);m.i.push(new Ml(m.Ya++,u)),m.G==3&&Qn(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Wt.aa.N.call(this)};function Zl(u){Hn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}B(Zl,Hn);function eu(){Fs.call(this),this.status=1}B(eu,Fs);function Xn(u){this.g=u}B(Xn,Ta),Xn.prototype.ua=function(){dt(this.g,"a")},Xn.prototype.ta=function(u){dt(this.g,new Zl(u))},Xn.prototype.sa=function(u){dt(this.g,new eu)},Xn.prototype.ra=function(){dt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,C0=function(){return new to},A0=function(){return zi()},S0=Wn,Sf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,uc=zs,bl.COMPLETE="complete",I0=bl,Ms.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ka=Ms,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,T0=Xe}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",ov="4.8.0";class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");let Ko="11.10.0";const As=new Xf("@firebase/firestore");function Ao(){return As.logLevel}function ae(n,...e){if(As.logLevel<=ke.DEBUG){const t=e.map(up);As.debug(`Firestore (${Ko}): ${n}`,...t)}}function zr(n,...e){if(As.logLevel<=ke.ERROR){const t=e.map(up);As.error(`Firestore (${Ko}): ${n}`,...t)}}function Pi(n,...e){if(As.logLevel<=ke.WARN){const t=e.map(up);As.warn(`Firestore (${Ko}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,R0(n,i,t)}function R0(n,e,t){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zr(i),new Error(i)}function je(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||R0(e,o,i)}function Se(n,e){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends $r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class P0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class OR{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ci,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ci)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(je(typeof i.accessToken=="string",31837,{l:i}),new P0(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class VR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new VR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new av(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function k0(){return new TextEncoder}class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=FR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ce(n,e){return n<e?-1:n>e?1:0}function Af(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Ce(i,o);{const l=k0(),h=jR(l.encode(lv(n,t)),l.encode(lv(e,t)));return h!==0?h:Ce(i,o)}}t+=i>65535?2:1}return Ce(n.length,e.length)}function lv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function jR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ce(n[t],e[t]);return Ce(n.length,e.length)}function Mo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}const uv="__name__";class nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=nr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ce(e.length,t.length)}static compareSegments(e,t){const i=nr.isNumericId(e),o=nr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?nr.extractNumericId(e).compare(nr.extractNumericId(t)):Af(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class et extends nr{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const UR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends nr{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return UR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new bt([uv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(et.fromString(e))}static fromName(e){return new _e(et.fromString(e).popFirst(5))}static empty(){return new _e(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new et(e.slice()))}}function zR(n,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BR(n,e,t,i){if(e===!0&&i===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cv(n){if(!_e.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function fl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ct(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rl(n,e){if(!x0(n))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}const hv=-62135596800,dv=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*dv);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hv)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rl(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:ct("string",Qe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Qe(0,0))}static max(){return new Ie(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const pl=-1;function $R(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new ki(o,_e.empty(),e)}function HR(n){return new ki(n.readTime,n.key,pl)}class ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ki(Ie.min(),_e.empty(),pl)}static max(){return new ki(Ie.max(),_e.empty(),pl)}}function WR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==qR)throw n;ae("LocalStore","Unexpectedly lost primary lease")}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):q.reject(t)}static resolve(e){return new q(((t,i)=>{t(e)}))}static reject(e){return new q(((t,i)=>{i(e)}))}static waitFor(e){return new q(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(p=>i(p)))})),h=!0,l===o&&t()}))}static or(e){let t=q.resolve(!1);for(const i of e)t=t.next((o=>o?q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new q(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((w=>{h[y]=w,++f,f===l&&i(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function KR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xo(n){return n.name==="IndexedDbTransactionError"}class Jc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Jc.ue=-1;const dp=-1;function Zc(n){return n==null}function Nc(n){return n===0&&1/n==-1/0}function QR(n){return typeof n=="number"&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const N0="";function XR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fv(e)),e=YR(n.get(t),e);return fv(e)}function YR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case N0:t+="";break;default:t+=l}}return t}function fv(n){return n+N0+""}function pv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function D0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new yt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class b0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new b0("Invalid base64 string: "+l):l}})(e);return new Ot(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(je(!!n,39018),typeof n=="string"){let e=0;const t=JR.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}const O0="server_timestamp",V0="__type__",L0="__previous_value__",M0="__local_write_time__";function fp(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[V0])===null||t===void 0?void 0:t.stringValue)===O0}function eh(n){const e=n.mapValue.fields[L0];return fp(e)?eh(e):e}function ml(n){const e=xi(n.mapValue.fields[M0].timestampValue);return new Qe(e.seconds,e.nanos)}class ZR{constructor(e,t,i,o,l,h,f,p,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const Dc="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||Dc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}const F0="__type__",eP="__max__",tc={mapValue:{}},j0="__vector__",bc="value";function Di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fp(n)?4:nP(n)?9007199254740991:tP(n)?10:11:we(28295,{value:n})}function cr(n,e){if(n===e)return!0;const t=Di(n);if(t!==Di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=xi(o.timestampValue),f=xi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Ni(o.bytesValue).isEqual(Ni(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return st(o.geoPointValue.latitude)===st(l.geoPointValue.latitude)&&st(o.geoPointValue.longitude)===st(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return st(o.integerValue)===st(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=st(o.doubleValue),f=st(l.doubleValue);return h===f?Nc(h)===Nc(f):isNaN(h)&&isNaN(f)}return!1})(n,e);case 9:return Mo(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(pv(h)!==pv(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!cr(h[p],f[p])))return!1;return!0})(n,e);default:return we(52216,{left:n})}}function yl(n,e){return(n.values||[]).find((t=>cr(t,e)))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Di(n),i=Di(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=st(l.integerValue||l.doubleValue),p=st(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return gv(n.timestampValue,e.timestampValue);case 4:return gv(ml(n),ml(e));case 5:return Af(n.stringValue,e.stringValue);case 6:return(function(l,h){const f=Ni(l),p=Ni(h);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=Ce(f[y],p[y]);if(w!==0)return w}return Ce(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ce(st(l.latitude),st(h.latitude));return f!==0?f:Ce(st(l.longitude),st(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return yv(n.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,p,y,w;const T=l.fields||{},S=h.fields||{},L=(f=T[bc])===null||f===void 0?void 0:f.arrayValue,B=(p=S[bc])===null||p===void 0?void 0:p.arrayValue,H=Ce(((y=L?.values)===null||y===void 0?void 0:y.length)||0,((w=B?.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:yv(L,B)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===tc.mapValue&&h===tc.mapValue)return 0;if(l===tc.mapValue)return 1;if(h===tc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=Af(p[T],w[T]);if(S!==0)return S;const L=Fo(f[p[T]],y[w[T]]);if(L!==0)return L}return Ce(p.length,w.length)})(n.mapValue,e.mapValue);default:throw we(23264,{le:t})}}function gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=xi(n),i=xi(e),o=Ce(t.seconds,i.seconds);return o!==0?o:Ce(t.nanos,i.nanos)}function yv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Fo(t[o],i[o]);if(l)return l}return Ce(t.length,i.length)}function jo(n){return Cf(n)}function Cf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=xi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ni(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Cf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${Cf(t.fields[h])}`;return o+"}"})(n.mapValue):we(61005,{value:n})}function cc(n){switch(Di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eh(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+cc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Rs(i.fields,((l,h)=>{o+=l.length+cc(h)})),o})(n.mapValue);default:throw we(13486,{value:n})}}function Rf(n){return!!n&&"integerValue"in n}function pp(n){return!!n&&"arrayValue"in n}function vv(n){return!!n&&"nullValue"in n}function _v(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function tP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||t===void 0?void 0:t.stringValue)===j0}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=tl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eP}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=tl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Rs(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new In(tl(this.value))}}function U0(n){const e=[];return Rs(n.fields,((t,i)=>{const o=new bt([t]);if(hc(i)){const l=U0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new $n(e)}class Bt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Bt(e,0,Ie.min(),Ie.min(),Ie.min(),In.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ie.min(),Ie.min(),In.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ie.min(),Ie.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,t){this.position=e,this.inclusive=t}}function wv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=Fo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ev(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class z0{}class gt extends z0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sP(e,t,i):t==="array-contains"?new lP(e,i):t==="in"?new uP(e,i):t==="not-in"?new cP(e,i):t==="array-contains-any"?new hP(e,i):new gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new oP(e,i):new aP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fo(t,this.value)):t!==null&&Di(this.value)===Di(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends z0{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new hr(e,t)}matches(e){return B0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function B0(n){return n.op==="and"}function $0(n){return iP(n)&&B0(n)}function iP(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function Pf(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+jo(n.value);if($0(n))return n.filters.map((e=>Pf(e))).join(",");{const e=n.filters.map((t=>Pf(t))).join(",");return`${n.op}(${e})`}}function H0(n,e){return n instanceof gt?(function(i,o){return o instanceof gt&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)})(n,e):n instanceof hr?(function(i,o){return o instanceof hr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&H0(h,o.filters[f])),!0):!1})(n,e):void we(19439)}function W0(n){return n instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(W0).join(" ,")+"}"})(n):"Filter"}class sP extends gt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class oP extends gt{constructor(e,t){super(e,"in",t),this.keys=q0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aP extends gt{constructor(e,t){super(e,"not-in",t),this.keys=q0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function q0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>_e.fromName(i.referenceValue)))}class lP extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pp(t)&&yl(t.arrayValue,this.value)}}class uP extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class cP extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yl(this.value.arrayValue,t)}}class hP extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>yl(this.value.arrayValue,i)))}}class dP{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Pe=null}}function Tv(n,e=null,t=[],i=[],o=null,l=null,h=null){return new dP(n,e,t,i,o,l,h)}function mp(n){const e=Se(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Pf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>jo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>jo(i))).join(",")),e.Pe=t}return e.Pe}function gp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ev(n.startAt,e.startAt)&&Ev(n.endAt,e.endAt)}function kf(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class th{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function fP(n,e,t,i,o,l,h,f){return new th(n,e,t,i,o,l,h,f)}function yp(n){return new th(n)}function Iv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pP(n){return n.collectionGroup!==null}function nl(n){const e=Se(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new yt(bt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Vc(l,i))})),t.has(bt.keyField().canonicalString())||e.Te.push(new Vc(bt.keyField(),i))}return e.Te}function or(n){const e=Se(n);return e.Ie||(e.Ie=mP(e,nl(n))),e.Ie}function mP(n,e){if(n.limitType==="F")return Tv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Vc(o.field,l)}));const t=n.endAt?new Oc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Oc(n.startAt.position,n.startAt.inclusive):null;return Tv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function xf(n,e,t){return new th(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nh(n,e){return gp(or(n),or(e))&&n.limitType===e.limitType}function G0(n){return`${mp(or(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>W0(o))).join(", ")}]`),Zc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>jo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>jo(o))).join(",")),`Target(${i})`})(or(n))}; limitType=${n.limitType})`}function rh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of nl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,p){const y=wv(h,f,p);return h.inclusive?y<=0:y<0})(i.startAt,nl(i),o)||i.endAt&&!(function(h,f,p){const y=wv(h,f,p);return h.inclusive?y>=0:y>0})(i.endAt,nl(i),o))})(n,e)}function gP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K0(n){return(e,t)=>{let i=!1;for(const o of nl(n)){const l=yP(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function yP(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Fo(p,y):we(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return D0(this.inner)}size(){return this.innerSize}}const vP=new tt(_e.comparator);function Br(){return vP}const Q0=new tt(_e.comparator);function Qa(...n){let e=Q0;for(const t of n)e=e.insert(t.key,t);return e}function X0(n){let e=Q0;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ys(){return rl()}function Y0(){return rl()}function rl(){return new Ps((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _P=new tt(_e.comparator),wP=new yt(_e.comparator);function xe(...n){let e=wP;for(const t of n)e=e.add(t);return e}const EP=new yt(Ce);function TP(){return EP}function vp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function J0(n){return{integerValue:""+n}}function IP(n,e){return QR(e)?J0(e):vp(n,e)}class ih{constructor(){this._=void 0}}function SP(n,e,t){return n instanceof Lc?(function(o,l){const h={fields:{[V0]:{stringValue:O0},[M0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&fp(l)&&(l=eh(l)),l&&(h.fields[L0]=l),{mapValue:h}})(t,e):n instanceof vl?ew(n,e):n instanceof _l?tw(n,e):(function(o,l){const h=Z0(o,l),f=Sv(h)+Sv(o.Ee);return Rf(h)&&Rf(o.Ee)?J0(f):vp(o.serializer,f)})(n,e)}function AP(n,e,t){return n instanceof vl?ew(n,e):n instanceof _l?tw(n,e):t}function Z0(n,e){return n instanceof Mc?(function(i){return Rf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Lc extends ih{}class vl extends ih{constructor(e){super(),this.elements=e}}function ew(n,e){const t=nw(e);for(const i of n.elements)t.some((o=>cr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class _l extends ih{constructor(e){super(),this.elements=e}}function tw(n,e){let t=nw(e);for(const i of n.elements)t=t.filter((o=>!cr(o,i)));return{arrayValue:{values:t}}}class Mc extends ih{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Sv(n){return st(n.integerValue||n.doubleValue)}function nw(n){return pp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CP(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof vl&&o instanceof vl||i instanceof _l&&o instanceof _l?Mo(i.elements,o.elements,cr):i instanceof Mc&&o instanceof Mc?cr(i.Ee,o.Ee):i instanceof Lc&&o instanceof Lc})(n.transform,e.transform)}class RP{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sh{}function rw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sw(n.key,Lr.none()):new Pl(n.key,n.data,Lr.none());{const t=n.data,i=In.empty();let o=new yt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new ks(n.key,i,new $n(o.toArray()),Lr.none())}}function PP(n,e,t){n instanceof Pl?(function(o,l,h){const f=o.value.clone(),p=Cv(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ks?(function(o,l,h){if(!dc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Cv(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(iw(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function il(n,e,t,i){return n instanceof Pl?(function(l,h,f,p){if(!dc(l.precondition,h))return f;const y=l.value.clone(),w=Rv(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof ks?(function(l,h,f,p){if(!dc(l.precondition,h))return f;const y=Rv(l.fieldTransforms,p,h),w=h.data;return w.setAll(iw(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,i):(function(l,h,f){return dc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(n,e,t)}function kP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Z0(i.transform,o||null);l!=null&&(t===null&&(t=In.empty()),t.set(i.field,l))}return t||null}function Av(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Mo(i,o,((l,h)=>CP(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pl extends sh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends sh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Cv(n,e,t){const i=new Map;je(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,AP(h,f,t[o]))}return i}function Rv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,SP(l,h,e))}return i}class sw extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xP extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&PP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Y0();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=rw(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,((t,i)=>Av(t,i)))&&Mo(this.baseMutations,e.baseMutations,((t,i)=>Av(t,i)))}}class _p{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){je(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=(function(){return _P})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new _p(e,t,i,o)}}class DP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bP{constructor(e,t){this.count=e,this.unchangedNames=t}}var ut,Oe;function OP(n){switch(n){case X.OK:return we(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function ow(n){if(n===void 0)return zr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ut.OK:return X.OK;case ut.CANCELLED:return X.CANCELLED;case ut.UNKNOWN:return X.UNKNOWN;case ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ut.INTERNAL:return X.INTERNAL;case ut.UNAVAILABLE:return X.UNAVAILABLE;case ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ut.NOT_FOUND:return X.NOT_FOUND;case ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ut.ABORTED:return X.ABORTED;case ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ut.DATA_LOSS:return X.DATA_LOSS;default:return we(39323,{code:n})}}(Oe=ut||(ut={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";const VP=new Ai([4294967295,4294967295],0);function Pv(n){const e=k0().encode(n),t=new E0;return t.update(e),new Uint8Array(t.digest())}function kv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ai([t,i],0),new Ai([o,l],0)]}class wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Xa(`Invalid padding: ${t}`);if(i<0)throw new Xa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ai.fromNumber(this.fe)}pe(e,t,i){let o=e.add(t.multiply(Ai.fromNumber(i)));return o.compare(VP)===1&&(o=new Ai([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Pv(e),[i,o]=kv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new wp(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const t=Pv(e),[i,o]=kv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new oh(Ie.min(),o,new tt(Ce),Br(),xe())}}class kl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kl(i,t,xe(),xe(),xe())}}class fc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=o}}class aw{constructor(e,t){this.targetId=e,this.De=t}}class lw{constructor(e,t,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class xv{constructor(){this.ve=0,this.Ce=Nv(),this.Fe=Ot.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),t=xe(),i=xe();return this.Ce.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:we(38017,{changeType:l})}})),new kl(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Nv()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class LP{constructor(e){this.We=e,this.Ge=new Map,this.ze=Br(),this.je=nc(),this.Je=nc(),this.He=new tt(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,i=e.De.count,o=this.st(t);if(o){const l=o.target;if(kf(l))if(i===0){const h=new _e(l.path);this.Xe(t,h,Bt.newNoDocument(h,Ie.min()))}else je(i===1,20013,{expectedCount:i});else{const h=this.ot(t);if(h!==i){const f=this._t(e),p=f?this.ut(f,e,h):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ni(i).toUint8Array()}catch(p){if(p instanceof b0)return Pi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new wp(h,o,l)}catch(p){return Pi(p instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((l,h)=>{const f=this.st(h);if(f){if(l.current&&kf(f.target)){const p=new _e(f.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Bt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}}));let i=xe();this.Je.forEach(((l,h)=>{let f=!0;h.forEachWhile((p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.ze.forEach(((l,h)=>h.setReadTime(e)));const o=new oh(e,t,this.He,this.ze,i);return this.ze=Br(),this.je=nc(),this.Je=nc(),this.He=new tt(Ce),o}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new xv,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new yt(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new yt(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new xv),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function nc(){return new tt(_e.comparator)}function Nv(){return new tt(_e.comparator)}const MP={asc:"ASCENDING",desc:"DESCENDING"},FP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jP={and:"AND",or:"OR"};class UP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nf(n,e){return n.useProto3Json||Zc(e)?e:{value:e}}function Fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zP(n,e){return Fc(n,e.toTimestamp())}function ar(n){return je(!!n,49232),Ie.fromTimestamp((function(t){const i=xi(t);return new Qe(i.seconds,i.nanos)})(n))}function Ep(n,e){return Df(n,e).canonicalString()}function Df(n,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function cw(n){const e=et.fromString(n);return je(mw(e),10190,{key:e.toString()}),e}function bf(n,e){return Ep(n.databaseId,e.path)}function tf(n,e){const t=cw(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(dw(t))}function hw(n,e){return Ep(n.databaseId,e)}function BP(n){const e=cw(n);return e.length===4?et.emptyPath():dw(e)}function Of(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dw(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Dv(n,e,t){return{name:bf(n,e),fields:t.value.mapValue.fields}}function $P(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(je(w===void 0||typeof w=="string",58123),Ot.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ot.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const w=y.code===void 0?X.UNKNOWN:ow(y.code);return new pe(w,y.message||"")})(h);t=new lw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=tf(n,i.document.name),l=ar(i.document.updateTime),h=i.document.createTime?ar(i.document.createTime):Ie.min(),f=new In({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,l,h,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new fc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=tf(n,i.document),l=i.readTime?ar(i.readTime):Ie.min(),h=Bt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new fc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=tf(n,i.document),l=i.removedTargetIds||[];t=new fc([],l,o,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new bP(o,l),f=i.targetId;t=new aw(f,h)}}return t}function HP(n,e){let t;if(e instanceof Pl)t={update:Dv(n,e.key,e.value)};else if(e instanceof sw)t={delete:bf(n,e.key)};else if(e instanceof ks)t={update:Dv(n,e.key,e.data),updateMask:ZP(e.fieldMask)};else{if(!(e instanceof xP))return we(16599,{Rt:e.type});t={verify:bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Lc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _l)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mc)return{fieldPath:h.field.canonicalString(),increment:f.Ee};throw we(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:zP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(n,e.precondition)),t}function WP(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?ar(o.updateTime):ar(l);return h.isEqual(Ie.min())&&(h=ar(l)),new RP(h,o.transformResults||[])})(t,e)))):[]}function qP(n,e){return{documents:[hw(n,e.path)]}}function GP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=hw(n,o);const l=(function(y){if(y.length!==0)return pw(hr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:Ro(S.field),direction:XP(S.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Nf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:t,parent:o}}function KP(n){let e=BP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){je(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const S=fw(T);return S instanceof hr&&$0(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((S=>(function(B){return new Vc(Po(B.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let S;return S=typeof T=="object"?T.value:T,Zc(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,L=T.values||[];return new Oc(L,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,L=T.values||[];return new Oc(L,S)})(t.endAt)),fP(e,o,h,l,f,"F",p,y)}function QP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(t.unaryFilter.field);return gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Po(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gt.create(Po(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map((i=>fw(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(n):we(30097,{filter:n})}function XP(n){return MP[n]}function YP(n){return FP[n]}function JP(n){return jP[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Po(n){return bt.fromServerFormat(n.fieldPath)}function pw(n){return n instanceof gt?(function(t){if(t.op==="=="){if(_v(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(vv(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_v(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(vv(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:YP(t.op),value:t.value}}})(n):n instanceof hr?(function(t){const i=t.getFilters().map((o=>pw(o)));return i.length===1?i[0]:{compositeFilter:{op:JP(t.op),filters:i}}})(n):we(54877,{filter:n})}function ZP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function mw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class wi{constructor(e,t,i,o,l=Ie.min(),h=Ie.min(),f=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ek{constructor(e){this.gt=e}}function tk(n){const e=KP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xf(e,e.limit,"L"):e}class nk{constructor(){this.Dn=new rk}addToCollectionParentIndex(e,t){return this.Dn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ki.min())}updateCollectionGroup(e,t,i){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new yt(et.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new yt(et.comparator)).toArray()}}const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gw=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(gw,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Uo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uo(0)}static ur(){return new Uo(-1)}}const Ov="LruGarbageCollector",ik=1048576;function Vv([n,e],[t,i]){const o=Ce(n,t);return o===0?Ce(e,i):o}class sk{constructor(e){this.Tr=e,this.buffer=new yt(Vv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Vv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ok{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(Ov,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xo(t)?ae(Ov,"Ignoring IndexedDB error during garbage collection: ",t):await Qo(t)}await this.Rr(3e5)}))}}class ak{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return q.resolve(Jc.ue);const i=new sk(t);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(bv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,o,l,h,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(y=Date.now(),Ao()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function lk(n,e){return new ak(n,e)}class uk{constructor(){this.changes=new Ps((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ck{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&il(i.mutation,o,$n.empty(),Qe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,xe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=xe()){const o=ys();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Qa();return l.forEach(((f,p)=>{h=h.insert(f,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ys();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,xe())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Br();const h=rl(),f=(function(){return rl()})();return t.forEach(((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof ks)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),il(w.mutation,y,w.mutation.getFieldMask(),Qe.now())):h.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>{var T;return f.set(y,new ck(w,(T=h.get(y))!==null&&T!==void 0?T:null))})),f)))}recalculateAndSaveOverlays(e,t){const i=rl();let o=new tt(((h,f)=>h-f)),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||$n.empty();w=f.applyToLocalView(y,w),i.set(p,w);const T=(o.get(f.batchId)||xe()).add(p);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,T=Y0();w.forEach((S=>{if(!l.has(S)){const L=rw(t.get(S),i.get(S));L!==null&&T.set(S,L),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return q.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):q.resolve(ys());let f=pl,p=l;return h.next((y=>q.forEach(y,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{p=p.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,xe()))).next((w=>({batchId:f,changes:X0(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let o=Qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Qa();return this.indexManager.getCollectionParents(e,l).next((f=>q.forEach(f,(p=>{const y=(function(T,S){return new th(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Bt.newInvalidDocument(w)))}));let f=Qa();return h.forEach(((p,y)=>{const w=l.get(p);w!==void 0&&il(w.mutation,y,$n.empty(),Qe.now()),rh(t,y)&&(f=f.insert(p,y))})),f}))}}class dk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}})(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:tk(o.bundledQuery),readTime:ar(o.readTime)}})(t)),q.resolve()}}class fk{constructor(){this.overlays=new tt(_e.comparator),this.kr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ys();return q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.wt(e,t,l)})),q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(i)),q.resolve()}getOverlaysForCollection(e,t,i){const o=ys(),l=t.length+1,h=new _e(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new tt(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=ys(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=ys(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>f.set(y,w))),!(f.size()>=o)););return q.resolve(f)}wt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new DP(t,i));let l=this.kr.get(t);l===void 0&&(l=xe(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}class pk{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}class Tp{constructor(){this.qr=new yt(At.Qr),this.$r=new yt(At.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new At(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new At(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new _e(new et([])),i=new At(t,e),o=new At(t,e+1),l=[];return this.$r.forEachInRange([i,o],(h=>{this.Wr(h),l.push(h.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new et([])),i=new At(t,e),o=new At(t,e+1);let l=xe();return this.$r.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new At(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}class mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new yt(At.Qr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new NP(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Yr=this.Yr.add(new At(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return q.resolve(h)}lookupMutationBatch(e,t){return q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?dp:this.er-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,o],(h=>{const f=this.Zr(h.Hr);l.push(f)})),q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(Ce);return t.forEach((o=>{const l=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],(f=>{i=i.add(f.Hr)}))})),q.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const h=new At(new _e(l),0);let f=new yt(Ce);return this.Yr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Hr)),!0)}),h),q.resolve(this.ei(f))}ei(e){const t=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){je(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return q.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new At(t,0),o=this.Yr.firstAfterOrEqual(i);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gk{constructor(e){this.ni=e,this.docs=(function(){return new tt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return q.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))})),q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Br();const h=t.path,f=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||WR(HR(w),i)<=0||(o.has(w.key)||rh(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){we(9500)}ri(e,t){return q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new yk(this)}getSize(e){return q.resolve(this.size)}}class yk extends uk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)})),q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class vk{constructor(e){this.persistence=e,this.ii=new Ps((t=>mp(t)),gp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Tp,this.targetCount=0,this._i=Uo.ar()}forEachTarget(e,t){return this.ii.forEach(((i,o)=>t(o))),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),q.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.hr(t),q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),q.waitFor(l).next((()=>o))}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return q.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),q.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return q.resolve(i)}containsKey(e,t){return q.resolve(this.oi.containsKey(t))}}class yw{constructor(e,t){this.ai={},this.overlays={},this.ui=new Jc(0),this.ci=!1,this.ci=!0,this.li=new pk,this.referenceDelegate=e(this),this.hi=new vk(this),this.indexManager=new nk,this.remoteDocumentCache=(function(o){return new gk(o)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new ek(t),this.Ti=new dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new mk(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new _k(this.ui.next());return this.referenceDelegate.Ii(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return q.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class _k extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Ai=new Tp,this.Ri=null}static Vi(e){return new Ip(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),q.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.mi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.mi,(i=>{const o=_e.fromPath(i);return this.fi(e,o).next((l=>{l||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return q.or([()=>q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jc{constructor(e,t){this.persistence=e,this.gi=new Ps((i=>XR(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=lk(this,t)}static Vi(e,t){return new jc(e,t)}Ii(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return q.forEach(this.gi,((i,o)=>this.Sr(e,i,o).next((l=>l?q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Ie.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),q.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}Sr(e,t,i){return q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=o}static Es(e,t){let i=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Sp(e,t.fromCache,i,o)}}class wk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ek{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return d1()?8:KR($t())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ps(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ys(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new wk;return this.ws(e,t,h).next((f=>{if(l.result=f,this.Rs)return this.Ss(e,t,h,f.size)}))})).next((()=>l.result))}Ss(e,t,i,o){return i.documentReadCount<this.Vs?(Ao()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),q.resolve()):(Ao()<=ke.DEBUG&&ae("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(Ao()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):q.resolve())}ps(e,t){if(Iv(t))return q.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=xf(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=xe(...l);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.bs(t,f);return this.Ds(t,y,h,p.readTime)?this.ps(e,xf(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ys(e,t,i,o){return Iv(t)||o.isEqual(Ie.min())?q.resolve(null):this.gs.getDocuments(e,i).next((l=>{const h=this.bs(t,l);return this.Ds(t,h,i,o)?q.resolve(null):(Ao()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.vs(e,h,t,$R(o,pl)).next((f=>f)))}))}bs(e,t){let i=new yt(K0(e));return t.forEach(((o,l)=>{rh(e,l)&&(i=i.add(l))})),i}Ds(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,i){return Ao()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Co(t)),this.gs.getDocumentsMatchingQuery(e,t,ki.min(),i)}vs(e,t,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}const Ap="LocalStore",Tk=3e8;class Ik{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new tt(Ce),this.Ms=new Ps((l=>mp(l)),gp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Sk(n,e,t,i){return new Ik(n,e,t,i)}async function vw(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let p=xe();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Bs:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function Ak(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,w){const T=y.batch,S=T.keys();let L=q.resolve();return S.forEach((B=>{L=L.next((()=>w.getEntry(p,B))).next((H=>{const O=y.docVersions.get(B);je(O!==null,48541),H.version.compareTo(O)<0&&(T.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),w.addEntry(H)))}))})),L.next((()=>f.mutationQueue.removeMutationBatch(p,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function _w(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function Ck(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const f=[];e.targetChanges.forEach(((w,T)=>{const S=o.get(T);if(!S)return;f.push(t.hi.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.hi.addMatchingKeys(l,w.addedDocuments,T))));let L=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Ot.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,i)),o=o.insert(T,L),(function(H,O,J){return H.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=Tk?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(S,L,w)&&f.push(t.hi.updateTargetData(l,L))}));let p=Br(),y=xe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(Rk(l,h,e.documentUpdates).next((w=>{p=w.Ls,y=w.ks}))),!i.isEqual(Ie.min())){const w=t.hi.getLastRemoteSnapshotVersion(l).next((T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return q.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Fs=o,l)))}function Rk(n,e,t){let i=xe(),o=xe();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let h=Br();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae(Ap,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function Pk(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=dp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function kk(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.hi.getTargetData(i,e).next((l=>l?(o=l,q.resolve(o)):t.hi.allocateTargetId(i).next((h=>(o=new wi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function Vf(n,e,t){const i=Se(n),o=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Xo(h))throw h;ae(Ap,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function Lv(n,e,t){const i=Se(n);let o=Ie.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,w){const T=Se(p),S=T.Ms.get(w);return S!==void 0?q.resolve(T.Fs.get(S)):T.hi.getTargetData(y,w)})(i,h,or(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,f.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:xe()))).next((f=>(xk(i,gP(e),f),{documents:f,qs:l})))))}function xk(n,e,t){let i=n.xs.get(e)||Ie.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.xs.set(e,i)}class Mv{constructor(){this.activeTargetIds=TP()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nk{constructor(){this.Fo=new Mv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Mv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dk{xo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class jv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rc=null;function Lf(){return rc===null?rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():rc++,"0x"+rc.toString(16)}const nf="RestConnection",bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ok{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===Dc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const h=Lf(),f=this.Go(e,t.toUriEncodedString());ae(nf,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:y}=new URL(f),w=Wo(y);return this.jo(e,f,p,i,w).then((T=>(ae(nf,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Pi(nf,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",i),T}))}Jo(e,t,i,o,l,h){return this.Wo(e,t,i,o,l)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}Go(e,t){const i=bk[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}class Vk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const jt="WebChannelConnection";class Lk extends Ok{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,o,l){const h=Lf();return new Promise(((f,p)=>{const y=new T0;y.setWithCredentials(!0),y.listenOnce(I0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case uc.NO_ERROR:const T=y.getResponseJson();ae(jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case uc.TIMEOUT:ae(jt,`RPC '${e}' ${h} timed out`),p(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const S=y.getStatus();if(ae(jt,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const H=(function(J){const Z=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Z)>=0?Z:X.UNKNOWN})(B.status);p(new pe(H,B.message))}else p(new pe(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new pe(X.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ae(jt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);ae(jt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,i,15)}))}P_(e,t,i){const o=Lf(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=C0(),f=A0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");ae(jt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);this.T_(T);let S=!1,L=!1;const B=new Vk({Ho:O=>{L?ae(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(S||(ae(jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(jt,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Yo:()=>T.close()}),H=(O,J,Z)=>{O.listen(J,(W=>{try{Z(W)}catch(re){setTimeout((()=>{throw re}),0)}}))};return H(T,Ka.EventType.OPEN,(()=>{L||(ae(jt,`RPC '${e}' stream ${o} transport opened.`),B.s_())})),H(T,Ka.EventType.CLOSE,(()=>{L||(L=!0,ae(jt,`RPC '${e}' stream ${o} transport closed`),B.__(),this.I_(T))})),H(T,Ka.EventType.ERROR,(O=>{L||(L=!0,Pi(jt,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),B.__(new pe(X.UNAVAILABLE,"The operation could not be completed")))})),H(T,Ka.EventType.MESSAGE,(O=>{var J;if(!L){const Z=O.data[0];je(!!Z,16349);const W=Z,re=W?.error||((J=W[0])===null||J===void 0?void 0:J.error);if(re){ae(jt,`RPC '${e}' stream ${o} received error:`,re);const oe=re.status;let fe=(function(C){const x=ut[C];if(x!==void 0)return ow(x)})(oe),P=re.message;fe===void 0&&(fe=X.INTERNAL,P="Unknown error status: "+oe+" with message "+re.message),L=!0,B.__(new pe(fe,P)),T.close()}else ae(jt,`RPC '${e}' stream ${o} received:`,Z),B.a_(Z)}})),H(f,S0.STAT_EVENT,(O=>{O.stat===Sf.PROXY?ae(jt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Sf.NOPROXY&&ae(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.o_()}),0),B}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function rf(){return typeof document<"u"?document:null}function ah(n){return new UP(n,!0)}class ww{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Uv="PersistentStream";class Ew{constructor(e,t,i,o,l,h,f,p){this.Fi=e,this.w_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ww(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.b_===t&&this.W_(i,o)}),(i=>{e((()=>{const o=new pe(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{i((()=>this.G_(o)))})),this.stream.onMessage((o=>{i((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ae(Uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(ae(Uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mk extends Ew{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=$P(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?ar(h.readTime):Ie.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Of(this.serializer),t.addTarget=(function(l,h){let f;const p=h.target;if(f=kf(p)?{documents:qP(l,p)}:{query:GP(l,p).Vt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=uw(l,h.resumeToken);const y=Nf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Fc(l,h.snapshotVersion.toTimestamp());const y=Nf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=QP(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Of(this.serializer),t.removeTarget=e,this.k_(t)}}class Fk extends Ew{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=WP(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Of(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>HP(this.serializer,i)))};this.k_(t)}}class jk{}class Uk extends jk{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Wo(e,Df(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(X.UNKNOWN,l.toString())}))}Jo(e,t,i,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,Df(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(X.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zr(t),this._a=!1):ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Cs="RemoteStore";class Bk{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((h=>{i.enqueueAndForget((async()=>{xs(this)&&(ae(Cs,"Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.Ia.add(4),await xl(y),y.Aa.set("Unknown"),y.Ia.delete(4),await lh(y)})(this))}))})),this.Aa=new zk(i,o)}}async function lh(n){if(xs(n))for(const e of n.da)await e(!0)}async function xl(n){for(const e of n.da)await e(!1)}function Tw(n,e){const t=Se(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),kp(t)?Pp(t):Yo(t).x_()&&Rp(t,e))}function Cp(n,e){const t=Se(n),i=Yo(t);t.Ta.delete(e),i.x_()&&Iw(t,e),t.Ta.size===0&&(i.x_()?i.B_():xs(t)&&t.Aa.set("Unknown"))}function Rp(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(n).H_(e)}function Iw(n,e){n.Ra.$e(e),Yo(n).Y_(e)}function Pp(n){n.Ra=new LP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Yo(n).start(),n.Aa.aa()}function kp(n){return xs(n)&&!Yo(n).M_()&&n.Ta.size>0}function xs(n){return Se(n).Ia.size===0}function Sw(n){n.Ra=void 0}async function $k(n){n.Aa.set("Online")}async function Hk(n){n.Ta.forEach(((e,t)=>{Rp(n,e)}))}async function Wk(n,e){Sw(n),kp(n)?(n.Aa.la(e),Pp(n)):n.Aa.set("Unknown")}async function qk(n,e,t){if(n.Aa.set("Online"),e instanceof lw&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ta.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ta.delete(f),o.Ra.removeTarget(f))})(n,e)}catch(i){ae(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uc(n,i)}else if(e instanceof fc?n.Ra.Ye(e):e instanceof aw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ie.min()))try{const i=await _w(n.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Ra.Pt(h);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.Ta.get(y);w&&l.Ta.set(y,w.withResumeToken(p.resumeToken,h))}})),f.targetMismatches.forEach(((p,y)=>{const w=l.Ta.get(p);if(!w)return;l.Ta.set(p,w.withResumeToken(Ot.EMPTY_BYTE_STRING,w.snapshotVersion)),Iw(l,p);const T=new wi(w.target,p,y,w.sequenceNumber);Rp(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){ae(Cs,"Failed to raise snapshot:",i),await Uc(n,i)}}async function Uc(n,e,t){if(!Xo(e))throw e;n.Ia.add(1),await xl(n),n.Aa.set("Offline"),t||(t=()=>_w(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ae(Cs,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await lh(n)}))}function Aw(n,e){return e().catch((t=>Uc(n,t,e)))}async function uh(n){const e=Se(n),t=bi(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dp;for(;Gk(e);)try{const o=await Pk(e.localStore,i);if(o===null){e.Pa.length===0&&t.B_();break}i=o.batchId,Kk(e,o)}catch(o){await Uc(e,o)}Cw(e)&&Rw(e)}function Gk(n){return xs(n)&&n.Pa.length<10}function Kk(n,e){n.Pa.push(e);const t=bi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Cw(n){return xs(n)&&!bi(n).M_()&&n.Pa.length>0}function Rw(n){bi(n).start()}async function Qk(n){bi(n).na()}async function Xk(n){const e=bi(n);for(const t of n.Pa)e.X_(t.mutations)}async function Yk(n,e,t){const i=n.Pa.shift(),o=_p.from(i,e,t);await Aw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await uh(n)}async function Jk(n,e){e&&bi(n).Z_&&await(async function(i,o){if((function(h){return OP(h)&&h!==X.ABORTED})(o.code)){const l=i.Pa.shift();bi(i).N_(),await Aw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await uh(i)}})(n,e),Cw(n)&&Rw(n)}async function zv(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ae(Cs,"RemoteStore received new credentials");const i=xs(t);t.Ia.add(3),await xl(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await lh(t)}async function Zk(n,e){const t=Se(n);e?(t.Ia.delete(2),await lh(t)):e||(t.Ia.add(2),await xl(t),t.Aa.set("Unknown"))}function Yo(n){return n.Va||(n.Va=(function(t,i,o){const l=Se(t);return l.ia(),new Mk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:$k.bind(null,n),e_:Hk.bind(null,n),n_:Wk.bind(null,n),J_:qk.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),kp(n)?Pp(n):n.Aa.set("Unknown")):(await n.Va.stop(),Sw(n))}))),n.Va}function bi(n){return n.ma||(n.ma=(function(t,i,o){const l=Se(t);return l.ia(),new Fk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Qk.bind(null,n),n_:Jk.bind(null,n),ea:Xk.bind(null,n),ta:Yk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await uh(n)):(await n.ma.stop(),n.Pa.length>0&&(ae(Cs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}class xp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new xp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Xo(n))return new pe(X.UNAVAILABLE,`${e}: ${n}`);throw n}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Qa(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Bv{constructor(){this.fa=new tt(_e.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):we(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class zo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new zo(e,t,bo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class ex{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class tx{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=$v(),l.forEach(((h,f)=>{for(const p of f.wa)p.onError(i)}))})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function $v(){return new Ps((n=>G0(n)),nh)}async function nx(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(i=2):(l=new ex,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Np(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Dp(t)}async function rx(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ix(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.wa)f.Ca(o)&&(i=!0);h.ya=o}}i&&Dp(t)}function sx(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.wa)l.onError(t);i.queries.delete(e)}function Dp(n){n.Da.forEach((e=>{e.next()}))}var Mf,Hv;(Hv=Mf||(Mf={})).Fa="default",Hv.Cache="cache";class ox{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Mf.Cache}}class Pw{constructor(e){this.key=e}}class kw{constructor(e){this.key=e}}class ax{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=K0(e),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new Bv,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const S=o.get(w),L=rh(this.query,T)?T:null,B=!!S&&this.mutatedKeys.has(S.key),H=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let O=!1;S&&L?S.data.isEqual(L.data)?B!==H&&(i.track({type:3,doc:L}),O=!0):this.iu(S,L)||(i.track({type:2,doc:L}),O=!0,(p&&this.Xa(L,p)>0||y&&this.Xa(L,y)<0)&&(f=!0)):!S&&L?(i.track({type:0,doc:L}),O=!0):S&&!L&&(i.track({type:1,doc:S}),O=!0,(p||y)&&(f=!0)),O&&(L?(h=h.add(L),l=H?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{eu:h,ru:i,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((w,T)=>(function(L,B){const H=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:O})}};return H(L)-H(B)})(w.type,T.type)||this.Xa(w.doc,T.doc))),this.su(i),o=o!=null&&o;const f=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,h.length!==0||y?{snapshot:new zo(this.query,e.eu,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Bv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xe(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new kw(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new Pw(i))})),t}uu(e){this.Ha=e.qs,this.Za=xe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return zo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const bp="SyncEngine";class lx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ux{constructor(e){this.key=e,this.lu=!1}}class cx{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ps((f=>G0(f)),nh),this.Tu=new Map,this.Iu=new Set,this.du=new tt(_e.comparator),this.Eu=new Map,this.Au=new Tp,this.Ru={},this.Vu=new Map,this.mu=Uo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function hx(n,e,t=!0){const i=Vw(n);let o;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await xw(i,e,t,!0),o}async function dx(n,e){const t=Vw(n);await xw(t,e,!0,!1)}async function xw(n,e,t,i){const o=await kk(n.localStore,or(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await fx(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&Tw(n.remoteStore,o),f}async function fx(n,e,t,i,o){n.gu=(T,S,L)=>(async function(H,O,J,Z){let W=O.view.nu(J);W.Ds&&(W=await Lv(H.localStore,O.query,!1).then((({documents:P})=>O.view.nu(P,W))));const re=Z&&Z.targetChanges.get(O.targetId),oe=Z&&Z.targetMismatches.get(O.targetId)!=null,fe=O.view.applyChanges(W,H.isPrimaryClient,re,oe);return qv(H,O.targetId,fe._u),fe.snapshot})(n,T,S,L);const l=await Lv(n.localStore,e,!0),h=new ax(e,l.qs),f=h.nu(l.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,p);qv(n,t,y._u);const w=new lx(e,t,h);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),y.snapshot}async function px(n,e,t){const i=Se(n),o=i.Pu.get(e),l=i.Tu.get(o.targetId);if(l.length>1)return i.Tu.set(o.targetId,l.filter((h=>!nh(h,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Vf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Cp(i.remoteStore,o.targetId),Ff(i,o.targetId)})).catch(Qo)):(Ff(i,o.targetId),await Vf(i.localStore,o.targetId,!0))}async function mx(n,e){const t=Se(n),i=t.Pu.get(e),o=t.Tu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cp(t.remoteStore,i.targetId))}async function gx(n,e,t){const i=Ix(n);try{const o=await(function(h,f){const p=Se(h),y=Qe.now(),w=f.reduce(((L,B)=>L.add(B.key)),xe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let B=Br(),H=xe();return p.Os.getEntries(L,w).next((O=>{B=O,B.forEach(((J,Z)=>{Z.isValidDocument()||(H=H.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,B))).next((O=>{T=O;const J=[];for(const Z of f){const W=kP(Z,T.get(Z.key).overlayedDocument);W!=null&&J.push(new ks(Z.key,W,U0(W.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,J,f)})).next((O=>{S=O;const J=O.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(L,O.batchId,J)}))})).then((()=>({batchId:S.batchId,changes:X0(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,p){let y=h.Ru[h.currentUser.toKey()];y||(y=new tt(Ce)),y=y.insert(f,p),h.Ru[h.currentUser.toKey()]=y})(i,o.batchId,t),await Nl(i,o.changes),await uh(i.remoteStore)}catch(o){const l=Np(o,"Failed to persist write");t.reject(l)}}async function Nw(n,e){const t=Se(n);try{const i=await Ck(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Eu.get(l);h&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?je(h.lu,14607):o.removedDocuments.size>0&&(je(h.lu,42227),h.lu=!1))})),await Nl(t,i,e)}catch(i){await Qo(i)}}function Wv(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Pu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach(((w,T)=>{for(const S of T.wa)S.va(f)&&(y=!0)})),y&&Dp(p)})(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function yx(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let h=new tt(_e.comparator);h=h.insert(l,Bt.newNoDocument(l,Ie.min()));const f=xe().add(l),p=new oh(Ie.min(),new Map,new tt(Ce),h,f);await Nw(i,p),i.du=i.du.remove(l),i.Eu.delete(e),Op(i)}else await Vf(i.localStore,e,!1).then((()=>Ff(i,e,t))).catch(Qo)}async function vx(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await Ak(t.localStore,e);bw(t,i,null),Dw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Nl(t,o)}catch(o){await Qo(o)}}async function _x(n,e,t){const i=Se(n);try{const o=await(function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next((T=>(je(T!==null,37113),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);bw(i,e,t),Dw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Nl(i,o)}catch(o){await Qo(o)}}function Dw(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function bw(n,e,t){const i=Se(n);let o=i.Ru[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function Ff(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||Ow(n,i)}))}function Ow(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Cp(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Op(n))}function qv(n,e,t){for(const i of t)i instanceof Pw?(n.Au.addReference(i.key,e),wx(n,i)):i instanceof kw?(ae(bp,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||Ow(n,i.key)):we(19791,{yu:i})}function wx(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(ae(bp,"New document in limbo: "+t),n.Iu.add(i),Op(n))}function Op(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new _e(et.fromString(e)),i=n.mu.next();n.Eu.set(i,new ux(t)),n.du=n.du.insert(t,i),Tw(n.remoteStore,new wi(or(yp(t.path)),i,"TargetPurposeLimboResolution",Jc.ue))}}async function Nl(n,e,t){const i=Se(n),o=[],l=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach(((f,p)=>{h.push(i.gu(p,e,t).then((y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t?.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Sp.Es(p.targetId,y);l.push(T)}})))})),await Promise.all(h),i.hu.J_(o),await(async function(p,y){const w=Se(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>q.forEach(y,(S=>q.forEach(S.Is,(L=>w.persistence.referenceDelegate.addReference(T,S.targetId,L))).next((()=>q.forEach(S.ds,(L=>w.persistence.referenceDelegate.removeReference(T,S.targetId,L)))))))))}catch(T){if(!Xo(T))throw T;ae(Ap,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const L=w.Fs.get(S),B=L.snapshotVersion,H=L.withLastLimboFreeSnapshotVersion(B);w.Fs=w.Fs.insert(S,H)}}})(i.localStore,l))}async function Ex(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ae(bp,"User change. New user:",e.toKey());const i=await vw(t.localStore,e);t.currentUser=e,(function(l,h){l.Vu.forEach((f=>{f.forEach((p=>{p.reject(new pe(X.CANCELLED,h))}))})),l.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nl(t,i.Bs)}}function Tx(n,e){const t=Se(n),i=t.Eu.get(e);if(i&&i.lu)return xe().add(i.key);{let o=xe();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const f=t.Pu.get(h);o=o.unionWith(f.view.tu)}return o}}function Vw(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yx.bind(null,e),e.hu.J_=ix.bind(null,e.eventManager),e.hu.pu=sx.bind(null,e.eventManager),e}function Ix(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_x.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Sk(this.persistence,new Ek,e.initialUser,this.serializer)}Du(e){return new yw(Ip.Vi,this.serializer)}bu(e){return new Nk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Sx extends zc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){je(this.persistence.referenceDelegate instanceof jc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ok(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new yw((i=>jc.Vi(i,t)),this.serializer)}}class jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,this.syncEngine),await Zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tx})()}createDatastore(e){const t=ah(e.databaseInfo.databaseId),i=(function(l){return new Lk(l)})(e.databaseInfo);return(function(l,h,f,p){return new Uk(l,h,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new Bk(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Wv(this.syncEngine,t,0)),(function(){return jv.C()?new jv:new Dk})())}createSyncEngine(e,t){return(function(o,l,h,f,p,y,w){const T=new cx(o,l,h,f,p,y);return w&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Se(o);ae(Cs,"RemoteStore shutting down."),l.Ia.add(5),await xl(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jf.provider={build:()=>new jf};class Ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Oi="FirestoreClient";class Cx{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{ae(Oi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ae(Oi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Np(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function sf(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Oi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await vw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>{Pi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Pi("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function Gv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Rx(n);ae(Oi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>zv(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>zv(e.remoteStore,o))),n._onlineComponents=e}async function Rx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Oi,"Using user provided OfflineComponentProvider");try{await sf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Pi("Error using user provided cache. Falling back to memory cache: "+t),await sf(n,new zc)}}else ae(Oi,"Using default OfflineComponentProvider"),await sf(n,new Sx(void 0));return n._offlineComponents}async function Lw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Oi,"Using user provided OnlineComponentProvider"),await Gv(n,n._uninitializedComponentsProvider._online)):(ae(Oi,"Using default OnlineComponentProvider"),await Gv(n,new jf))),n._onlineComponents}function Px(n){return Lw(n).then((e=>e.syncEngine))}async function kx(n){const e=await Lw(n),t=e.eventManager;return t.onListen=hx.bind(null,e.syncEngine),t.onUnlisten=px.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mx.bind(null,e.syncEngine),t}function xx(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,y){const w=new Ax({next:S=>{w.Ou(),h.enqueueAndForget((()=>rx(l,T)));const L=S.docs.has(f);!L&&S.fromCache?y.reject(new pe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&p&&p.source==="server"?y.reject(new pe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new ox(yp(f.path),w,{includeMetadataChanges:!0,ka:!0});return nx(l,T)})(await kx(n),n.asyncQueue,e,t,i))),i.promise}function Mw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Kv=new Map;const Fw="firestore.googleapis.com",Qv=!0;class Xv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fw,this.ssl=Qv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ik)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new DR;switch(i.type){case"firstParty":return new LR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Kv.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Kv.delete(t),i.terminate())})(this),Promise.resolve()}}function Nx(n,e,t,i={}){var o;n=fl(n,Vp);const l=Wo(e),h=n._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(L_(`https://${p}`),M_("Firestore",!0)),h.host!==Fw&&h.host!==p&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:i});if(!Ts(y,f)&&(n._setSettings(y),i.mockUserToken)){let w,T;if(typeof i.mockUserToken=="string")w=i.mockUserToken,T=zt.MOCK_USER;else{w=r1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new zt(S)}n._authCredentials=new bR(new P0(w,T))}}class Lp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Lp(this.firestore,e,this._query)}}class Ct{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Rl(t,Ct._jsonSchema))return new Ct(e,i||null,new _e(et.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:ct("string",Ct._jsonSchemaVersion),referencePath:ct("string")};class wl extends Lp{constructor(e,t,i){super(e,t,yp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new _e(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function jw(n,e,...t){if(n=An(n),arguments.length===1&&(e=cp.newId()),zR("doc","path",e),n instanceof Vp){const i=et.fromString(e,...t);return cv(i),new Ct(n,null,new _e(i))}{if(!(n instanceof Ct||n instanceof wl))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return cv(i),new Ct(n.firestore,n instanceof wl?n.converter:null,new _e(i))}}const Yv="AsyncQueue";class Jv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ww(this,"async_queue_retry"),this.oc=()=>{const i=rf();i&&ae(Yv,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=rf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=rf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Ci;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Xo(e))throw e;ae(Yv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,zr("INTERNAL UNHANDLED ERROR: ",Zv(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=xp.createAndSchedule(this,e,t,i,(l=>this.lc(l)));return this.ec.push(o),o}ac(){this.tc&&we(47125,{hc:Zv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Zv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Mp extends Vp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function Dx(n,e){const t=typeof n=="object"?n:z_(),i=typeof n=="string"?n:Dc,o=Jf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=t1("firestore");l&&Nx(o,...l)}return o}function Uw(n){if(n._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bx(n),n._firestoreClient}function bx(n){var e,t,i;const o=n._freezeSettings(),l=(function(f,p,y,w){return new ZR(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Mw(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Cx(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}})(n._componentsProvider))}class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Ot.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rl(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:ct("string",Sn._jsonSchemaVersion),bytes:ct("string")};class Fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zw{constructor(e){this._methodName=e}}class lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(Rl(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:ct("string",lr._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};class ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rl(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ur(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:ct("string",ur._jsonSchemaVersion),vectorValues:ct("object")};const Ox=/^__.*__$/;class Vx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)}}function Bw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:n})}}class jp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Bw(this.Ec)&&Ox.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Lx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ah(e)}Dc(e,t,i,o=!1){return new jp({Ec:e,methodName:t,bc:i,path:bt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mx(n){const e=n._freezeSettings(),t=ah(n._databaseId);return new Lx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fx(n,e,t,i,o,l={}){const h=n.Dc(l.merge||l.mergeFields?2:0,e,t,o);qw("Data must be an object, but it was:",h,i);const f=Hw(i,h);let p,y;if(l.merge)p=new $n(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=jx(e,T,t);if(!h.contains(S))throw new pe(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zx(w,S)||w.push(S)}p=new $n(w),y=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=h.fieldTransforms;return new Vx(new In(f),p,y)}function $w(n,e){if(Ww(n=An(n)))return qw("Unsupported field value:",e,n),Hw(n,e);if(n instanceof zw)return(function(i,o){if(!Bw(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let p=$w(f,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return IP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Qe.fromDate(i);return{timestampValue:Fc(o.serializer,l)}}if(i instanceof Qe){const l=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,l)}}if(i instanceof lr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sn)return{bytesValue:uw(o.serializer,i._byteString)};if(i instanceof Ct){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ep(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ur)return(function(h,f){return{mapValue:{fields:{[F0]:{stringValue:j0},[bc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.wc("VectorValues must only contain numeric values.");return vp(f.serializer,y)}))}}}}}})(i,o);throw o.wc(`Unsupported field value: ${hp(i)}`)})(n,e)}function Hw(n,e){const t={};return D0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,((i,o)=>{const l=$w(o,e.Vc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Ww(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof lr||n instanceof Sn||n instanceof Ct||n instanceof zw||n instanceof ur)}function qw(n,e,t){if(!Ww(t)||!x0(t)){const i=hp(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function jx(n,e,t){if((e=An(e))instanceof Fp)return e._internalPath;if(typeof e=="string")return Gw(n,e);throw Bc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ux=new RegExp("[~\\*/\\[\\]]");function Gw(n,e,t){if(e.search(Ux)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fp(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new pe(X.INVALID_ARGUMENT,f+n+p)}function zx(n,e){return n.some((t=>t.isEqual(e)))}class Kw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bx extends Kw{data(){return super.data()}}function Qw(n,e){return typeof e=="string"?Gw(n,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}class $x{convertValue(e,t="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Rs(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[bc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>st(h.doubleValue)));return new ur(l)}convertGeoPoint(e){return new lr(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=eh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=xi(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);je(mw(i),9688,{name:e});const o=new gl(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Hx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends Kw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_s._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:ct("string",_s._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class pc extends _s{data(e={}){return super.data(e)}}class sl{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ya(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new pc(this._firestore,this._userDataWriter,i.key,i,new Ya(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const p=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ya(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new pc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ya(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:Wx(f.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function qx(n){n=fl(n,Ct);const e=fl(n.firestore,Mp);return xx(Uw(e),n._key).then((t=>Xx(e,n,t)))}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:ct("string",sl._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Gx extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function Kx(n,e,t){n=fl(n,Ct);const i=fl(n.firestore,Mp),o=Hx(n.converter,e,t);return Qx(i,[Fx(Mx(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Lr.none())])}function Qx(n,e){return(function(i,o){const l=new Ci;return i.asyncQueue.enqueueAndForget((async()=>gx(await Px(i),o,l))),l.promise})(Uw(n),e)}function Xx(n,e,t){const i=t.docs.get(e._key),o=new Gx(n);return new _s(n,o,e._key,i,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ko=o})(qo),Vo(new Is("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Mp(new OR(i.getProvider("auth-internal")),new MR(h,i.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Si(sv,ov,e),Si(sv,ov,"esm2017")})();const Xw={apiKey:'"AIzaSyBYN6XJEAiw6eVIChByegk9xcGLWIA0C1E",',authDomain:'"dogger-a8021.firebaseapp.com",',projectId:'"dogger-a8021",',storageBucket:'"dogger-a8021.firebasestorage.app",',messagingSenderId:'"1014835520506",',appId:'"1:1014835520506:web:6dc75cbe987d1dc10a3a43",'};Xw.apiKey||console.warn("[Doggerz] Firebase API key missing. Check your .env.local (VITE_FIREBASE_API_KEY).");const Yw=U_(Xw),mc=xR(Yw);new Dr;new Nr;const Jw=Dx(Yw),Zw="dogs",Yx=C_("dog/loadDogFromCloud",async({uid:n},{dispatch:e,rejectWithValue:t})=>{try{if(!n)return t("Missing uid");const i=jw(Jw,Zw,n),o=await qx(i);if(!o.exists())return null;const l=o.data();return e(k_(l)),l}catch(i){return console.error("[Doggerz] Failed to load dog from cloud",i),t(i.message||"loadDogFromCloud failed")}}),Jx=C_("dog/saveDogToCloud",async({uid:n,dog:e},{rejectWithValue:t})=>{try{if(!n||!e)return t("Missing uid or dog");const i=jw(Jw,Zw,n);return await Kx(i,e,{merge:!0}),!0}catch(i){return console.error("[Doggerz] Failed to save dog to cloud",i),t(i.message||"saveDogToCloud failed")}});function Zx(){const n=zf(),e=Oo(P_);return ne.useEffect(()=>{if(typeof window>"u")return;const t=Date.now();try{const i=window.localStorage.getItem(Ay);if(i){const o=JSON.parse(i);n(k_({...o,lastUpdatedAt:o.lastUpdatedAt??t})),n(Ry({now:t}))}else n(ky()),n(Py({now:t}))}catch(i){console.warn("[Doggerz] Failed to read dog from localStorage",i),n(ky()),n(Py({now:t}))}},[n]),ne.useEffect(()=>{if(!e||typeof window>"u")return;try{window.localStorage.setItem(Ay,JSON.stringify(e))}catch(i){console.warn("[Doggerz] Failed to persist dog to localStorage",i)}const t=mc.currentUser;t&&n(Jx({uid:t.uid,dog:e}))},[e,n]),ne.useEffect(()=>{if(typeof window>"u")return;const t=window.setInterval(()=>{n(Ry({now:Date.now()}))},6e4);return()=>{window.clearInterval(t)}},[n]),ne.useEffect(()=>{const t=mc&&vC(mc,i=>{i&&n(Yx({uid:i.uid}))});return()=>{t&&t()}},[n]),null}function So({label:n,value:e=0,color:t="bg-emerald-500"}){const i=Math.max(0,Math.min(100,Number(e)||0));return N.jsxs("div",{className:"space-y-1",children:[N.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[N.jsx("span",{children:n}),N.jsxs("span",{children:[i.toFixed(0),"%"]})]}),N.jsx("div",{className:"h-2 rounded-full bg-zinc-800 overflow-hidden",children:N.jsx("div",{className:`h-full ${t}`,style:{width:`${i}%`}})})]})}function ps({label:n,value:e,tone:t="default"}){const i=t==="danger"?"bg-red-950/40 border-red-900 text-red-300":t==="warn"?"bg-amber-950/40 border-amber-900 text-amber-200":"bg-zinc-900/70 border-zinc-700 text-zinc-200";return N.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs ${i}`,children:[N.jsx("span",{className:"uppercase tracking-wide text-[0.65rem] text-zinc-400",children:n}),N.jsx("span",{className:"font-semibold",children:e})]})}function eN(n=0){const e=Math.floor(n/24),t=Math.floor(e/30),i=Math.floor(t/12),o=t%12;return i<=0?`${t}mo`:`${i}y ${o}mo`}function e_(){const n=zf(),e=Oo(P_),[t,i]=ne.useState(!1);if(!e)return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 text-zinc-50",children:N.jsx("p",{className:"text-zinc-400 text-sm",children:"Loading pup state"})});const{name:o="Pup",level:l=1,xp:h=0,coins:f=0,stats:p={},poopCount:y=0,pottyLevel:w=0,pottyTrainingProgress:T=0,isPottyTrained:S=!1,isAsleep:L=!1,ageHours:B=0,condition:H="clean",health:O=100,isAlive:J=!0,lifeStage:Z="puppy"}=e,{hunger:W=0,happiness:re=0,energy:oe=0,cleanliness:fe=0,thirst:P=0}=p,I=eN(B);let C="Clean",x="default";H==="dirty"?(C="Dirty",x="warn"):H==="fleas"?(C="Fleas",x="warn"):H==="mange"&&(C="Mange",x="danger");const b=O<30?"danger":O<60?"warn":"default",M=Math.round(T||0),R=S?"Potty trained":"In training";let Ue="Awake";J?L?Ue="Sleeping (recharging)":W<25?Ue="Hungry":fe<25?Ue="Needs a bath":re<25?Ue="Bored":P<25&&(Ue="Thirsty"):Ue="Has passed on";const vt=Z==="adult"?"Adult":Z==="senior"?"Senior":"Puppy";return N.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-zinc-950 text-zinc-50 flex flex-col",children:[N.jsx(Zx,{}),N.jsxs("header",{className:"border-b border-zinc-800 px-6 py-4 flex items-center justify-between",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-400",children:"Care dashboard"}),N.jsxs("p",{className:"text-sm text-zinc-500",children:["Keep ",o,"'s hunger, happiness, energy, and cleanliness up over real time."]})]}),N.jsx("div",{className:"flex flex-col items-end gap-2 text-sm",children:N.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[N.jsx(ps,{label:"Level",value:l}),N.jsx(ps,{label:"XP",value:Math.floor(h)}),N.jsx(ps,{label:"Age",value:I}),N.jsx(ps,{label:"Stage",value:vt}),N.jsx(ps,{label:"Condition",value:C,tone:x}),N.jsx(ps,{label:"Health",value:`${O.toFixed(0)}%`,tone:b})]})})]}),N.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row gap-8 px-6 py-6",children:[N.jsxs("section",{className:"flex-1 rounded-2xl border border-zinc-800 bg-gradient-to-b from-zinc-900/80 to-zinc-950 p-6 flex flex-col",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-400",children:"Pup"}),N.jsxs("p",{className:"text-xl font-semibold",children:[o," ",!J&&N.jsx("span",{className:"ml-2 text-xs text-red-400 uppercase tracking-wide",children:"Deceased"})]})]}),N.jsxs("div",{className:"flex flex-col items-end text-xs text-zinc-400",children:[N.jsxs("span",{children:["Poops in yard: ",y]}),N.jsxs("span",{children:["Potty trained: ",M,"%"]}),N.jsxs("span",{children:["Status: ",Ue]})]})]}),N.jsx("div",{className:"flex-1 flex items-center justify-center",children:N.jsx("div",{className:"h-40 w-40 rounded-full border border-zinc-700 bg-zinc-900 flex items-center justify-center",children:N.jsx("span",{className:"text-xs text-zinc-400 text-center px-4",children:"Dog sprite / yard scene goes here."})})}),N.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-3",children:[N.jsx("button",{type:"button",onClick:()=>n($S()),className:"rounded-xl bg-emerald-500 hover:bg-emerald-400 text-zinc-950 text-sm font-semibold py-2.5 px-4 transition disabled:opacity-40 disabled:cursor-not-allowed",disabled:!J,children:"Feed"}),N.jsx("button",{type:"button",onClick:()=>n(HS()),className:"rounded-xl bg-sky-500 hover:bg-sky-400 text-zinc-950 text-sm font-semibold py-2.5 px-4 transition disabled:opacity-40 disabled:cursor-not-allowed",disabled:!J,children:"Play"}),N.jsx("button",{type:"button",onClick:()=>n(WS()),className:"rounded-xl bg-amber-500 hover:bg-amber-400 text-zinc-950 text-sm font-semibold py-2.5 px-4 transition disabled:opacity-40 disabled:cursor-not-allowed",disabled:!J,children:"Bathe"})]})]}),N.jsxs("section",{className:"w-full lg:w-80 space-y-4",children:[N.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/70 p-5",children:[N.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-400 mb-3",children:"Pup needs"}),N.jsxs("div",{className:"space-y-3",children:[N.jsx(So,{label:"Hunger",value:W,color:"bg-emerald-500"}),N.jsx(So,{label:"Happiness",value:re,color:"bg-sky-500"}),N.jsx(So,{label:"Energy",value:oe,color:"bg-violet-500"}),N.jsx(So,{label:"Cleanliness",value:fe,color:"bg-amber-400"}),N.jsx(So,{label:"Thirst",value:P,color:"bg-cyan-400"})]})]}),N.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/70 p-5 space-y-3",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-400",children:"Potty training"}),N.jsx(ps,{label:"Badge",value:R,tone:S?"default":"warn"})]}),N.jsx(So,{label:"Progress",value:T,color:S?"bg-emerald-500":"bg-amber-400"}),N.jsx("p",{className:"text-[0.7rem] text-zinc-500",children:"Guide your pup to go outside when they really need to go. Each successful bathroom break raises this bar. At 100%, they earn a permanent potty-trained badge."})]}),N.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/70 p-4 text-xs text-zinc-400 space-y-2",children:[N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("p",{className:"font-semibold text-zinc-200 text-sm",children:"Need help?"}),N.jsx("button",{type:"button",onClick:()=>i(_t=>!_t),className:"rounded-full border border-zinc-600 px-3 py-1 text-[0.7rem] uppercase tracking-wide hover:border-emerald-400 hover:text-emerald-300 transition",children:t?"Hide tips":"Show tips"})]}),t&&N.jsxs("div",{className:"space-y-1.5 mt-1",children:[N.jsx("p",{children:" Feed periodically; don't let hunger drop too low."}),N.jsx("p",{children:" Play to keep happiness up, but watch energy."}),N.jsx("p",{children:" Your pup will curl up and sleep automatically when energy runs low, and slowly wake back up as they rest."}),N.jsx("p",{children:" Bathe before cleanliness falls too low to avoid fleas and mange."}),N.jsx("p",{children:" Help them go potty outside; good habits raise the potty training bar faster."})]})]})]})]})]})}function ic(n){const{mode:e}=n??{},t=Wc(),i=Oo(f=>f.user?.user??null),o=Oo(f=>!!f.dog?.createdAt),l=()=>{t(i&&o?"/game":i&&!o?"/adopt":"/signup")},h=e==="login"?"Log in to your Doggerz account":e==="signup"?"Create your Doggerz account":"Your virtual pup, always one tap away.";return N.jsx("div",{className:"flex-1 flex items-center justify-center px-6 py-10",children:N.jsxs("div",{className:"max-w-5xl w-full flex flex-col lg:flex-row items-start gap-12",children:[N.jsxs("section",{className:"flex-1",children:[N.jsx("p",{className:"text-[0.75rem] font-semibold tracking-[0.3em] text-emerald-400 uppercase mb-4",children:"Adopt. Care. Level up."}),N.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-black tracking-tight mb-6",children:e?N.jsx("span",{children:h}):N.jsxs(N.Fragment,{children:["Your ",N.jsx("span",{className:"text-emerald-400",children:"virtual pup"}),", always one tap away."]})}),!e&&N.jsx("p",{className:"text-sm sm:text-base text-zinc-300 max-w-xl mb-6",children:"Adopt your pup and take care of them over real time. Keep them fed, entertained, rested, and clean. How you treat your dog determines how long they live  no click-spamming, no idle mining."}),e&&N.jsx("p",{className:"text-sm text-zinc-300 max-w-xl mb-6",children:"Use the navigation above to sign in or sign up. Once youre in, you can adopt your first pup and jump into the yard."}),N.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[N.jsx("button",{type:"button",onClick:l,className:"rounded-full bg-emerald-500 hover:bg-emerald-400 text-zinc-950 text-sm font-semibold px-6 py-3 transition",children:i&&o?"Resume your pup":i?"Adopt your pup":"Get started"}),!e&&i&&N.jsxs("p",{className:"text-xs text-zinc-400",children:["Logged in as"," ",N.jsx("span",{className:"font-semibold",children:i.displayName||i.email}),"."," ",N.jsx("button",{type:"button",className:"text-emerald-400 hover:underline",onClick:()=>t("/game"),children:"Jump back into the yard."})]}),!e&&!i&&N.jsxs("p",{className:"text-xs text-zinc-400",children:["Already have an account?"," ",N.jsx(gi,{to:"/login",className:"text-emerald-400 hover:underline",children:"Log in"}),"."]})]})]}),N.jsx("aside",{className:"w-full lg:w-80",children:N.jsxs("div",{className:"rounded-3xl border border-zinc-800 bg-zinc-900/70 p-5",children:[N.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-zinc-400 mb-3",children:"How Doggerz works"}),N.jsxs("ul",{className:"space-y-2 text-xs text-zinc-300",children:[N.jsx("li",{children:" Your dog slowly ages even while you're logged out."}),N.jsx("li",{children:" Hunger, boredom, and dirtiness creep up over real hours, not button mashing."}),N.jsx("li",{children:" As cleanliness drops, your pup can go from dirty  fleas  mange."}),N.jsx("li",{children:" Taking good care of your pup extends their life."})]}),N.jsx("button",{type:"button",onClick:()=>t("/about"),className:"mt-4 text-xs font-semibold text-emerald-300 hover:text-emerald-200 hover:underline underline-offset-2",children:"Read the full guide "})]})})]})})}function tN(){return N.jsx("div",{className:"flex-1 px-6 py-10 flex justify-center",children:N.jsxs("div",{className:"max-w-3xl w-full space-y-6",children:[N.jsx("h1",{className:"text-3xl font-black tracking-tight mb-2",children:"How Doggerz works"}),N.jsx("p",{className:"text-sm text-zinc-300",children:"Doggerz is a real-time virtual pup simulator. Your dog doesn't freeze when you close the app  their stats drift based on actual time, even while you're away."}),N.jsxs("section",{className:"space-y-2 text-sm text-zinc-300",children:[N.jsx("h2",{className:"font-semibold text-zinc-100",children:"Core loop"}),N.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[N.jsx("li",{children:"Feed your pup so hunger doesn't crash."}),N.jsx("li",{children:"Play to keep happiness up (but watch energy)."}),N.jsx("li",{children:"Bathe regularly to avoid fleas and mange."}),N.jsx("li",{children:"They auto-sleep when exhausted; let them recharge."}),N.jsx("li",{children:"Take them potty outside to train them and avoid indoor accidents."})]})]}),N.jsxs("section",{className:"space-y-2 text-sm text-zinc-300",children:[N.jsx("h2",{className:"font-semibold text-zinc-100",children:"Aging & life"}),N.jsx("p",{children:"Time in Doggerz is accelerated: your dog ages faster than real time. With good care they can live a long, happy life. Ignoring them for days has consequences  hunger, poor cleanliness, and low health can eventually lead to death."})]}),N.jsxs("section",{className:"space-y-2 text-sm text-zinc-300",children:[N.jsx("h2",{className:"font-semibold text-zinc-100",children:"Potty training"}),N.jsx("p",{children:"Every successful potty trip outside raises their potty-training meter. Once it hits 100%, they earn a potty-trained badge and indoor accidents become rare."})]})]})})}function nN(){return N.jsx("div",{className:"flex-1 px-6 py-10 flex justify-center",children:N.jsxs("div",{className:"max-w-2xl w-full space-y-4",children:[N.jsx("h1",{className:"text-3xl font-black tracking-tight mb-2",children:"Contact"}),N.jsx("p",{className:"text-sm text-zinc-300",children:"Got feedback, bug reports, or feature ideas for Doggerz? Send them over."}),N.jsxs("p",{className:"text-sm text-zinc-300",children:["You can reach the developer at"," ",N.jsx("span",{className:"font-mono text-emerald-300",children:"catfishfishcat10101@gmail.com"})," ","or through your usual social channels."]}),N.jsx("p",{className:"text-xs text-zinc-500",children:"Please keep messages focused on the app and don't send sensitive personal information."})]})})}function rN(){return N.jsx("div",{className:"flex-1 px-6 py-10 flex justify-center",children:N.jsxs("div",{className:"max-w-3xl w-full space-y-8 text-sm text-zinc-300",children:[N.jsxs("header",{children:[N.jsx("h1",{className:"text-3xl font-black tracking-tight mb-2",children:"Legal, Terms & Privacy"}),N.jsxs("p",{className:"text-xs text-zinc-500",children:["Last updated: ",new Date().getFullYear()]})]}),N.jsxs("section",{className:"space-y-2",children:[N.jsx("h2",{className:"font-semibold text-zinc-100 text-base",children:"1. Terms of Service"}),N.jsx("p",{children:'Doggerz is provided "as is" for entertainment purposes. There is no guarantee of uptime, feature availability, or data retention. Game balance, progression rules, and rewards may change over time.'}),N.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[N.jsx("li",{children:"Don't abuse the service, attack security, or cheat in ways that impact other players."}),N.jsx("li",{children:"You're responsible for your own device, data usage, and connectivity."}),N.jsx("li",{children:"Accounts that violate these terms or basic community standards may be suspended."})]})]}),N.jsxs("section",{className:"space-y-2",children:[N.jsx("h2",{className:"font-semibold text-zinc-100 text-base",children:"2. Privacy & Data"}),N.jsx("p",{children:"Doggerz uses Firebase Authentication and related services to manage accounts and store game state. That means Google's infrastructure processes your basic account details (such as email, display name, and identifiers) and your save data."}),N.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[N.jsx("li",{children:"Account data is used to sign you in and link your pup to your profile."}),N.jsx("li",{children:"Game data (pup stats and progress) is stored so your dog persists across sessions and devices."}),N.jsx("li",{children:"Aggregated, anonymized analytics may be used to understand usage and improve the game."})]}),N.jsx("p",{children:"Doggerz does not intentionally collect sensitive personal info beyond what's needed for auth and gameplay. Avoid putting private data into pet names or free-text fields."})]}),N.jsxs("section",{className:"space-y-2",children:[N.jsx("h2",{className:"font-semibold text-zinc-100 text-base",children:"3. Third-party services"}),N.jsx("p",{children:"By using Doggerz you also agree to the terms and privacy policies of the underlying providers (e.g. Google, Firebase, app stores). Their data handling is outside this project's direct control."})]}),N.jsxs("section",{className:"space-y-2",children:[N.jsx("h2",{className:"font-semibold text-zinc-100 text-base",children:"4. Changes"}),N.jsx("p",{children:"These terms and this privacy summary may change as Doggerz evolves. Significant changes will be reflected here and in future release notes."})]}),N.jsx("p",{className:"text-xs text-zinc-500",children:"This is a high-level summary, not formal legal advice. For commercial release on app stores, you'd want a lawyer to review and adapt these terms for your specific situation."})]})})}function iN({children:n}){const e=Wc();zf();const t=Oo(o=>o.user?.user??null),i=async()=>{try{await _C(mc),e("/",{replace:!0})}catch(o){console.error("[Doggerz] Failed to log out",o)}};return N.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-50 flex flex-col",children:[N.jsxs("header",{className:"border-b border-zinc-800 bg-zinc-950/95 backdrop-blur flex items-center justify-between px-6 py-4",children:[N.jsxs("div",{className:"flex items-baseline gap-2 cursor-pointer",onClick:()=>e("/"),children:[N.jsx("span",{className:"text-2xl sm:text-3xl font-black tracking-tight",children:"Doggerz"}),N.jsx("span",{className:"text-xs sm:text-sm uppercase tracking-[0.25em] text-zinc-500",children:"virtual pup simulator"})]}),N.jsxs("nav",{className:"flex items-center gap-6 text-sm",children:[N.jsx(gi,{to:"/",className:"text-zinc-300 hover:text-emerald-400 transition",children:"Home"}),N.jsx(gi,{to:"/about",className:"text-zinc-300 hover:text-emerald-400 transition",children:"About"}),N.jsx(gi,{to:"/contact",className:"text-zinc-300 hover:text-emerald-400 transition",children:"Contact"}),N.jsx(gi,{to:"/legal",className:"text-zinc-300 hover:text-emerald-400 transition",children:"Legal"}),N.jsx("div",{className:"h-4 w-px bg-zinc-700 mx-1"}),t?N.jsxs(N.Fragment,{children:[N.jsxs("span",{className:"hidden sm:inline text-xs text-zinc-400",children:["Hi,"," ",N.jsx("span",{className:"font-semibold text-zinc-100",children:t.displayName||t.email})]}),N.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-zinc-600 px-3 py-1 text-xs font-semibold hover:border-emerald-400 hover:text-emerald-300 transition",children:"Log out"})]}):N.jsxs(N.Fragment,{children:[N.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-xs font-semibold text-zinc-300 hover:text-emerald-400 transition",children:"Log in"}),N.jsx("button",{type:"button",onClick:()=>e("/signup"),className:"rounded-full bg-emerald-500 hover:bg-emerald-400 text-zinc-950 text-xs font-semibold px-4 py-1.5 transition",children:"Sign up"})]})]})]}),N.jsx("main",{className:"flex-1 flex flex-col",children:n}),N.jsxs("footer",{className:"border-t border-zinc-800 bg-zinc-950 px-6 py-4 text-xs text-zinc-500 flex flex-col sm:flex-row items-center justify-between gap-2",children:[N.jsx("p",{children:"Doggerz  Created by William Johnson  2025. All rights reserved."}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx(gi,{to:"/about",className:"hover:text-emerald-400 transition underline-offset-2 hover:underline",children:"About"}),N.jsx(gi,{to:"/contact",className:"hover:text-emerald-400 transition underline-offset-2 hover:underline",children:"Contact"}),N.jsx(gi,{to:"/legal",className:"hover:text-emerald-400 transition underline-offset-2 hover:underline",children:"Terms & Privacy"})]})]})]})}function sN(){const n=Ho(),e=Oo(t=>t.user?.user??null);return N.jsx(iN,{children:N.jsxs(CI,{location:n,children:[N.jsx(tr,{path:"/",element:N.jsx(ic,{})}),N.jsx(tr,{path:"/login",element:N.jsx(ic,{mode:"login"})}),N.jsx(tr,{path:"/signup",element:N.jsx(ic,{mode:"signup"})}),N.jsx(tr,{path:"/adopt",element:e?N.jsx(e_,{}):N.jsx(cy,{to:"/signup"})}),N.jsx(tr,{path:"/game",element:e?N.jsx(e_,{}):N.jsx(cy,{to:"/login"})}),N.jsx(tr,{path:"/about",element:N.jsx(tN,{})}),N.jsx(tr,{path:"/contact",element:N.jsx(nN,{})}),N.jsx(tr,{path:"/legal",element:N.jsx(rN,{})}),N.jsx(tr,{path:"*",element:N.jsx(ic,{})})]})})}const oN=uS({reducer:{dog:qS}});fT.createRoot(document.getElementById("root")).render(N.jsx(n_.StrictMode,{children:N.jsx(xT,{store:oN,children:N.jsx(bI,{children:N.jsx(sN,{})})})}));
