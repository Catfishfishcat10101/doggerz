/* Core node */
.dog-sprite-container {
  /* We position this container at world X and bottom percent.
     The child centers itself via translateX(-50%). */
  pointer-events: none; /* allow the sprite itself to handle pointer interactions */
}

.dog-sprite {
  --sprite-w: 96px;
  --sprite-h: 96px;
  --sprite-scale: 1;
  --frames: 4;
  --speed-ms: 1200ms;
  --play: paused;
  --flipX: 1;

  position: relative;
  left: 0;
  transform: translateX(-50%) scaleX(var(--flipX)) scale(var(--sprite-scale));
  transform-origin: 50% 100%;

  width: var(--sprite-w);
  height: var(--sprite-h);

  background-image: none; /* set from inline style */
  background-repeat: no-repeat;
  background-size: calc(var(--sprite-w) * var(--frames)) var(--sprite-h);
  background-position: 0 0;

  /* crispy pixels for retro art */
  image-rendering: pixelated;
  image-rendering: crisp-edges;

  /* Interactive base (since we use a <button>) */
  appearance: none;
  border: 0;
  padding: 0;
  margin: 0;
  background-color: transparent;
  cursor: pointer;
  pointer-events: auto;

  /* Accessibility: visible focus without being garish */
  outline: none;
}
.dog-sprite:focus-visible {
  box-shadow:
    0 0 0 2px rgba(255,255,255,0.9),
    0 0 0 4px rgba(14,165,233,0.7); /* brand ring */
  border-radius: 10px;
}

/* Walking animation: step through columns horizontally */
.dog-sprite--walk {
  animation-name: dog-frames;
  animation-duration: var(--speed-ms);
  animation-timing-function: steps(var(--frames));
  animation-iteration-count: infinite;
  animation-play-state: var(--play);
}

/* Shadow */
.dog-sprite--shadow::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: 6px;
  transform: translateX(-50%);
  width: 62%;
  height: 18%;
  border-radius: 50%;
  background:
    radial-gradient(ellipse at center, rgba(0,0,0,0.35), rgba(0,0,0,0) 70%);
  filter: blur(2px);
  opacity: 0.35;
  pointer-events: none;
}
@media (min-width: 900px) {
  .dog-sprite--shadow::after {
    bottom: 8px;
  }
}

/* Interaction affordances */
.dog-sprite--interactive {
  transition: filter 150ms ease, transform 120ms ease;
}
.dog-sprite--interactive:active {
  transform:
    translateX(-50%) scaleX(var(--flipX))
    scale(calc(var(--sprite-scale) * 0.98));
  filter: brightness(1.05);
}

/* Keyframes: move the background position across frames */
@keyframes dog-frames {
  0%   { background-position: 0 0; }
  100% { background-position: calc(var(--sprite-w) * var(--frames) * -1) 0; }
}

/* Respect reduced motion: freeze walking animation but keep interaction */
@media (prefers-reduced-motion: reduce) {
  .dog-sprite--walk {
    animation: none !important;
  }
}

/* Optional: smaller shadow variant (you referenced this modifier in older CSS) */
.dog-sprite--shadow.dog-sprite--shadow--small::after {
  width: 40%;
  height: 10%;
  bottom: 4px;
  opacity: 0.25;
}
