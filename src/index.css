/* src/index.css */
@import "./styles.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Root layout */
html,
body,
#root {
  height: 100%;
}

body {
  margin: 0;
  font-family:
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
  background: var(--bg);
  color: var(--text-main);
  scroll-behavior: smooth;
}

/* App shell using the Doggerz layout helpers from styles.css */
.doggerz-shell {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* --- Realistic dog render --- */
.dog-realistic-root {
  /* keeps transforms smooth when micro-actions fire */
  will-change: transform;
}

.dog-idle {
  animation: dogIdleBreath 3.6s ease-in-out infinite;
  will-change: transform;
}

.dog-realistic-img {
  will-change: transform;
}

@keyframes dogIdleBreath {
  0% {
    transform: translateY(0px) scale(1);
  }
  50% {
    transform: translateY(2px) scale(1.01);
  }
  100% {
    transform: translateY(0px) scale(1);
  }
}

.dog-shadow {
  width: 64%;
  height: 16%;
  border-radius: 9999px;
  background: radial-gradient(
    ellipse at center,
    rgba(0, 0, 0, 0.45) 0%,
    rgba(0, 0, 0, 0.2) 35%,
    rgba(0, 0, 0, 0.06) 65%,
    rgba(0, 0, 0, 0) 75%
  );
  filter: blur(1px);
  animation: dogShadowPulse 3.6s ease-in-out infinite;
  will-change: transform, opacity;
}

@keyframes dogShadowPulse {
  0% {
    transform: translateX(-50%) scaleX(1);
    opacity: 0.72;
  }
  50% {
    transform: translateX(-50%) scaleX(0.96);
    opacity: 0.62;
  }
  100% {
    transform: translateX(-50%) scaleX(1);
    opacity: 0.72;
  }
}

/* Micro-actions (JS toggled classes) */
.dog-blink {
  animation: dogBlink 120ms ease-in-out 1;
}

@keyframes dogBlink {
  0% {
    transform: scaleY(1);
  }
  50% {
    transform: scaleY(0.92);
  }
  100% {
    transform: scaleY(1);
  }
}

.dog-twitch {
  animation: dogTwitch 280ms cubic-bezier(0.2, 0.9, 0.2, 1) 1;
}

@keyframes dogTwitch {
  0% {
    transform: rotate(0deg) translateY(0px);
  }
  40% {
    transform: rotate(-1.8deg) translateY(-1px);
  }
  75% {
    transform: rotate(1.2deg) translateY(0px);
  }
  100% {
    transform: rotate(0deg) translateY(0px);
  }
}

.dog-tilt {
  animation: dogTilt 720ms ease-in-out 1;
}

@keyframes dogTilt {
  0% {
    transform: rotate(0deg);
  }
  35% {
    transform: rotate(-2.5deg);
  }
  70% {
    transform: rotate(1.5deg);
  }
  100% {
    transform: rotate(0deg);
  }
}
.dog-idle {
  animation: dogIdleBreath 3.6s ease-in-out infinite;
  will-change: transform;
}

@keyframes dogIdleBreath {
  0%   { transform: translateY(0px) scale(1); }
  50%  { transform: translateY(2px) scale(1.01); }
  100% { transform: translateY(0px) scale(1); }
}

.dog-shadow {
  width: 64%;
  height: 16%;
  border-radius: 9999px;
  background: radial-gradient(ellipse at center,
    rgba(0,0,0,0.45) 0%,
    rgba(0,0,0,0.20) 35%,
    rgba(0,0,0,0.06) 65%,
    rgba(0,0,0,0.00) 75%
  );
  filter: blur(1px);
  animation: dogShadowPulse 3.6s ease-in-out infinite;
  will-change: transform, opacity;
}

@keyframes dogShadowPulse {
  0%   { transform: translateX(-50%) scaleX(1.00); opacity: 0.72; }
  50%  { transform: translateX(-50%) scaleX(0.96); opacity: 0.62; }
  100% { transform: translateX(-50%) scaleX(1.00); opacity: 0.72; }
}
