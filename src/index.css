@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------------------------------------
   Custom Doggerz components
------------------------------------------------ */
@layer components {

  /* üåÖ Container */
  .dog-container {
    @apply relative w-[200px] h-[200px] mx-auto overflow-hidden;
  }

  /* üåá Background layers */
  .dog-bg {
    @apply absolute w-full h-full object-cover top-0 left-0 transition-opacity duration-500;
  }
  .dog-bg.night { @apply opacity-0; }

  .dog-container[data-time="night"] .dog-bg.day   { @apply opacity-0; }
  .dog-container[data-time="night"] .dog-bg.night { @apply opacity-100; }

  /* üê∂ Sprite */
  .dog-sprite {
    @apply absolute bottom-0 left-0 w-[100px] h-[100px];
    background: url("/src/assets/sprites/jack_russell_directions.png") no-repeat 0 0 / contain;
    will-change: transform;
  }

  /* üö∂ Walk animation */
  .walking .dog-sprite {
    animation: dogWalk var(--walk-duration, 1s) var(--walk-ease, linear) infinite;
  }
}

/* ------------------------------------------------
   Keyframes
------------------------------------------------ */
@keyframes floatUp {
  0%   { transform: translateY(0); opacity: 0; }
  50%  { opacity: 1; }
  100% { transform: translateY(-40px); opacity: 0; }
}

.level-up {
  @apply text-yellow-300 font-bold text-lg;
  animation: floatUp 1.8s ease-in-out;
  pointer-events: none;
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
}

@layer utilities {
  @keyframes dogWalk {
    0%   { transform: translateX(0) scaleY(1); }
    25%  { transform: translateX(calc(var(--walk-distance)/2)) scaleY(1.05); }
    50%  { transform: translateX(var(--walk-distance))         scaleY(1); }
    75%  { transform: translateX(calc(var(--walk-distance)/2)) scaleY(0.95); }
    100% { transform: translateX(0)                            scaleY(1); }
  }
}